(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{1054:function(e,i,o){var n=o(3454);!function(e,i){let r;var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==o.g?o.g:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h={},d={get exports(){return h},set exports(t){h=t}},l=function(e){return e&&e.Math==Math&&e},c=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof s&&s)||function(){return this}()||Function("return this")(),u=function(e){try{return!!e()}catch(e){return!0}},f=!u(function(){var e=(function(){}).bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),p=Function.prototype,v=p.apply,g=p.call,y="object"==typeof Reflect&&Reflect.apply||(f?g.bind(v):function(){return g.apply(v,arguments)}),m=Function.prototype,b=m.call,w=f&&m.bind.bind(b,b),x=f?w:function(e){return function(){return b.apply(e,arguments)}},k=x({}.toString),_=x("".slice),E=function(e){return _(k(e),8,-1)},O=function(e){if("Function"===E(e))return x(e)},C="object"==typeof document&&document.all,S={all:C,IS_HTMLDDA:void 0===C&&void 0!==C},T=S.all,M=S.IS_HTMLDDA?function(e){return"function"==typeof e||e===T}:function(e){return"function"==typeof e},P={},D=!u(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),I=Function.prototype.call,B=f?I.bind(I):function(){return I.apply(I,arguments)},z={},F={}.propertyIsEnumerable,N=Object.getOwnPropertyDescriptor,A=N&&!F.call({1:2},1);z.f=A?function(e){var i=N(this,e);return!!i&&i.enumerable}:F;var R,j,L=function(e,i){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:i}},H=Object,W=x("".split),V=u(function(){return!H("z").propertyIsEnumerable(0)})?function(e){return"String"==E(e)?W(e,""):H(e)}:H,q=function(e){return null==e},U=TypeError,Y=function(e){if(q(e))throw U("Can't call method on "+e);return e},X=function(e){return V(Y(e))},G=S.all,K=S.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:M(e)||e===G}:function(e){return"object"==typeof e?null!==e:M(e)},$={},Z=function(e){return M(e)?e:void 0},Q=function(e,i){return arguments.length<2?Z($[e])||Z(c[e]):$[e]&&$[e][i]||c[e]&&c[e][i]},J=x({}.isPrototypeOf),tt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",te=c.process,ti=c.Deno,to=te&&te.versions||ti&&ti.version,tn=to&&to.v8;tn&&(j=(R=tn.split("."))[0]>0&&R[0]<4?1:+(R[0]+R[1])),!j&&tt&&(!(R=tt.match(/Edge\/(\d+)/))||R[1]>=74)&&(R=tt.match(/Chrome\/(\d+)/))&&(j=+R[1]);var tr=j,ts=!!Object.getOwnPropertySymbols&&!u(function(){var e=Symbol();return!String(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&tr&&tr<41}),ta=ts&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,th=Object,td=ta?function(e){return"symbol"==typeof e}:function(e){var i=Q("Symbol");return M(i)&&J(i.prototype,th(e))},tl=String,tc=function(e){try{return tl(e)}catch(e){return"Object"}},tu=TypeError,tf=function(e){if(M(e))return e;throw tu(tc(e)+" is not a function")},tp=function(e,i){var o=e[i];return q(o)?void 0:tf(o)},tv=TypeError,tg={},ty={get exports(){return tg},set exports(t){tg=t}},tm=c,tb=Object.defineProperty,tw="__core-js_shared__",tx=c[tw]||function(e,i){try{tb(tm,e,{value:i,configurable:!0,writable:!0})}catch(o){tm[e]=i}return i}(tw,{}),tk=tx;(ty.exports=function(e,i){return tk[e]||(tk[e]=void 0!==i?i:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var t_=Object,tE=function(e){return t_(Y(e))},tO=x({}.hasOwnProperty),tC=Object.hasOwn||function(e,i){return tO(tE(e),i)},tS=0,tT=Math.random(),tM=x(1..toString),tP=function(e){return"Symbol("+(void 0===e?"":e)+")_"+tM(++tS+tT,36)},tD=tg,tI=c.Symbol,tB=tD("wks"),tz=ta?tI.for||tI:tI&&tI.withoutSetter||tP,tF=function(e){return tC(tB,e)||(tB[e]=ts&&tC(tI,e)?tI[e]:tz("Symbol."+e)),tB[e]},tN=function(e,i){var o,n;if("string"===i&&M(o=e.toString)&&!K(n=B(o,e))||M(o=e.valueOf)&&!K(n=B(o,e))||"string"!==i&&M(o=e.toString)&&!K(n=B(o,e)))return n;throw tv("Can't convert object to primitive value")},tA=TypeError,tR=tF("toPrimitive"),tj=function(e,i){if(!K(e)||td(e))return e;var o,n=tp(e,tR);if(n){if(void 0===i&&(i="default"),!K(o=B(n,e,i))||td(o))return o;throw tA("Can't convert object to primitive value")}return void 0===i&&(i="number"),tN(e,i)},tL=function(e){var i=tj(e,"string");return td(i)?i:i+""},tH=c.document,tW=K(tH)&&K(tH.createElement),tV=function(e){return tW?tH.createElement(e):{}},tq=!D&&!u(function(){return 7!=Object.defineProperty(tV("div"),"a",{get:function(){return 7}}).a}),tU=Object.getOwnPropertyDescriptor;P.f=D?tU:function(e,i){if(e=X(e),i=tL(i),tq)try{return tU(e,i)}catch(e){}if(tC(e,i))return L(!B(z.f,e,i),e[i])};var tY=/#|\.prototype\./,tX=function(e,i){var o=tK[tG(e)];return o==tZ||o!=t$&&(M(i)?u(i):!!i)},tG=tX.normalize=function(e){return String(e).replace(tY,".").toLowerCase()},tK=tX.data={},t$=tX.NATIVE="N",tZ=tX.POLYFILL="P",tQ=O(O.bind),tJ=function(e,i){return tf(e),void 0===i?e:f?tQ(e,i):function(){return e.apply(i,arguments)}},t0={},t1=D&&u(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),t2=String,t5=TypeError,t3=function(e){if(K(e))return e;throw t5(t2(e)+" is not an object")},t4=TypeError,t6=Object.defineProperty,t9=Object.getOwnPropertyDescriptor,t8="enumerable",t7="configurable",et="writable";t0.f=D?t1?function(e,i,o){if(t3(e),i=tL(i),t3(o),"function"==typeof e&&"prototype"===i&&"value"in o&&et in o&&!o[et]){var n=t9(e,i);n&&n[et]&&(e[i]=o.value,o={configurable:t7 in o?o[t7]:n[t7],enumerable:t8 in o?o[t8]:n[t8],writable:!1})}return t6(e,i,o)}:t6:function(e,i,o){if(t3(e),i=tL(i),t3(o),tq)try{return t6(e,i,o)}catch(e){}if("get"in o||"set"in o)throw t4("Accessors not supported");return"value"in o&&(e[i]=o.value),e};var ee=D?function(e,i,o){return t0.f(e,i,L(1,o))}:function(e,i,o){return e[i]=o,e},ei=P.f,eo=function(e){var i=function(o,n,r){if(this instanceof i){switch(arguments.length){case 0:return new e;case 1:return new e(o);case 2:return new e(o,n)}return new e(o,n,r)}return y(e,this,arguments)};return i.prototype=e.prototype,i},en=function(e,i){var o,n,r,s,a,h,d,l,u,f=e.target,p=e.global,v=e.stat,g=e.proto,y=p?c:v?c[f]:(c[f]||{}).prototype,m=p?$:$[f]||ee($,f,{})[f],b=m.prototype;for(s in i)n=!(o=tX(p?s:f+(v?".":"#")+s,e.forced))&&y&&tC(y,s),h=m[s],n&&(d=e.dontCallGetSet?(u=ei(y,s))&&u.value:y[s]),a=n&&d?d:i[s],n&&typeof h==typeof a||(l=e.bind&&n?tJ(a,c):e.wrap&&n?eo(a):g&&M(a)?O(a):a,(e.sham||a&&a.sham||h&&h.sham)&&ee(l,"sham",!0),ee(m,s,l),g&&(tC($,r=f+"Prototype")||ee($,r,{}),ee($[r],s,a),e.real&&b&&(o||!b[s])&&ee(b,s,a)))},er=Math.ceil,es=Math.floor,ea=Math.trunc||function(e){var i=+e;return(i>0?es:er)(i)},eh=function(e){var i=+e;return i!=i||0===i?0:ea(i)},ed=Math.max,el=Math.min,ec=function(e,i){var o=eh(e);return o<0?ed(o+i,0):el(o,i)},eu=Math.min,ef=function(e){var i;return(i=e.length)>0?eu(eh(i),9007199254740991):0},ep=function(e){return function(i,o,n){var r,s=X(i),a=ef(s),h=ec(n,a);if(e&&o!=o){for(;a>h;)if((r=s[h++])!=r)return!0}else for(;a>h;h++)if((e||h in s)&&s[h]===o)return e||h||0;return!e&&-1}},ev={includes:ep(!0),indexOf:ep(!1)},eg={},ey=ev.indexOf,em=x([].push),eb=function(e,i){var o,n=X(e),r=0,s=[];for(o in n)!tC(eg,o)&&tC(n,o)&&em(s,o);for(;i.length>r;)tC(n,o=i[r++])&&(~ey(s,o)||em(s,o));return s},ew=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ex=Object.keys||function(e){return eb(e,ew)},ek={};ek.f=Object.getOwnPropertySymbols;var e_=Object.assign,eE=Object.defineProperty,eO=x([].concat),eC=!e_||u(function(){if(D&&1!==e_({b:1},e_(eE({},"a",{enumerable:!0,get:function(){eE(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},i={},o=Symbol(),n="abcdefghijklmnopqrst";return e[o]=7,n.split("").forEach(function(e){i[e]=e}),7!=e_({},e)[o]||ex(e_({},i)).join("")!=n})?function(e,i){for(var o=tE(e),n=arguments.length,r=1,s=ek.f,a=z.f;n>r;)for(var h,d=V(arguments[r++]),l=s?eO(ex(d),s(d)):ex(d),c=l.length,u=0;c>u;)h=l[u++],D&&!B(a,d,h)||(o[h]=d[h]);return o}:e_;en({target:"Object",stat:!0,arity:2,forced:Object.assign!==eC},{assign:eC});var eS=$.Object.assign;d.exports=eS;var eT=a(h),eM={},eP={get exports(){return eM},set exports(t){eM=t}},eD=x([].slice),eI=Function,eB=x([].concat),ez=x([].join),eF={},eN=function(e,i,o){if(!tC(eF,i)){for(var n=[],r=0;r<i;r++)n[r]="a["+r+"]";eF[i]=eI("C,a","return new C("+ez(n,",")+")")}return eF[i](e,o)},eA=f?eI.bind:function(e){var i=tf(this),o=i.prototype,n=eD(arguments,1),r=function(){var o=eB(n,eD(arguments));return this instanceof r?eN(i,o.length,o):i.apply(e,o)};return K(o)&&(r.prototype=o),r};en({target:"Function",proto:!0,forced:Function.bind!==eA},{bind:eA});var eR=function(e){return $[e+"Prototype"]},ej=eR("Function").bind,eL=Function.prototype,eH=function(e){var i=e.bind;return e===eL||J(eL,e)&&i===eL.bind?ej:i};eP.exports=eH;var eW=a(eM);function eV(e,i,o,n){e.beginPath(),e.arc(i,o,n,0,2*Math.PI,!1),e.closePath()}function eq(e,i,o,n,r,s){var a=Math.PI/180;n-2*s<0&&(s=n/2),r-2*s<0&&(s=r/2),e.beginPath(),e.moveTo(i+s,o),e.lineTo(i+n-s,o),e.arc(i+n-s,o+s,s,270*a,360*a,!1),e.lineTo(i+n,o+r-s),e.arc(i+n-s,o+r-s,s,0,90*a,!1),e.lineTo(i+s,o+r),e.arc(i+s,o+r-s,s,90*a,180*a,!1),e.lineTo(i,o+s),e.arc(i+s,o+s,s,180*a,270*a,!1),e.closePath()}function eU(e,i,o,n,r){var s=n/2*.5522848,a=r/2*.5522848,h=i+n,d=o+r,l=i+n/2,c=o+r/2;e.beginPath(),e.moveTo(i,c),e.bezierCurveTo(i,c-a,l-s,o,l,o),e.bezierCurveTo(l+s,o,h,c-a,h,c),e.bezierCurveTo(h,c+a,l+s,d,l,d),e.bezierCurveTo(l-s,d,i,c+a,i,c),e.closePath()}function eY(e,i,o,n,r){var s=r*(1/3),a=n/2*.5522848,h=s/2*.5522848,d=i+n,l=o+s,c=i+n/2,u=o+s/2,f=o+(r-s/2),p=o+r;e.beginPath(),e.moveTo(d,u),e.bezierCurveTo(d,u+h,c+a,l,c,l),e.bezierCurveTo(c-a,l,i,u+h,i,u),e.bezierCurveTo(i,u-h,c-a,o,c,o),e.bezierCurveTo(c+a,o,d,u-h,d,u),e.lineTo(d,f),e.bezierCurveTo(d,f+h,c+a,p,c,p),e.bezierCurveTo(c-a,p,i,f+h,i,f),e.lineTo(i,u)}function eX(e,i,o,n,r,s){e.beginPath(),e.moveTo(i,o);for(var a=s.length,h=n-i,d=r-o,l=d/h,c=Math.sqrt(h*h+d*d),u=0,f=!0,p=0,v=+s[0];c>=.1;)(v=+s[u++%a])>c&&(v=c),p=Math.sqrt(v*v/(1+l*l)),i+=p=h<0?-p:p,o+=l*p,!0===f?e.lineTo(i,o):e.moveTo(i,o),c-=v,f=!f}var eG={circle:eV,dashedLine:eX,database:eY,diamond:function(e,i,o,n){e.beginPath(),e.lineTo(i,o+n),e.lineTo(i+n,o),e.lineTo(i,o-n),e.lineTo(i-n,o),e.closePath()},ellipse:eU,ellipse_vis:eU,hexagon:function(e,i,o,n){e.beginPath();var r=2*Math.PI/6;e.moveTo(i+n,o);for(var s=1;s<6;s++)e.lineTo(i+n*Math.cos(r*s),o+n*Math.sin(r*s));e.closePath()},roundRect:eq,square:function(e,i,o,n){e.beginPath(),e.rect(i-n,o-n,2*n,2*n),e.closePath()},star:function(e,i,o,n){e.beginPath(),o+=.1*(n*=.82);for(var r=0;r<10;r++){var s=r%2==0?1.3*n:.5*n;e.lineTo(i+s*Math.sin(2*r*Math.PI/10),o-s*Math.cos(2*r*Math.PI/10))}e.closePath()},triangle:function(e,i,o,n){e.beginPath(),o+=.275*(n*=1.15);var r=2*n,s=r/2,a=Math.sqrt(3)/6*r,h=Math.sqrt(r*r-s*s);e.moveTo(i,o-(h-a)),e.lineTo(i+s,o+a),e.lineTo(i-s,o+a),e.lineTo(i,o-(h-a)),e.closePath()},triangleDown:function(e,i,o,n){e.beginPath(),o-=.275*(n*=1.15);var r=2*n,s=r/2,a=Math.sqrt(3)/6*r,h=Math.sqrt(r*r-s*s);e.moveTo(i,o+(h-a)),e.lineTo(i+s,o-a),e.lineTo(i-s,o-a),e.lineTo(i,o+(h-a)),e.closePath()}},eK={};!function(e){function i(e){if(e)return function(e){for(var o in i.prototype)e[o]=i.prototype[o];return e}(e)}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(i),this},i.prototype.once=function(e,i){function o(){this.off(e,o),i.apply(this,arguments)}return o.fn=i,this.on(e,o),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,i){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var o,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<n.length;r++)if((o=n[r])===i||o.fn===i){n.splice(r,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var i=Array(arguments.length-1),o=this._callbacks["$"+e],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(o){n=0;for(var r=(o=o.slice(0)).length;n<r;++n)o[n].apply(this,i)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}}({get exports(){return eK},set exports(t){eK=t}});var e$=eK,eZ={},eQ={get exports(){return eZ},set exports(t){eZ=t}},eJ={};eJ[tF("toStringTag")]="z";var e0,e1,e2,e5="[object z]"===String(eJ),e3=tF("toStringTag"),e4=Object,e6="Arguments"==E(function(){return arguments}()),e9=e5?E:function(e){var i,o,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=function(e,i){try{return e[i]}catch(e){}}(i=e4(e),e3))?o:e6?E(i):"Object"==(n=E(i))&&M(i.callee)?"Arguments":n},e8=String,e7=function(e){if("Symbol"===e9(e))throw TypeError("Cannot convert a Symbol value to a string");return e8(e)},it=x("".charAt),ie=x("".charCodeAt),ii=x("".slice),io=function(e){return function(i,o){var n,r,s=e7(Y(i)),a=eh(o),h=s.length;return a<0||a>=h?e?"":void 0:(n=ie(s,a))<55296||n>56319||a+1===h||(r=ie(s,a+1))<56320||r>57343?e?it(s,a):n:e?ii(s,a,a+2):r-56320+(n-55296<<10)+65536}},ir={codeAt:io(!1),charAt:io(!0)},is=c.WeakMap,ia=M(is)&&/native code/.test(String(is)),ih=tg("keys"),id=function(e){return ih[e]||(ih[e]=tP(e))},il=tx,ic=eg,iu="Object already initialized",ip=c.TypeError,iv=c.WeakMap;if(ia||il.state){var ig=il.state||(il.state=new iv);ig.get=ig.get,ig.has=ig.has,ig.set=ig.set,e0=function(e,i){if(ig.has(e))throw ip(iu);return i.facade=e,ig.set(e,i),i},e1=function(e){return ig.get(e)||{}},e2=function(e){return ig.has(e)}}else{var iy=id("state");ic[iy]=!0,e0=function(e,i){if(tC(e,iy))throw ip(iu);return i.facade=e,ee(e,iy,i),i},e1=function(e){return tC(e,iy)?e[iy]:{}},e2=function(e){return tC(e,iy)}}var im={set:e0,get:e1,has:e2,enforce:function(e){return e2(e)?e1(e):e0(e,{})},getterFor:function(e){return function(i){var o;if(!K(i)||(o=e1(i)).type!==e)throw ip("Incompatible receiver, "+e+" required");return o}}},ib=Function.prototype,iw=D&&Object.getOwnPropertyDescriptor,ix=tC(ib,"name"),ik={EXISTS:ix,PROPER:ix&&"something"===(function(){}).name,CONFIGURABLE:ix&&(!D||D&&iw(ib,"name").configurable)},i_={};i_.f=D&&!t1?Object.defineProperties:function(e,i){t3(e);for(var o,n=X(i),r=ex(i),s=r.length,a=0;s>a;)t0.f(e,o=r[a++],n[o]);return e};var iE,iO=Q("document","documentElement"),iC=eg,iS="prototype",iT="script",iM=id("IE_PROTO"),iP=function(){},iD=function(e){return"<"+iT+">"+e+"</"+iT+">"},iI=function(e){e.write(iD("")),e.close();var i=e.parentWindow.Object;return e=null,i},iB=function(){try{iE=new ActiveXObject("htmlfile")}catch(e){}iB="undefined"!=typeof document?document.domain&&iE?iI(iE):((i=tV("iframe")).style.display="none",iO.appendChild(i),i.src=String("java"+iT+":"),(e=i.contentWindow.document).open(),e.write(iD("document.F=Object")),e.close(),e.F):iI(iE);for(var e,i,o=ew.length;o--;)delete iB[iS][ew[o]];return iB()};iC[iM]=!0;var iz,iF,iN,iA=Object.create||function(e,i){var o;return null!==e?(iP[iS]=t3(e),o=new iP,iP[iS]=null,o[iM]=e):o=iB(),void 0===i?o:i_.f(o,i)},iR=!u(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),ij=id("IE_PROTO"),iL=Object,iH=iL.prototype,iW=iR?iL.getPrototypeOf:function(e){var i=tE(e);if(tC(i,ij))return i[ij];var o=i.constructor;return M(o)&&i instanceof o?o.prototype:i instanceof iL?iH:null},iV=function(e,i,o,n){return n&&n.enumerable?e[i]=o:ee(e,i,o),e},iq=tF("iterator"),iU=!1;[].keys&&("next"in(iN=[].keys())?(iF=iW(iW(iN)))!==Object.prototype&&(iz=iF):iU=!0);var iY=!K(iz)||u(function(){var e={};return iz[iq].call(e)!==e});M((iz=iY?{}:iA(iz))[iq])||iV(iz,iq,function(){return this});var iX={IteratorPrototype:iz,BUGGY_SAFARI_ITERATORS:iU},iG=t0.f,iK=e5?({}).toString:function(){return"[object "+e9(this)+"]"},i$=tF("toStringTag"),iZ=function(e,i,o,n){if(e){var r=o?e:e.prototype;tC(r,i$)||iG(r,i$,{configurable:!0,value:i}),n&&!e5&&ee(r,"toString",iK)}},iQ={},iJ=iX.IteratorPrototype,i0=iQ,i1=function(){return this},i2=String,i5=TypeError,i3=function(e,i,o){try{return x(tf(Object.getOwnPropertyDescriptor(e,i)[o]))}catch(e){}},i4=function(e){if("object"==typeof e||M(e))return e;throw i5("Can't set "+i2(e)+" as a prototype")},i6=Object.setPrototypeOf||("__proto__"in{}?function(){var e,i=!1,o={};try{(e=i3(Object.prototype,"__proto__","set"))(o,[]),i=o instanceof Array}catch(e){}return function(o,n){return t3(o),i4(n),i?e(o,n):o.__proto__=n,o}}():void 0),i9=function(e,i,o,n){var r=i+" Iterator";return e.prototype=iA(iJ,{next:L(+!n,o)}),iZ(e,r,!1,!0),i0[r]=i1,e},i8=iQ,i7=ik.PROPER,ot=iX.BUGGY_SAFARI_ITERATORS,oe=tF("iterator"),oi="keys",oo="values",on="entries",or=function(){return this},os=function(e,i,o,n,r,s,a){i9(o,i,n);var h,d,l,c=function(e){if(e===r&&g)return g;if(!ot&&e in p)return p[e];switch(e){case oi:case oo:case on:return function(){return new o(this,e)}}return function(){return new o(this)}},u=i+" Iterator",f=!1,p=e.prototype,v=p[oe]||p["@@iterator"]||r&&p[r],g=!ot&&v||c(r),y="Array"==i&&p.entries||v;if(y&&(h=iW(y.call(new e)))!==Object.prototype&&h.next&&(iZ(h,u,!0,!0),i8[u]=or),i7&&r==oo&&v&&v.name!==oo&&(f=!0,g=function(){return B(v,this)}),r){if(d={values:c(oo),keys:s?g:c(oi),entries:c(on)},a)for(l in d)!ot&&!f&&l in p||iV(p,l,d[l]);else en({target:i,proto:!0,forced:ot||f},d)}return a&&p[oe]!==g&&iV(p,oe,g,{name:r}),i8[i]=g,d},oa=function(e,i){return{value:e,done:i}},oh=ir.charAt,od="String Iterator",ol=im.set,oc=im.getterFor(od);os(String,"String",function(e){ol(this,{type:od,string:e7(e),index:0})},function(){var e,i=oc(this),o=i.string,n=i.index;return n>=o.length?oa(void 0,!0):(e=oh(o,n),i.index+=e.length,oa(e,!1))});var ou=function(e,i,o){var n,r;t3(e);try{if(!(n=tp(e,"return"))){if("throw"===i)throw o;return o}n=B(n,e)}catch(e){r=!0,n=e}if("throw"===i)throw o;if(r)throw n;return t3(n),o},of=tF("iterator"),op=Array.prototype,ov=function(e){return void 0!==e&&(iQ.Array===e||op[of]===e)},og=tx,oy=x(Function.toString);M(og.inspectSource)||(og.inspectSource=function(e){return oy(e)});var om=og.inspectSource,ob=function(){},ow=[],ox=Q("Reflect","construct"),ok=/^\s*(?:class|function)\b/,o_=x(ok.exec),oE=!ok.exec(ob),oO=function(e){if(!M(e))return!1;try{return ox(ob,ow,e),!0}catch(e){return!1}},oC=function(e){if(!M(e))return!1;switch(e9(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return oE||!!o_(ok,om(e))}catch(e){return!0}};oC.sham=!0;var oS=!ox||u(function(){var e;return oO(oO.call)||!oO(Object)||!oO(function(){e=!0})||e})?oC:oO,oT=function(e,i,o){var n=tL(i);n in e?t0.f(e,n,L(0,o)):e[n]=o},oM=tF("iterator"),oP=function(e){if(!q(e))return tp(e,oM)||tp(e,"@@iterator")||iQ[e9(e)]},oD=TypeError,oI=function(e,i){var o=arguments.length<2?oP(e):i;if(tf(o))return t3(B(o,e));throw oD(tc(e)+" is not iterable")},oB=function(e,i,o,n){try{return n?i(t3(o)[0],o[1]):i(o)}catch(i){ou(e,"throw",i)}},oz=Array,oF=tF("iterator"),oN=!1;try{var oA=0,oR={next:function(){return{done:!!oA++}},return:function(){oN=!0}};oR[oF]=function(){return this},Array.from(oR,function(){throw 2})}catch(e){}en({target:"Array",stat:!0,forced:!function(e,i){if(!oN)return!1;var o=!1;try{var n={};n[oF]=function(){return{next:function(){return{done:o=!0}}}},e(n)}catch(e){}return o}(function(e){Array.from(e)})},{from:function(e){var i=tE(e),o=oS(this),n=arguments.length,r=n>1?arguments[1]:void 0,s=void 0!==r;s&&(r=tJ(r,n>2?arguments[2]:void 0));var a,h,d,l,c,u,f=oP(i),p=0;if(!f||this===oz&&ov(f))for(a=ef(i),h=o?new this(a):oz(a);a>p;p++)u=s?r(i[p],p):i[p],oT(h,p,u);else for(c=(l=oI(i,f)).next,h=o?new this:[];!(d=B(c,l)).done;p++)u=s?oB(l,r,[d.value,p],!0):d.value,oT(h,p,u);return h.length=p,h}});var oj=$.Array.from;eQ.exports=oj;var oL=a(eZ),oH={},oW={get exports(){return oH},set exports(t){oH=t}},oV={},oq={get exports(){return oV},set exports(t){oV=t}},oU=iQ;t0.f;var oY="Array Iterator",oX=im.set,oG=im.getterFor(oY);os(Array,"Array",function(e,i){oX(this,{type:oY,target:X(e),index:0,kind:i})},function(){var e=oG(this),i=e.target,o=e.kind,n=e.index++;return!i||n>=i.length?(e.target=void 0,oa(void 0,!0)):oa("keys"==o?n:"values"==o?i[n]:[n,i[n]],!1)},"values"),oU.Arguments=oU.Array;var oK={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},o$=iQ,oZ=tF("toStringTag");for(var oQ in oK){var oJ=c[oQ],o0=oJ&&oJ.prototype;o0&&e9(o0)!==oZ&&ee(o0,oZ,oQ),o$[oQ]=o$.Array}oq.exports=oP,oW.exports=oV;var o1=a(oH),o2={},o5={get exports(){return o2},set exports(t){o2=t}},o3={},o4=ew.concat("length","prototype");o3.f=Object.getOwnPropertyNames||function(e){return eb(e,o4)};var o6={},o9=Array,o8=Math.max,o7=function(e,i,o){for(var n=ef(e),r=ec(i,n),s=ec(void 0===o?n:o,n),a=o9(o8(s-r,0)),h=0;r<s;r++,h++)oT(a,h,e[r]);return a.length=h,a},nt=o3.f,ne="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o6.f=function(e){return ne&&"Window"==E(e)?function(e){try{return nt(e)}catch(e){return o7(ne)}}(e):nt(X(e))};var ni=function(e,i,o){return t0.f(e,i,o)},no={};no.f=tF;var nn=$,nr=t0.f,ns=function(e){var i=nn.Symbol||(nn.Symbol={});tC(i,e)||nr(i,e,{value:no.f(e)})},na=function(){var e=Q("Symbol"),i=e&&e.prototype,o=i&&i.valueOf,n=tF("toPrimitive");i&&!i[n]&&iV(i,n,function(e){return B(o,this)},{arity:1})},nh=Array.isArray||function(e){return"Array"==E(e)},nd=tF("species"),nl=Array,nc=function(e){var i;return nh(e)&&(oS(i=e.constructor)&&(i===nl||nh(i.prototype))||K(i)&&null===(i=i[nd]))&&(i=void 0),void 0===i?nl:i},nu=function(e,i){return new(nc(e))(0===i?0:i)},nf=x([].push),np=function(e){var i=1==e,o=2==e,n=3==e,r=4==e,s=6==e,a=7==e,h=5==e||s;return function(d,l,c,u){for(var f,p,v=tE(d),g=V(v),y=tJ(l,c),m=ef(g),b=0,w=u||nu,x=i?w(d,m):o||a?w(d,0):void 0;m>b;b++)if((h||b in g)&&(p=y(f=g[b],b,v),e)){if(i)x[b]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return b;case 2:nf(x,f)}else switch(e){case 4:return!1;case 7:nf(x,f)}}return s?-1:n||r?r:x}},nv={forEach:np(0),map:np(1),filter:np(2),some:np(3),every:np(4),find:np(5),findIndex:np(6),filterReject:np(7)},ng=o3,ny=o6,nm=ek,nb=P,nw=t0,nx=i_,nk=z,n_=tg,nE=eg,nO=no,nC=nv.forEach,nS=id("hidden"),nT="Symbol",nM="prototype",nP=im.set,nD=im.getterFor(nT),nI=Object[nM],nB=c.Symbol,nz=nB&&nB[nM],nF=c.TypeError,nN=c.QObject,nA=nb.f,nR=nw.f,nj=ny.f,nL=nk.f,nH=x([].push),nW=n_("symbols"),nV=n_("op-symbols"),nq=n_("wks"),nU=!nN||!nN[nM]||!nN[nM].findChild,nY=D&&u(function(){return 7!=iA(nR({},"a",{get:function(){return nR(this,"a",{value:7}).a}})).a})?function(e,i,o){var n=nA(nI,i);n&&delete nI[i],nR(e,i,o),n&&e!==nI&&nR(nI,i,n)}:nR,nX=function(e,i){var o=nW[e]=iA(nz);return nP(o,{type:nT,tag:e,description:i}),D||(o.description=i),o},nG=function(e,i,o){e===nI&&nG(nV,i,o),t3(e);var n=tL(i);return t3(o),tC(nW,n)?(o.enumerable?(tC(e,nS)&&e[nS][n]&&(e[nS][n]=!1),o=iA(o,{enumerable:L(0,!1)})):(tC(e,nS)||nR(e,nS,L(1,{})),e[nS][n]=!0),nY(e,n,o)):nR(e,n,o)},nK=function(e,i){t3(e);var o=X(i),n=ex(o).concat(nJ(o));return nC(n,function(i){D&&!B(n$,o,i)||nG(e,i,o[i])}),e},n$=function(e){var i=tL(e),o=B(nL,this,i);return!(this===nI&&tC(nW,i)&&!tC(nV,i))&&(!(o||!tC(this,i)||!tC(nW,i)||tC(this,nS)&&this[nS][i])||o)},nZ=function(e,i){var o=X(e),n=tL(i);if(o!==nI||!tC(nW,n)||tC(nV,n)){var r=nA(o,n);return!r||!tC(nW,n)||tC(o,nS)&&o[nS][n]||(r.enumerable=!0),r}},nQ=function(e){var i=nj(X(e)),o=[];return nC(i,function(e){tC(nW,e)||tC(nE,e)||nH(o,e)}),o},nJ=function(e){var i=e===nI,o=nj(i?nV:X(e)),n=[];return nC(o,function(e){tC(nW,e)&&(!i||tC(nI,e))&&nH(n,nW[e])}),n};ts||(iV(nz=(nB=function(){if(J(nz,this))throw nF("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?e7(arguments[0]):void 0,i=tP(e),o=function(e){this===nI&&B(o,nV,e),tC(this,nS)&&tC(this[nS],i)&&(this[nS][i]=!1),nY(this,i,L(1,e))};return D&&nU&&nY(nI,i,{configurable:!0,set:o}),nX(i,e)})[nM],"toString",function(){return nD(this).tag}),iV(nB,"withoutSetter",function(e){return nX(tP(e),e)}),nk.f=n$,nw.f=nG,nx.f=nK,nb.f=nZ,ng.f=ny.f=nQ,nm.f=nJ,nO.f=function(e){return nX(tF(e),e)},D&&ni(nz,"description",{configurable:!0,get:function(){return nD(this).description}})),en({global:!0,constructor:!0,wrap:!0,forced:!ts,sham:!ts},{Symbol:nB}),nC(ex(nq),function(e){ns(e)}),en({target:nT,stat:!0,forced:!ts},{useSetter:function(){nU=!0},useSimple:function(){nU=!1}}),en({target:"Object",stat:!0,forced:!ts,sham:!D},{create:function(e,i){return void 0===i?iA(e):nK(iA(e),i)},defineProperty:nG,defineProperties:nK,getOwnPropertyDescriptor:nZ}),en({target:"Object",stat:!0,forced:!ts},{getOwnPropertyNames:nQ}),na(),iZ(nB,nT),nE[nS]=!0;var n0=ts&&!!Symbol.for&&!!Symbol.keyFor,n1=tg,n2=n1("string-to-symbol-registry"),n5=n1("symbol-to-string-registry");en({target:"Symbol",stat:!0,forced:!n0},{for:function(e){var i=e7(e);if(tC(n2,i))return n2[i];var o=Q("Symbol")(i);return n2[i]=o,n5[o]=i,o}});var n3=tg("symbol-to-string-registry");en({target:"Symbol",stat:!0,forced:!n0},{keyFor:function(e){if(!td(e))throw TypeError(tc(e)+" is not a symbol");if(tC(n3,e))return n3[e]}});var n4=x([].push),n6=function(e){if(M(e))return e;if(nh(e)){for(var i=e.length,o=[],n=0;n<i;n++){var r=e[n];"string"==typeof r?n4(o,r):"number"!=typeof r&&"Number"!=E(r)&&"String"!=E(r)||n4(o,e7(r))}var s=o.length,a=!0;return function(e,i){if(a)return a=!1,i;if(nh(this))return i;for(var n=0;n<s;n++)if(o[n]===e)return i}}},n9=String,n8=Q("JSON","stringify"),n7=x(/./.exec),rt=x("".charAt),re=x("".charCodeAt),ri=x("".replace),ro=x(1..toString),rn=/[\uD800-\uDFFF]/g,rr=/^[\uD800-\uDBFF]$/,rs=/^[\uDC00-\uDFFF]$/,ra=!ts||u(function(){var e=Q("Symbol")();return"[null]"!=n8([e])||"{}"!=n8({a:e})||"{}"!=n8(Object(e))}),rh=u(function(){return'"\udf06\ud834"'!==n8("\udf06\ud834")||'"\udead"'!==n8("\udead")}),rd=function(e,i){var o=eD(arguments),n=n6(i);if(M(n)||void 0!==e&&!td(e))return o[1]=function(e,i){if(M(n)&&(i=B(n,this,n9(e),i)),!td(i))return i},y(n8,null,o)},rl=function(e,i,o){var n=rt(o,i-1),r=rt(o,i+1);return n7(rr,e)&&!n7(rs,r)||n7(rs,e)&&!n7(rr,n)?"\\u"+ro(re(e,0),16):e};n8&&en({target:"JSON",stat:!0,arity:3,forced:ra||rh},{stringify:function(e,i,o){var n=eD(arguments),r=y(ra?rd:n8,null,n);return rh&&"string"==typeof r?ri(r,rn,rl):r}}),en({target:"Object",stat:!0,forced:!ts||u(function(){ek.f(1)})},{getOwnPropertySymbols:function(e){var i=ek.f;return i?i(tE(e)):[]}});var rc=$.Object.getOwnPropertySymbols;o5.exports=rc;var ru=a(o2),rf={},rp={get exports(){return rf},set exports(t){rf=t}},rv={},rg={get exports(){return rv},set exports(t){rv=t}},ry=P.f;en({target:"Object",stat:!0,forced:!D||u(function(){ry(1)}),sham:!D},{getOwnPropertyDescriptor:function(e,i){return ry(X(e),i)}});var rm=$.Object,rb=rg.exports=function(e,i){return rm.getOwnPropertyDescriptor(e,i)};rm.getOwnPropertyDescriptor.sham&&(rb.sham=!0);var rw=rv;rp.exports=rw;var rx=a(rf),rk={},r_={get exports(){return rk},set exports(t){rk=t}},rE=x([].concat),rO=Q("Reflect","ownKeys")||function(e){var i=o3.f(t3(e)),o=ek.f;return o?rE(i,o(e)):i};en({target:"Object",stat:!0,sham:!D},{getOwnPropertyDescriptors:function(e){for(var i,o,n=X(e),r=P.f,s=rO(n),a={},h=0;s.length>h;)void 0!==(o=r(n,i=s[h++]))&&oT(a,i,o);return a}});var rC=$.Object.getOwnPropertyDescriptors;r_.exports=rC;var rS=a(rk),rT={},rM={get exports(){return rT},set exports(t){rT=t}},rP={},rD={get exports(){return rP},set exports(t){rP=t}},rI=i_.f;en({target:"Object",stat:!0,forced:Object.defineProperties!==rI,sham:!D},{defineProperties:rI});var rB=$.Object,rz=rD.exports=function(e,i){return rB.defineProperties(e,i)};rB.defineProperties.sham&&(rz.sham=!0);var rF=rP;rM.exports=rF;var rN=a(rT),rA={},rR={get exports(){return rA},set exports(t){rA=t}},rj={},rL={get exports(){return rj},set exports(t){rj=t}},rH=t0.f;en({target:"Object",stat:!0,forced:Object.defineProperty!==rH,sham:!D},{defineProperty:rH});var rW=$.Object,rV=rL.exports=function(e,i,o){return rW.defineProperty(e,i,o)};rW.defineProperty.sham&&(rV.sham=!0);var rq=rj;rR.exports=rq;var rU=a(rA);function rY(e,i){if(!(e instanceof i))throw TypeError("Cannot call a class as a function")}var rX={},rG={get exports(){return rX},set exports(t){rX=t}},rK={};({get exports(){return rK},set exports(t){rK=t}}).exports=rq,rG.exports=rK;var r$=a(rX),rZ={},rQ={get exports(){return rZ},set exports(t){rZ=t}},rJ={},r0={get exports(){return rJ},set exports(t){rJ=t}},r1=TypeError,r2=function(e){if(e>9007199254740991)throw r1("Maximum allowed index exceeded");return e},r5=tF("species"),r3=function(e){return tr>=51||!u(function(){var i=[];return(i.constructor={})[r5]=function(){return{foo:1}},1!==i[e](Boolean).foo})},r4=tF("isConcatSpreadable"),r6=tr>=51||!u(function(){var e=[];return e[r4]=!1,e.concat()[0]!==e}),r9=function(e){if(!K(e))return!1;var i=e[r4];return void 0!==i?!!i:nh(e)};en({target:"Array",proto:!0,arity:1,forced:!r6||!r3("concat")},{concat:function(e){var i,o,n,r,s,a=tE(this),h=nu(a,0),d=0;for(i=-1,n=arguments.length;i<n;i++)if(r9(s=-1===i?a:arguments[i]))for(r2(d+(r=ef(s))),o=0;o<r;o++,d++)o in s&&oT(h,d,s[o]);else r2(d+1),oT(h,d++,s);return h.length=d,h}}),ns("asyncIterator"),ns("hasInstance"),ns("isConcatSpreadable"),ns("iterator"),ns("match"),ns("matchAll"),ns("replace"),ns("search"),ns("species"),ns("split"),ns("toPrimitive"),na(),ns("toStringTag"),iZ(Q("Symbol"),"Symbol"),ns("unscopables"),iZ(c.JSON,"JSON",!0);var r8=$.Symbol;ns("dispose"),ns("asyncDispose");var r7=Q("Symbol"),st=r7.keyFor,se=x(r7.prototype.valueOf);en({target:"Symbol",stat:!0},{isRegistered:function(e){try{return void 0!==st(se(e))}catch(e){return!1}}});for(var si=tg,so=Q("Symbol"),sn=so.isWellKnown,sr=Q("Object","getOwnPropertyNames"),ss=x(so.prototype.valueOf),sa=si("wks"),sh=0,sd=sr(so),sl=sd.length;sh<sl;sh++)try{var sc=sd[sh];td(so[sc])&&tF(sc)}catch(e){}en({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(e){if(sn&&sn(e))return!0;try{for(var i=ss(e),o=0,n=sr(sa),r=n.length;o<r;o++)if(sa[n[o]]==i)return!0}catch(e){}return!1}}),ns("matcher"),ns("metadataKey"),ns("observable"),ns("metadata"),ns("patternMatch"),ns("replaceAll"),r0.exports=r8,rQ.exports=rJ;var su=a(rZ),sf={},sp={get exports(){return sf},set exports(t){sf=t}},sv={},sg={get exports(){return sv},set exports(t){sv=t}},sy=no.f("iterator");sg.exports=sy,sp.exports=sv;var sm=a(sf);function sb(e){return(sb="function"==typeof su&&"symbol"==typeof sm?function(e){return typeof e}:function(e){return e&&"function"==typeof su&&e.constructor===su&&e!==su.prototype?"symbol":typeof e})(e)}var sw={},sx={get exports(){return sw},set exports(t){sw=t}},sk={},s_={get exports(){return sk},set exports(t){sk=t}},sE=no.f("toPrimitive");s_.exports=sE,sx.exports=sk;var sO=a(sw);function sC(e){var i=function(e,i){if("object"!==sb(e)||null===e)return e;var o=e[sO];if(void 0!==o){var n=o.call(e,i||"default");if("object"!==sb(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"===sb(i)?i:String(i)}function sS(e,i){for(var o=0;o<i.length;o++){var n=i[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r$(e,sC(n.key),n)}}function sT(e,i,o){return i&&sS(e.prototype,i),o&&sS(e,o),r$(e,"prototype",{writable:!1}),e}function sM(e,i,o){return(i=sC(i))in e?r$(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o,e}var sP={},sD={get exports(){return sP},set exports(t){sP=t}},sI={},sB={get exports(){return sI},set exports(t){sI=t}};en({target:"Array",stat:!0},{isArray:nh});var sz=$.Array.isArray;sB.exports=sz,sD.exports=sI;var sF=a(sP),sN={},sA={get exports(){return sN},set exports(t){sN=t}},sR={},sj={get exports(){return sR},set exports(t){sR=t}},sL=r3("slice"),sH=tF("species"),sW=Array,sV=Math.max;en({target:"Array",proto:!0,forced:!sL},{slice:function(e,i){var o,n,r,s=X(this),a=ef(s),h=ec(e,a),d=ec(void 0===i?a:i,a);if(nh(s)&&((oS(o=s.constructor)&&(o===sW||nh(o.prototype))||K(o)&&null===(o=o[sH]))&&(o=void 0),o===sW||void 0===o))return eD(s,h,d);for(n=new(void 0===o?sW:o)(sV(d-h,0)),r=0;h<d;h++,r++)h in s&&oT(n,r,s[h]);return n.length=r,n}});var sq=eR("Array").slice,sU=Array.prototype,sY=function(e){var i=e.slice;return e===sU||J(sU,e)&&i===sU.slice?sq:i};sj.exports=sY,sA.exports=sR;var sX=a(sN),sG={},sK={get exports(){return sG},set exports(t){sG=t}},s$={};({get exports(){return s$},set exports(t){s$=t}}).exports=oj,sK.exports=s$;var sZ=a(sG);function sQ(e,i){(null==i||i>e.length)&&(i=e.length);for(var o=0,n=Array(i);o<i;o++)n[o]=e[o];return n}function sJ(e,i){var o;if(e){if("string"==typeof e)return sQ(e,i);var n=sX(o=Object.prototype.toString.call(e)).call(o,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?sZ(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sQ(e,i):void 0}}function s0(e,i){return function(e){if(sF(e))return e}(e)||function(e,i){var o=null==e?null:void 0!==su&&o1(e)||e["@@iterator"];if(null!=o){var n,r,s,a,h=[],d=!0,l=!1;try{if(s=(o=o.call(e)).next,0===i){if(Object(o)!==o)return;d=!1}else for(;!(d=(n=s.call(o)).done)&&(h.push(n.value),h.length!==i);d=!0);}catch(e){l=!0,r=e}finally{try{if(!d&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(l)throw r}}return h}}(e,i)||sJ(e,i)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s1(e){return function(e){if(sF(e))return sQ(e)}(e)||function(e){if(void 0!==su&&null!=o1(e)||null!=e["@@iterator"])return sZ(e)}(e)||sJ(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s2={};({get exports(){return s2},set exports(t){s2=t}}).exports=r8;var s5=a(s2),s3={},s4={get exports(){return s3},set exports(t){s3=t}},s6=eR("Array").concat,s9=Array.prototype;s4.exports=function(e){var i=e.concat;return e===s9||J(s9,e)&&i===s9.concat?s6:i};var s8=a(s3),s7={};({get exports(){return s7},set exports(t){s7=t}}).exports=sY;var at=a(s7),ae={},ai={get exports(){return ae},set exports(t){ae=t}};en({target:"Reflect",stat:!0},{ownKeys:rO});var ao=$.Reflect.ownKeys;ai.exports=ao;var an={};({get exports(){return an},set exports(t){an=t}}).exports=sz;var ar=a(an),as={},aa={get exports(){return as},set exports(t){as=t}},ah=nv.map;en({target:"Array",proto:!0,forced:!r3("map")},{map:function(e){return ah(this,e,arguments.length>1?arguments[1]:void 0)}});var ad=eR("Array").map,al=Array.prototype;aa.exports=function(e){var i=e.map;return e===al||J(al,e)&&i===al.map?ad:i};var ac=a(as),au={},af={get exports(){return au},set exports(t){au=t}};en({target:"Object",stat:!0,forced:u(function(){ex(1)})},{keys:function(e){return ex(tE(e))}});var ap=$.Object.keys;af.exports=ap;var av=a(au),ag={},ay={get exports(){return ag},set exports(t){ag=t}},am=Date,ab=x(am.prototype.getTime);en({target:"Date",stat:!0},{now:function(){return ab(new am)}});var aw=$.Date.now;ay.exports=aw;var ax=a(ag),ak={},a_={get exports(){return ak},set exports(t){ak=t}},aE=function(e,i){var o=[][e];return!!o&&u(function(){o.call(null,i||function(){return 1},1)})},aO=nv.forEach,aC=aE("forEach")?[].forEach:function(e){return aO(this,e,arguments.length>1?arguments[1]:void 0)};en({target:"Array",proto:!0,forced:[].forEach!=aC},{forEach:aC});var aS=eR("Array").forEach,aT=Array.prototype,aM={DOMTokenList:!0,NodeList:!0};a_.exports=function(e){var i=e.forEach;return e===aT||J(aT,e)&&i===aT.forEach||tC(aM,e9(e))?aS:i};var aP=a(ak),aD={},aI={get exports(){return aD},set exports(t){aD=t}},aB=x([].reverse),az=[1,2];en({target:"Array",proto:!0,forced:String(az)===String(az.reverse())},{reverse:function(){return nh(this)&&(this.length=this.length),aB(this)}});var aF=eR("Array").reverse,aN=Array.prototype;aI.exports=function(e){var i=e.reverse;return e===aN||J(aN,e)&&i===aN.reverse?aF:i};var aA=a(aD),aR={},aj={get exports(){return aR},set exports(t){aR=t}},aL=TypeError,aH=Object.getOwnPropertyDescriptor,aW=D&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),aV=TypeError,aq=function(e,i){if(!delete e[i])throw aV("Cannot delete property "+tc(i)+" of "+tc(e))},aU=aW?function(e,i){if(nh(e)&&!aH(e,"length").writable)throw aL("Cannot set read only .length");return e.length=i}:function(e,i){return e.length=i},aY=r3("splice"),aX=Math.max,aG=Math.min;en({target:"Array",proto:!0,forced:!aY},{splice:function(e,i){var o,n,r,s,a,h,d=tE(this),l=ef(d),c=ec(e,l),u=arguments.length;for(0===u?o=n=0:1===u?(o=0,n=l-c):(o=u-2,n=aG(aX(eh(i),0),l-c)),r2(l+o-n),r=nu(d,n),s=0;s<n;s++)(a=c+s)in d&&oT(r,s,d[a]);if(r.length=n,o<n){for(s=c;s<l-n;s++)h=s+o,(a=s+n)in d?d[h]=d[a]:aq(d,h);for(s=l;s>l-n+o;s--)aq(d,s-1)}else if(o>n)for(s=l-n;s>c;s--)h=s+o-1,(a=s+n-1)in d?d[h]=d[a]:aq(d,h);for(s=0;s<o;s++)d[s+c]=arguments[s+2];return aU(d,l-n+o),r}});var aK=eR("Array").splice,a$=Array.prototype;aj.exports=function(e){var i=e.splice;return e===a$||J(a$,e)&&i===a$.splice?aK:i};var aZ=a(aR),aQ={},aJ={get exports(){return aQ},set exports(t){aQ=t}},a0=ev.includes;en({target:"Array",proto:!0,forced:u(function(){return![,].includes()})},{includes:function(e){return a0(this,e,arguments.length>1?arguments[1]:void 0)}});var a1=eR("Array").includes,a2=tF("match"),a5=function(e){var i;return K(e)&&(void 0!==(i=e[a2])?!!i:"RegExp"==E(e))},a3=TypeError,a4=tF("match"),a6=function(e){if(a5(e))throw a3("The method doesn't accept regular expressions");return e},a9=x("".indexOf);en({target:"String",proto:!0,forced:!function(e){var i=/./;try{"/./"[e](i)}catch(o){try{return i[a4]=!1,"/./"[e](i)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~a9(e7(Y(this)),e7(a6(e)),arguments.length>1?arguments[1]:void 0)}});var a8=eR("String").includes,a7=Array.prototype,ht=String.prototype;aJ.exports=function(e){var i=e.includes;return e===a7||J(a7,e)&&i===a7.includes?a1:"string"==typeof e||e===ht||J(ht,e)&&i===ht.includes?a8:i};var he=a(aQ),hi={},ho={get exports(){return hi},set exports(t){hi=t}};en({target:"Object",stat:!0,forced:u(function(){iW(1)}),sham:!iR},{getPrototypeOf:function(e){return iW(tE(e))}});var hn=$.Object.getPrototypeOf;ho.exports=hn;var hr=a(hi),hs={},ha={get exports(){return hs},set exports(t){hs=t}},hh=nv.filter;en({target:"Array",proto:!0,forced:!r3("filter")},{filter:function(e){return hh(this,e,arguments.length>1?arguments[1]:void 0)}});var hd=eR("Array").filter,hl=Array.prototype;ha.exports=function(e){var i=e.filter;return e===hl||J(hl,e)&&i===hl.filter?hd:i};var hc=a(hs),hu={},hf={get exports(){return hu},set exports(t){hu=t}},hp=x(z.f),hv=x([].push),hg=function(e){return function(i){for(var o,n=X(i),r=ex(n),s=r.length,a=0,h=[];s>a;)o=r[a++],D&&!hp(n,o)||hv(h,e?[o,n[o]]:n[o]);return h}},hy={entries:hg(!0),values:hg(!1)}.values;en({target:"Object",stat:!0},{values:function(e){return hy(e)}});var hm=$.Object.values;hf.exports=hm;var hb={},hw={get exports(){return hb},set exports(t){hb=t}},hx="	\n\v\f\r \xa0              　\u2028\u2029\uFEFF",hk=x("".replace),h_=RegExp("^["+hx+"]+"),hE=RegExp("(^|[^"+hx+"])["+hx+"]+$"),hO=function(e){return function(i){var o=e7(Y(i));return 1&e&&(o=hk(o,h_,"")),2&e&&(o=hk(o,hE,"$1")),o}},hC={start:hO(1),end:hO(2),trim:hO(3)},hS=hC.trim,hT=c.parseInt,hM=c.Symbol,hP=hM&&hM.iterator,hD=/^[+-]?0x/i,hI=x(hD.exec),hB=8!==hT(hx+"08")||22!==hT(hx+"0x16")||hP&&!u(function(){hT(Object(hP))})?function(e,i){var o=hS(e7(e));return hT(o,i>>>0||(hI(hD,o)?16:10))}:hT;en({global:!0,forced:parseInt!=hB},{parseInt:hB});var hz=$.parseInt;hw.exports=hz;var hF=a(hb),hN={},hA={get exports(){return hN},set exports(t){hN=t}},hR=ev.indexOf,hj=O([].indexOf),hL=!!hj&&1/hj([1],1,-0)<0;en({target:"Array",proto:!0,forced:hL||!aE("indexOf")},{indexOf:function(e){var i=arguments.length>1?arguments[1]:void 0;return hL?hj(this,e,i)||0:hR(this,e,i)}});var hH=eR("Array").indexOf,hW=Array.prototype;hA.exports=function(e){var i=e.indexOf;return e===hW||J(hW,e)&&i===hW.indexOf?hH:i};var hV=a(hN),hq={},hU={get exports(){return hq},set exports(t){hq=t}},hY=ik.PROPER,hX=hC.trim;en({target:"String",proto:!0,forced:(du="trim",u(function(){return!!hx[du]()||"​\x85᠎"!=="​\x85᠎"[du]()||hY&&hx[du].name!==du}))},{trim:function(){return hX(this)}});var hG=eR("String").trim,hK=String.prototype;hU.exports=function(e){var i=e.trim;return"string"==typeof e||e===hK||J(hK,e)&&i===hK.trim?hG:i};var h$={},hZ={get exports(){return h$},set exports(t){h$=t}};en({target:"Object",stat:!0,sham:!D},{create:iA});var hQ=$.Object,hJ=function(e,i){return hQ.create(e,i)};hZ.exports=hJ;var h0=a(h$),h1={},h2={get exports(){return h1},set exports(t){h1=t}},h5=$;h5.JSON||(h5.JSON={stringify:JSON.stringify}),h2.exports=function(e,i,o){return y(h5.JSON.stringify,null,arguments)};var h3=a(h1),h4={},h6={get exports(){return h4},set exports(t){h4=t}},h9="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,h8=TypeError,h7=function(e,i){if(e<i)throw h8("Not enough arguments");return e},dt=c.Function,de=/MSIE .\./.test(tt)||h9&&((df=c.Bun.version.split(".")).length<3||0==df[0]&&(df[1]<3||3==df[1]&&0==df[2])),di=function(e,i){var o=i?2:1;return de?function(n,r){var s=h7(arguments.length,1)>o,a=M(n)?n:dt(n),h=s?eD(arguments,o):[],d=s?function(){y(a,this,h)}:a;return i?e(d,r):e(d)}:e},dn=di(c.setInterval,!0);en({global:!0,bind:!0,forced:c.setInterval!==dn},{setInterval:dn});var dr=di(c.setTimeout,!0);en({global:!0,bind:!0,forced:c.setTimeout!==dr},{setTimeout:dr});var ds=$.setTimeout;h6.exports=ds;var da=a(h4),dh={},dd={get exports(){return dh},set exports(t){dh=t}};en({target:"Array",proto:!0},{fill:function(e){for(var i=tE(this),o=ef(i),n=arguments.length,r=ec(n>1?arguments[1]:void 0,o),s=n>2?arguments[2]:void 0,a=void 0===s?o:ec(s,o);a>r;)i[r++]=e;return i}});var dl=eR("Array").fill,dc=Array.prototype;dd.exports=function(e){var i=e.fill;return e===dc||J(dc,e)&&i===dc.fill?dl:i};var du,df,dp,dv=a(dh);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */function dg(){return(dg=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function dy(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i}function dm(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}dp="function"!=typeof Object.assign?function(e){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var n=arguments[o];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])}return i}:Object.assign;var db,dw=["","webkit","Moz","MS","ms","o"],dx="undefined"==typeof document?{style:{}}:document.createElement("div"),dk=Math.round,d_=Math.abs,dE=Date.now;function dO(e,i){for(var o,n,r=i[0].toUpperCase()+i.slice(1),s=0;s<dw.length;){if((n=(o=dw[s])?o+r:i)in e)return n;s++}}db="undefined"==typeof window?{}:window;var dC=dO(dx.style,"touchAction"),dS=void 0!==dC,dT="compute",dM="auto",dP="manipulation",dD="none",dI="pan-x",dB="pan-y",dz=function(){if(!dS)return!1;var e={},i=db.CSS&&db.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(o){return e[o]=!i||db.CSS.supports("touch-action",o)}),e}(),dF="ontouchstart"in db,dN=void 0!==dO(db,"PointerEvent"),dA=dF&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),dR="touch",dj="mouse",dL=["x","y"],dH=["clientX","clientY"];function dW(e,i,o){var n;if(e){if(e.forEach)e.forEach(i,o);else if(void 0!==e.length)for(n=0;n<e.length;)i.call(o,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&i.call(o,e[n],n,e)}}function dV(e,i){return"function"==typeof e?e.apply(i&&i[0]||void 0,i):e}function dq(e,i){return e.indexOf(i)>-1}var dU=function(){function e(e,i){this.manager=e,this.set(i)}var i=e.prototype;return i.set=function(e){e===dT&&(e=this.compute()),dS&&this.manager.element.style&&dz[e]&&(this.manager.element.style[dC]=e),this.actions=e.toLowerCase().trim()},i.update=function(){this.set(this.manager.options.touchAction)},i.compute=function(){var e=[];return dW(this.manager.recognizers,function(i){dV(i.options.enable,[i])&&(e=e.concat(i.getTouchAction()))}),function(e){if(dq(e,dD))return dD;var i=dq(e,dI),o=dq(e,dB);return i&&o?dD:i||o?i?dI:dB:dq(e,dP)?dP:dM}(e.join(" "))},i.preventDefaults=function(e){var i=e.srcEvent,o=e.offsetDirection;if(this.manager.session.prevented)i.preventDefault();else{var n=this.actions,r=dq(n,dD)&&!dz[dD],s=dq(n,dB)&&!dz[dB],a=dq(n,dI)&&!dz[dI];if(r){var h=1===e.pointers.length,d=e.distance<2,l=e.deltaTime<250;if(h&&d&&l)return}if(!a||!s)return r||s&&6&o||a&&24&o?this.preventSrc(i):void 0}},i.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function dY(e,i){for(;e;){if(e===i)return!0;e=e.parentNode}return!1}function dX(e){var i=e.length;if(1===i)return{x:dk(e[0].clientX),y:dk(e[0].clientY)};for(var o=0,n=0,r=0;r<i;)o+=e[r].clientX,n+=e[r].clientY,r++;return{x:dk(o/i),y:dk(n/i)}}function dG(e){for(var i=[],o=0;o<e.pointers.length;)i[o]={clientX:dk(e.pointers[o].clientX),clientY:dk(e.pointers[o].clientY)},o++;return{timeStamp:dE(),pointers:i,center:dX(i),deltaX:e.deltaX,deltaY:e.deltaY}}function dK(e,i,o){o||(o=dL);var n=i[o[0]]-e[o[0]],r=i[o[1]]-e[o[1]];return Math.sqrt(n*n+r*r)}function d$(e,i,o){o||(o=dL);var n=i[o[0]]-e[o[0]];return 180*Math.atan2(i[o[1]]-e[o[1]],n)/Math.PI}function dZ(e,i){return e===i?1:d_(e)>=d_(i)?e<0?2:4:i<0?8:16}function dQ(e,i,o){return{x:i/e||0,y:o/e||0}}function dJ(e,i,o){var n,r,s,a,h,d,l,c,u,f,p,v,g,y,m,b,w,x,k,_,E=o.pointers.length,O=o.changedPointers.length,C=1&i&&E-O==0;o.isFirst=!!C,o.isFinal=!!(12&i&&E-O==0),C&&(e.session={}),o.eventType=i,n=o,r=e.session,a=(s=n.pointers).length,r.firstInput||(r.firstInput=dG(n)),a>1&&!r.firstMultiple?r.firstMultiple=dG(n):1===a&&(r.firstMultiple=!1),h=r.firstInput,l=(d=r.firstMultiple)?d.center:h.center,c=n.center=dX(s),n.timeStamp=dE(),n.deltaTime=n.timeStamp-h.timeStamp,n.angle=d$(l,c),n.distance=dK(l,c),u=r,p=(f=n).center,v=u.offsetDelta||{},g=u.prevDelta||{},y=u.prevInput||{},1!==f.eventType&&4!==y.eventType||(g=u.prevDelta={x:y.deltaX||0,y:y.deltaY||0},v=u.offsetDelta={x:p.x,y:p.y}),f.deltaX=g.x+(p.x-v.x),f.deltaY=g.y+(p.y-v.y),n.offsetDirection=dZ(n.deltaX,n.deltaY),b=dQ(n.deltaTime,n.deltaX,n.deltaY),n.overallVelocityX=b.x,n.overallVelocityY=b.y,n.overallVelocity=d_(b.x)>d_(b.y)?b.x:b.y,n.scale=d?(m=d.pointers,dK(s[0],s[1],dH)/dK(m[0],m[1],dH)):1,n.rotation=d?(w=d.pointers,d$(s[1],s[0],dH)+d$(w[1],w[0],dH)):0,n.maxPointers=r.prevInput?n.pointers.length>r.prevInput.maxPointers?n.pointers.length:r.prevInput.maxPointers:n.pointers.length,function(e,i){var o,n,r,s,a=e.lastInterval||i,h=i.timeStamp-a.timeStamp;if(8!==i.eventType&&(h>25||void 0===a.velocity)){var d=i.deltaX-a.deltaX,l=i.deltaY-a.deltaY,c=dQ(h,d,l);n=c.x,r=c.y,o=d_(c.x)>d_(c.y)?c.x:c.y,s=dZ(d,l),e.lastInterval=i}else o=a.velocity,n=a.velocityX,r=a.velocityY,s=a.direction;i.velocity=o,i.velocityX=n,i.velocityY=r,i.direction=s}(r,n),k=e.element,dY(x=(_=n.srcEvent).composedPath?_.composedPath()[0]:_.path?_.path[0]:_.target,k)&&(k=x),n.target=k,e.emit("hammer.input",o),e.recognize(o),e.session.prevInput=o}function d0(e){return e.trim().split(/\s+/g)}function d1(e,i,o){dW(d0(i),function(i){e.addEventListener(i,o,!1)})}function d2(e,i,o){dW(d0(i),function(i){e.removeEventListener(i,o,!1)})}function d5(e){var i=e.ownerDocument||e;return i.defaultView||i.parentWindow||window}var d3=function(){function e(e,i){var o=this;this.manager=e,this.callback=i,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(i){dV(e.options.enable,[e])&&o.handler(i)},this.init()}var i=e.prototype;return i.handler=function(){},i.init=function(){this.evEl&&d1(this.element,this.evEl,this.domHandler),this.evTarget&&d1(this.target,this.evTarget,this.domHandler),this.evWin&&d1(d5(this.element),this.evWin,this.domHandler)},i.destroy=function(){this.evEl&&d2(this.element,this.evEl,this.domHandler),this.evTarget&&d2(this.target,this.evTarget,this.domHandler),this.evWin&&d2(d5(this.element),this.evWin,this.domHandler)},e}();function d4(e,i,o){if(e.indexOf&&!o)return e.indexOf(i);for(var n=0;n<e.length;){if(o&&e[n][o]==i||!o&&e[n]===i)return n;n++}return -1}var d6={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},d9={2:dR,3:"pen",4:dj,5:"kinect"},d8="pointerdown",d7="pointermove pointerup pointercancel";db.MSPointerEvent&&!db.PointerEvent&&(d8="MSPointerDown",d7="MSPointerMove MSPointerUp MSPointerCancel");var lt=function(e){function i(){var o,n=i.prototype;return n.evEl=d8,n.evWin=d7,(o=e.apply(this,arguments)||this).store=o.manager.session.pointerEvents=[],o}return dy(i,e),i.prototype.handler=function(e){var i=this.store,o=!1,n=d6[e.type.toLowerCase().replace("ms","")],r=d9[e.pointerType]||e.pointerType,s=d4(i,e.pointerId,"pointerId");1&n&&(0===e.button||r===dR)?s<0&&(i.push(e),s=i.length-1):12&n&&(o=!0),s<0||(i[s]=e,this.callback(this.manager,n,{pointers:i,changedPointers:[e],pointerType:r,srcEvent:e}),o&&i.splice(s,1))},i}(d3);function le(e){return Array.prototype.slice.call(e,0)}function li(e,i,o){for(var n=[],r=[],s=0;s<e.length;){var a=i?e[s][i]:e[s];0>d4(r,a)&&n.push(e[s]),r[s]=a,s++}return o&&(n=i?n.sort(function(e,o){return e[i]>o[i]}):n.sort()),n}var lo={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ln=function(e){function i(){var o;return i.prototype.evTarget="touchstart touchmove touchend touchcancel",(o=e.apply(this,arguments)||this).targetIds={},o}return dy(i,e),i.prototype.handler=function(e){var i=lo[e.type],o=lr.call(this,e,i);o&&this.callback(this.manager,i,{pointers:o[0],changedPointers:o[1],pointerType:dR,srcEvent:e})},i}(d3);function lr(e,i){var o,n,r=le(e.touches),s=this.targetIds;if(3&i&&1===r.length)return s[r[0].identifier]=!0,[r,r];var a=le(e.changedTouches),h=[],d=this.target;if(n=r.filter(function(e){return dY(e.target,d)}),1===i)for(o=0;o<n.length;)s[n[o].identifier]=!0,o++;for(o=0;o<a.length;)s[a[o].identifier]&&h.push(a[o]),12&i&&delete s[a[o].identifier],o++;return h.length?[li(n.concat(h),"identifier",!0),h]:void 0}var ls={mousedown:1,mousemove:2,mouseup:4},la=function(e){function i(){var o,n=i.prototype;return n.evEl="mousedown",n.evWin="mousemove mouseup",(o=e.apply(this,arguments)||this).pressed=!1,o}return dy(i,e),i.prototype.handler=function(e){var i=ls[e.type];1&i&&0===e.button&&(this.pressed=!0),2&i&&1!==e.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[e],changedPointers:[e],pointerType:dj,srcEvent:e}))},i}(d3);function lh(e){var i=e.changedPointers[0];if(i.identifier===this.primaryTouch){var o={x:i.clientX,y:i.clientY},n=this.lastTouches;this.lastTouches.push(o),setTimeout(function(){var e=n.indexOf(o);e>-1&&n.splice(e,1)},2500)}}function ld(e,i){1&e?(this.primaryTouch=i.changedPointers[0].identifier,lh.call(this,i)):12&e&&lh.call(this,i)}function ll(e){for(var i=e.srcEvent.clientX,o=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(i-r.x),a=Math.abs(o-r.y);if(s<=25&&a<=25)return!0}return!1}var lc=function(e){function i(i,o){var n;return(n=e.call(this,i,o)||this).handler=function(e,i,o){var r=o.pointerType===dR,s=o.pointerType===dj;if(!(s&&o.sourceCapabilities&&o.sourceCapabilities.firesTouchEvents)){if(r)ld.call(dm(dm(n)),i,o);else if(s&&ll.call(dm(dm(n)),o))return;n.callback(e,i,o)}},n.touch=new ln(n.manager,n.handler),n.mouse=new la(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return dy(i,e),i.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},i}(d3);function lu(e,i,o){return!!Array.isArray(e)&&(dW(e,o[i],o),!0)}var lf=1;function lp(e,i){var o=i.manager;return o?o.get(e):e}function lv(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}var lg=function(){function e(e){void 0===e&&(e={}),this.options=dg({enable:!0},e),this.id=lf++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var i=e.prototype;return i.set=function(e){return dp(this.options,e),this.manager&&this.manager.touchAction.update(),this},i.recognizeWith=function(e){if(lu(e,"recognizeWith",this))return this;var i=this.simultaneous;return i[(e=lp(e,this)).id]||(i[e.id]=e,e.recognizeWith(this)),this},i.dropRecognizeWith=function(e){return lu(e,"dropRecognizeWith",this)||(e=lp(e,this),delete this.simultaneous[e.id]),this},i.requireFailure=function(e){if(lu(e,"requireFailure",this))return this;var i=this.requireFail;return -1===d4(i,e=lp(e,this))&&(i.push(e),e.requireFailure(this)),this},i.dropRequireFailure=function(e){if(lu(e,"dropRequireFailure",this))return this;e=lp(e,this);var i=d4(this.requireFail,e);return i>-1&&this.requireFail.splice(i,1),this},i.hasRequireFailures=function(){return this.requireFail.length>0},i.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},i.emit=function(e){var i=this,o=this.state;function n(o){i.manager.emit(o,e)}o<8&&n(i.options.event+lv(o)),n(i.options.event),e.additionalEvent&&n(e.additionalEvent),o>=8&&n(i.options.event+lv(o))},i.tryEmit=function(e){if(this.canEmit())return this.emit(e);this.state=32},i.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},i.recognize=function(e){var i=dp({},e);if(!dV(this.options.enable,[this,i]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(i),30&this.state&&this.tryEmit(i)},i.process=function(e){},i.getTouchAction=function(){},i.reset=function(){},e}(),ly=function(e){function i(i){var o;return void 0===i&&(i={}),(o=e.call(this,dg({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this).pTime=!1,o.pCenter=!1,o._timer=null,o._input=null,o.count=0,o}dy(i,e);var o=i.prototype;return o.getTouchAction=function(){return[dP]},o.process=function(e){var i=this,o=this.options,n=e.pointers.length===o.pointers,r=e.distance<o.threshold,s=e.deltaTime<o.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&s&&n){if(4!==e.eventType)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<o.interval,h=!this.pCenter||dK(this.pCenter,e.center)<o.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,h&&a?this.count+=1:this.count=1,this._input=e,0==this.count%o.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){i.state=8,i.tryEmit()},o.interval),2):8}return 32},o.failTimeout=function(){var e=this;return this._timer=setTimeout(function(){e.state=32},this.options.interval),32},o.reset=function(){clearTimeout(this._timer)},o.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},i}(lg),lm=function(e){function i(i){return void 0===i&&(i={}),e.call(this,dg({pointers:1},i))||this}dy(i,e);var o=i.prototype;return o.attrTest=function(e){var i=this.options.pointers;return 0===i||e.pointers.length===i},o.process=function(e){var i=this.state,o=e.eventType,n=6&i,r=this.attrTest(e);return n&&(8&o||!r)?16|i:n||r?4&o?8|i:2&i?4|i:2:32},i}(lg);function lb(e){return 16===e?"down":8===e?"up":2===e?"left":4===e?"right":""}var lw=function(e){function i(i){var o;return void 0===i&&(i={}),(o=e.call(this,dg({event:"pan",threshold:10,pointers:1,direction:30},i))||this).pX=null,o.pY=null,o}dy(i,e);var o=i.prototype;return o.getTouchAction=function(){var e=this.options.direction,i=[];return 6&e&&i.push(dB),24&e&&i.push(dI),i},o.directionTest=function(e){var i=this.options,o=!0,n=e.distance,r=e.direction,s=e.deltaX,a=e.deltaY;return r&i.direction||(6&i.direction?(r=0===s?1:s<0?2:4,o=s!==this.pX,n=Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,o=a!==this.pY,n=Math.abs(e.deltaY))),e.direction=r,o&&n>i.threshold&&r&i.direction},o.attrTest=function(e){return lm.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},o.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var o=lb(i.direction);o&&(i.additionalEvent=this.options.event+o),e.prototype.emit.call(this,i)},i}(lm),lx=function(e){function i(i){return void 0===i&&(i={}),e.call(this,dg({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},i))||this}dy(i,e);var o=i.prototype;return o.getTouchAction=function(){return lw.prototype.getTouchAction.call(this)},o.attrTest=function(i){var o,n=this.options.direction;return 30&n?o=i.overallVelocity:6&n?o=i.overallVelocityX:24&n&&(o=i.overallVelocityY),e.prototype.attrTest.call(this,i)&&n&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&d_(o)>this.options.velocity&&4&i.eventType},o.emit=function(e){var i=lb(e.offsetDirection);i&&this.manager.emit(this.options.event+i,e),this.manager.emit(this.options.event,e)},i}(lm),lk=function(e){function i(i){return void 0===i&&(i={}),e.call(this,dg({event:"pinch",threshold:0,pointers:2},i))||this}dy(i,e);var o=i.prototype;return o.getTouchAction=function(){return[dD]},o.attrTest=function(i){return e.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||2&this.state)},o.emit=function(i){if(1!==i.scale){var o=i.scale<1?"in":"out";i.additionalEvent=this.options.event+o}e.prototype.emit.call(this,i)},i}(lm),l_=function(e){function i(i){return void 0===i&&(i={}),e.call(this,dg({event:"rotate",threshold:0,pointers:2},i))||this}dy(i,e);var o=i.prototype;return o.getTouchAction=function(){return[dD]},o.attrTest=function(i){return e.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||2&this.state)},i}(lm),lE=function(e){function i(i){var o;return void 0===i&&(i={}),(o=e.call(this,dg({event:"press",pointers:1,time:251,threshold:9},i))||this)._timer=null,o._input=null,o}dy(i,e);var o=i.prototype;return o.getTouchAction=function(){return[dM]},o.process=function(e){var i=this,o=this.options,n=e.pointers.length===o.pointers,r=e.distance<o.threshold,s=e.deltaTime>o.time;if(this._input=e,r&&n&&(!(12&e.eventType)||s)){if(1&e.eventType)this.reset(),this._timer=setTimeout(function(){i.state=8,i.tryEmit()},o.time);else if(4&e.eventType)return 8}else this.reset();return 32},o.reset=function(){clearTimeout(this._timer)},o.emit=function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=dE(),this.manager.emit(this.options.event,this._input)))},i}(lg),lO={domEvents:!1,touchAction:dT,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},lC=[[l_,{enable:!1}],[lk,{enable:!1},["rotate"]],[lx,{direction:6}],[lw,{direction:6},["swipe"]],[ly],[ly,{event:"doubletap",taps:2},["tap"]],[lE]];function lS(e,i){var o,n=e.element;n.style&&(dW(e.options.cssProps,function(r,s){o=dO(n.style,s),i?(e.oldCssProps[o]=n.style[o],n.style[o]=r):n.style[o]=e.oldCssProps[o]||""}),i||(e.oldCssProps={}))}var lT=function(){function e(e,i){var o=this;this.options=dp({},lO,i||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(dN?lt:dA?ln:dF?lc:la))(this,dJ),this.touchAction=new dU(this,this.options.touchAction),lS(this,!0),dW(this.options.recognizers,function(e){var i=o.add(new e[0](e[1]));e[2]&&i.recognizeWith(e[2]),e[3]&&i.requireFailure(e[3])},this)}var i=e.prototype;return i.set=function(e){return dp(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},i.stop=function(e){this.session.stopped=e?2:1},i.recognize=function(e){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(e);var o,n=this.recognizers,r=i.curRecognizer;(!r||r&&8&r.state)&&(i.curRecognizer=null,r=null);for(var s=0;s<n.length;)o=n[s],2===i.stopped||r&&o!==r&&!o.canRecognizeWith(r)?o.reset():o.recognize(e),!r&&14&o.state&&(i.curRecognizer=o,r=o),s++}},i.get=function(e){if(e instanceof lg)return e;for(var i=this.recognizers,o=0;o<i.length;o++)if(i[o].options.event===e)return i[o];return null},i.add=function(e){if(lu(e,"add",this))return this;var i=this.get(e.options.event);return i&&this.remove(i),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},i.remove=function(e){if(lu(e,"remove",this))return this;var i=this.get(e);if(e){var o=this.recognizers,n=d4(o,i);-1!==n&&(o.splice(n,1),this.touchAction.update())}return this},i.on=function(e,i){if(void 0===e||void 0===i)return this;var o=this.handlers;return dW(d0(e),function(e){o[e]=o[e]||[],o[e].push(i)}),this},i.off=function(e,i){if(void 0===e)return this;var o=this.handlers;return dW(d0(e),function(e){i?o[e]&&o[e].splice(d4(o[e],i),1):delete o[e]}),this},i.emit=function(e,i){this.options.domEvents&&((o=document.createEvent("Event")).initEvent(e,!0,!0),o.gesture=i,i.target.dispatchEvent(o));var o,n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){i.type=e,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](i),r++}},i.destroy=function(){this.element&&lS(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),lM={touchstart:1,touchmove:2,touchend:4,touchcancel:8},lP=function(e){function i(){var o,n=i.prototype;return n.evTarget="touchstart",n.evWin="touchstart touchmove touchend touchcancel",(o=e.apply(this,arguments)||this).started=!1,o}return dy(i,e),i.prototype.handler=function(e){var i=lM[e.type];if(1===i&&(this.started=!0),this.started){var o=lD.call(this,e,i);12&i&&o[0].length-o[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:o[0],changedPointers:o[1],pointerType:dR,srcEvent:e})}},i}(d3);function lD(e,i){var o=le(e.touches),n=le(e.changedTouches);return 12&i&&(o=li(o.concat(n),"identifier",!0)),[o,n]}function lI(e,i,o){var n="DEPRECATED METHOD: "+i+"\n"+o+" AT \n";return function(){var i=Error("get-stack-trace"),o=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,n,o),e.apply(this,arguments)}}var lB=lI(function(e,i,o){for(var n=Object.keys(i),r=0;r<n.length;)(!o||o&&void 0===e[n[r]])&&(e[n[r]]=i[n[r]]),r++;return e},"extend","Use `assign`."),lz=lI(function(e,i){return lB(e,i,!0)},"merge","Use `assign`.");function lF(e,i){return function(){return e.apply(i,arguments)}}var lN=((cs=function(e,i){return void 0===i&&(i={}),new lT(e,dg({recognizers:lC.concat()},i))}).VERSION="2.0.17-rc",cs.DIRECTION_ALL=30,cs.DIRECTION_DOWN=16,cs.DIRECTION_LEFT=2,cs.DIRECTION_RIGHT=4,cs.DIRECTION_UP=8,cs.DIRECTION_HORIZONTAL=6,cs.DIRECTION_VERTICAL=24,cs.DIRECTION_NONE=1,cs.DIRECTION_DOWN=16,cs.INPUT_START=1,cs.INPUT_MOVE=2,cs.INPUT_END=4,cs.INPUT_CANCEL=8,cs.STATE_POSSIBLE=1,cs.STATE_BEGAN=2,cs.STATE_CHANGED=4,cs.STATE_ENDED=8,cs.STATE_RECOGNIZED=8,cs.STATE_CANCELLED=16,cs.STATE_FAILED=32,cs.Manager=lT,cs.Input=d3,cs.TouchAction=dU,cs.TouchInput=ln,cs.MouseInput=la,cs.PointerEventInput=lt,cs.TouchMouseInput=lc,cs.SingleTouchInput=lP,cs.Recognizer=lg,cs.AttrRecognizer=lm,cs.Tap=ly,cs.Pan=lw,cs.Swipe=lx,cs.Pinch=lk,cs.Rotate=l_,cs.Press=lE,cs.on=d1,cs.off=d2,cs.each=dW,cs.merge=lz,cs.extend=lB,cs.bindFn=lF,cs.assign=dp,cs.inherit=function(e,i,o){var n,r=i.prototype;(n=e.prototype=Object.create(r)).constructor=e,n._super=r,o&&dp(n,o)},cs.bindFn=lF,cs.prefixed=dO,cs.toArray=le,cs.inArray=d4,cs.uniqueArray=li,cs.splitStr=d0,cs.boolOrFn=dV,cs.hasParent=dY,cs.addEventListeners=d1,cs.removeEventListeners=d2,cs.defaults=dp({},lO,{preset:lC}),cs);function lA(e,i){var o=void 0!==s5&&o1(e)||e["@@iterator"];if(!o){if(ar(e)||(o=function(e,i){if(e){if("string"==typeof e)return lR(e,i);var o,n=at(o=Object.prototype.toString.call(e)).call(o,8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return oL(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lR(e,i)}}(e))||i&&e&&"number"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,h=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){h=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(h)throw s}}}}function lR(e,i){(null==i||i>e.length)&&(i=e.length);for(var o=0,n=Array(i);o<i;o++)n[o]=e[o];return n}function lj(){for(var e,i,o,n,r,s,a,h=arguments.length,d=Array(h),l=0;l<h;l++)d[l]=arguments[l];return o=(i=s0(function(){for(var e,i=(e=4022871197,function(i){for(var o=i.toString(),n=0;n<o.length;n++){var r=.02519603282416938*(e+=o.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 23283064365386963e-26*(e>>>0)}),o=i(" "),n=i(" "),r=i(" "),s=0;s<arguments.length;s++)(o-=i(s<0||arguments.length<=s?void 0:arguments[s]))<0&&(o+=1),(n-=i(s<0||arguments.length<=s?void 0:arguments[s]))<0&&(n+=1),(r-=i(s<0||arguments.length<=s?void 0:arguments[s]))<0&&(r+=1);return[o,n,r]}(e=d.length?d:[ax()]),3))[0],n=i[1],r=i[2],s=1,(a=function(){var e=2091639*o+23283064365386963e-26*s;return o=n,n=r,r=e-(s=0|e)}).uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=e,a.version="0.9",a}lN.defaults,s5("DELETE");var lL="undefined"!=typeof window?window.Hammer||lN:function(){var e;return{on:e=function(){},off:e,destroy:e,emit:e,get:function(){return{set:e}}}};function lH(e){var i,o=this;this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){o._dom.overlay.parentNode.removeChild(o._dom.overlay)});var n=lL(this._dom.overlay);n.on("tap",eW(i=this._onTapOverlay).call(i,this)),this._cleanupQueue.push(function(){n.destroy()});var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];aP(r).call(r,function(e){n.on(e,function(e){e.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(i){(function(e,i){for(;e;){if(e===i)return!0;e=e.parentNode}return!1})(i.target,e)||o.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",o._onClick)})),this._escListener=function(e){("key"in e?"Escape"===e.key:27===e.keyCode)&&o.deactivate()}}e$(lH.prototype),lH.current=null,lH.prototype.destroy=function(){this.deactivate();var e,i,o,n=lA(aA(e=aZ(i=this._cleanupQueue).call(i,0)).call(e));try{for(n.s();!(o=n.n()).done;)(0,o.value)()}catch(e){n.e(e)}finally{n.f()}},lH.prototype.activate=function(){lH.current&&lH.current.deactivate(),lH.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},lH.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},lH.prototype._onTapOverlay=function(e){this.activate(),e.srcEvent.stopPropagation()};var lW=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,lV=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,lq=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,lU=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function lY(e){if(e)for(;!0===e.hasChildNodes();){var i=e.firstChild;i&&(lY(i),e.removeChild(i))}}function lX(e){return e instanceof String||"string"==typeof e}function lG(e){return"object"===sb(e)&&null!==e}function lK(e,i,o,n){var r=!1;!0===n&&(r=null===i[o]&&void 0!==e[o]),r?delete e[o]:e[o]=i[o]}function l$(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ar(o))throw TypeError("Arrays are not supported by deepExtend");for(var r=0;r<e.length;r++){var s=e[r];if(Object.prototype.hasOwnProperty.call(o,s)){if(o[s]&&o[s].constructor===Object)void 0===i[s]&&(i[s]={}),i[s].constructor===Object?lQ(i[s],o[s],!1,n):lK(i,o,s,n);else{if(ar(o[s]))throw TypeError("Arrays are not supported by deepExtend");lK(i,o,s,n)}}}return i}function lZ(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ar(o))throw TypeError("Arrays are not supported by deepExtend");for(var r in o)if(Object.prototype.hasOwnProperty.call(o,r)&&!he(e).call(e,r)){if(o[r]&&o[r].constructor===Object)void 0===i[r]&&(i[r]={}),i[r].constructor===Object?lQ(i[r],o[r]):lK(i,o,r,n);else if(ar(o[r])){i[r]=[];for(var s=0;s<o[r].length;s++)i[r].push(o[r][s])}else lK(i,o,r,n)}return i}function lQ(e,i){var o,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var s in i)(Object.prototype.hasOwnProperty.call(i,s)||!0===n)&&("object"===sb(i[s])&&null!==i[s]&&hr(i[s])===Object.prototype?void 0===e[s]?e[s]=lQ({},i[s],n):"object"===sb(e[s])&&null!==e[s]&&hr(e[s])===Object.prototype?lQ(e[s],i[s],n):lK(e,i,s,r):ar(i[s])?e[s]=at(o=i[s]).call(o):lK(e,i,s,r));return e}function lJ(e,i){var o;return s8(o=[]).call(o,s1(e),[i])}function l0(e,i){if(ar(e))for(var o=e.length,n=0;n<o;n++)i(e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&i(e[r],r,e)}function l1(e){var i;switch(e.length){case 3:case 4:return(i=lV.exec(e))?{r:hF(i[1]+i[1],16),g:hF(i[2]+i[2],16),b:hF(i[3]+i[3],16)}:null;case 6:case 7:return(i=lW.exec(e))?{r:hF(i[1],16),g:hF(i[2],16),b:hF(i[3],16)}:null;default:return null}}function l2(e,i){if(he(e).call(e,"rgba"))return e;if(he(e).call(e,"rgb")){var o=e.substr(hV(e).call(e,"(")+1).replace(")","").split(",");return"rgba("+o[0]+","+o[1]+","+o[2]+","+i+")"}var n=l1(e);return null==n?e:"rgba("+n.r+","+n.g+","+n.b+","+i+")"}function l5(e,i,o){var n;return"#"+at(n=(16777216+(e<<16)+(i<<8)+o).toString(16)).call(n,1)}function l3(e,i){if(lX(e)){var o=e;if(n=o,lq.test(n)){var n,r,s=ac(r=o.substr(4).substr(0,o.length-5).split(",")).call(r,function(e){return hF(e)});o=l5(s[0],s[1],s[2])}if(!0===l8(o)){var a=function(e){var i=l1(e);if(!i)throw TypeError("'".concat(e,"' is not a valid color."));return l4(i.r,i.g,i.b)}(o),h={h:a.h,s:.8*a.s,v:Math.min(1,1.02*a.v)},d={h:a.h,s:Math.min(1,1.25*a.s),v:.8*a.v},l=l9(d.h,d.s,d.v),c=l9(h.h,h.s,h.v);return{background:o,border:l,highlight:{background:c,border:l},hover:{background:c,border:l}}}return{background:o,border:o,highlight:{background:o,border:o},hover:{background:o,border:o}}}return i?{background:e.background||i.background,border:e.border||i.border,highlight:lX(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||i.highlight.background,border:e.highlight&&e.highlight.border||i.highlight.border},hover:lX(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||i.hover.border,background:e.hover&&e.hover.background||i.hover.background}}:{background:e.background||void 0,border:e.border||void 0,highlight:lX(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||void 0,border:e.highlight&&e.highlight.border||void 0},hover:lX(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||void 0,background:e.hover&&e.hover.background||void 0}}}function l4(e,i,o){var n=Math.min(e/=255,Math.min(i/=255,o/=255)),r=Math.max(e,Math.max(i,o));return n===r?{h:0,s:0,v:n}:{h:60*((e===n?3:o===n?1:5)-(e===n?i-o:o===n?e-i:o-e)/(r-n))/360,s:(r-n)/r,v:r}}function l6(e,i,o){var n,r,s,a=Math.floor(6*e),h=6*e-a,d=o*(1-i),l=o*(1-h*i),c=o*(1-(1-h)*i);switch(a%6){case 0:n=o,r=c,s=d;break;case 1:n=l,r=o,s=d;break;case 2:n=d,r=o,s=c;break;case 3:n=d,r=l,s=o;break;case 4:n=c,r=d,s=o;break;case 5:n=o,r=d,s=l}return{r:Math.floor(255*n),g:Math.floor(255*r),b:Math.floor(255*s)}}function l9(e,i,o){var n=l6(e,i,o);return l5(n.r,n.g,n.b)}function l8(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function l7(e){if(null===e||"object"!==sb(e))return null;if(e instanceof Element)return e;var i=h0(e);for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&"object"==sb(e[o])&&(i[o]=l7(e[o]));return i}function ct(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(e){return null!=e},s=function(e){return null!==e&&"object"===sb(e)};if(!s(e))throw Error("Parameter mergeTarget must be an object");if(!s(i))throw Error("Parameter options must be an object");if(!r(o))throw Error("Parameter option must have a value");if(!s(n))throw Error("Parameter globalOptions must be an object");var a=i[o],h=s(n)&&!function(e){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}(n)?n[o]:void 0,d=h?h.enabled:void 0;if(void 0!==a){if("boolean"==typeof a)return s(e[o])||(e[o]={}),void(e[o].enabled=a);if(null===a&&!s(e[o])){if(!r(h))return;e[o]=h0(h)}if(s(a)){var l=!0;void 0!==a.enabled?l=a.enabled:void 0!==d&&(l=h.enabled),function(e,i,o){s(e[o])||(e[o]={});var n=i[o],r=e[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}(e,i,o),e[o].enabled=l}}}var ce={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function ci(e,i){ar(i)||(i=[i]);var o,n,r=lA(e);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s){o=s[i[0]];for(var a=1;a<i.length;a++)o&&(o=o[i[a]]);if(void 0!==o)break}}}catch(e){r.e(e)}finally{r.f()}return o}var co={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},cn=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;rY(this,e),this.pixelRatio=i,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return sT(e,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if("string"==typeof e)return co[e]}},{key:"setColor",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==e){var o,n=this._isColorString(e);if(void 0!==n&&(e=n),!0===lX(e)){if(!0===(r=e,lq.test(r))){var r,s,a=e.substr(4).substr(0,e.length-5).split(",");o={r:a[0],g:a[1],b:a[2],a:1}}else if(!0===(s=e,lU.test(s))){var h=e.substr(5).substr(0,e.length-6).split(",");o={r:h[0],g:h[1],b:h[2],a:h[3]}}else if(!0===l8(e)){var d=l1(e);o={r:d.r,g:d.g,b:d.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var l=void 0!==e.a?e.a:"1.0";o={r:e.r,g:e.g,b:e.b,a:l}}if(void 0===o)throw Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+h3(e));this._setColor(o,i)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=eT({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",da(function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=eT({},e)),this.color=e;var i=l4(e.r,e.g,e.b),o=2*Math.PI,n=this.r*i.s,r=this.centerCoordinates.x+n*Math.sin(o*i.h),s=this.centerCoordinates.y+n*Math.cos(o*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var i=l4(this.color.r,this.color.g,this.color.b);i.v=e/100;var o=l6(i.h,i.s,i.v);o.a=this.color.a,this.color=o,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,i=l4(e.r,e.g,e.b),o=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1)),o.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;o.clearRect(0,0,n,r),o.putImageData(this.hueCircle,0,0),o.fillStyle="rgba(0,0,0,"+(1-i.v)+")",o.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),dv(o).call(o),this.brightnessRange.value=100*i.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var e,i,o,n,r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(e){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(e){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var a=this;this.opacityRange.onchange=function(){a._setOpacity(this.value)},this.opacityRange.oninput=function(){a._setOpacity(this.value)},this.brightnessRange.onchange=function(){a._setBrightness(this.value)},this.brightnessRange.oninput=function(){a._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=eW(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=eW(i=this._apply).call(i,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=eW(o=this._save).call(o,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=eW(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new lL(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(i){i.isFirst&&e._moveSelector(i)}),this.hammer.on("tap",function(i){e._moveSelector(i)}),this.hammer.on("panstart",function(i){e._moveSelector(i)}),this.hammer.on("panmove",function(i){e._moveSelector(i)}),this.hammer.on("panend",function(i){e._moveSelector(i)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i,o,n,r,s=this.colorPickerCanvas.clientWidth,a=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,s,a),this.centerCoordinates={x:.5*s,y:.5*a},this.r=.49*s;var h,d=2*Math.PI/360,l=1/this.r;for(n=0;n<360;n++)for(r=0;r<this.r;r++)i=this.centerCoordinates.x+r*Math.sin(d*n),o=this.centerCoordinates.y+r*Math.cos(d*n),h=l6(.002777777777777778*n,r*l,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,s,a)}this.generated=!0}},{key:"_moveSelector",value:function(e){var i=this.colorPickerDiv.getBoundingClientRect(),o=e.center.x-i.left,n=e.center.y-i.top,r=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,a=o-s,h=n-r,d=Math.atan2(a,h),l=.98*Math.min(Math.sqrt(a*a+h*h),s);this.colorPickerSelector.style.top=Math.cos(d)*l+r-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=Math.sin(d)*l+s-.5*this.colorPickerSelector.clientWidth+"px";var c=d/(2*Math.PI);c=c<0?c+1:c;var u=l/this.r,f=l4(this.color.r,this.color.g,this.color.b);f.h=c,f.s=u;var p=l6(f.h,f.s,f.v);p.a=this.color.a,this.color=p,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}();function cr(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];if(i.length<1)throw TypeError("Invalid arguments.");if(1===i.length)return document.createTextNode(i[0]);var n=document.createElement(i[0]);return n.appendChild(cr.apply(void 0,s1(at(i).call(i,1)))),n}var cs,ca,ch=function(){function e(i,o,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};rY(this,e),this.parent=i,this.changedOptions=[],this.container=o,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},eT(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new cn(r),this.wrapper=void 0}return sT(e,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var i=!0;if("string"==typeof e)this.options.filter=e;else if(ar(e))this.options.filter=e.join();else if("object"===sb(e)){if(null==e)throw TypeError("options cannot be null");void 0!==e.container&&(this.options.container=e.container),void 0!==hc(e)&&(this.options.filter=hc(e)),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(i=e.enabled)}else"boolean"==typeof e?(this.options.filter=!0,i=e):"function"==typeof e&&(this.options.filter=e,i=!0);!1===hc(this.options)&&(i=!1),this.options.enabled=i}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=hc(this.options),i=0,o=!1;for(var n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,o=!1,"function"==typeof e?o=(o=e(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):!0!==e&&-1===hV(e).call(e,n)||(o=!0),!1!==o&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),i++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var i=this.moduleOptions,o=0;o<e.length;o++){if(void 0===i[e[o]]){i=void 0;break}i=i[e[o]]}return i}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var i=document.createElement("div");i.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var o=arguments.length,n=Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return aP(n).call(n,function(e){i.appendChild(e)}),this.domElements.push(i),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var i=document.createElement("div");i.className="vis-configuration vis-config-header",i.innerText=e,this._makeItem([],i)}},{key:"_makeLabel",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+i.length,!0===o){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(cr("i","b",e))}else n.innerText=e+":";return n}},{key:"_makeDropdown",value:function(e,i,o){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==i&&-1!==hV(e).call(e,i)&&(r=hV(e).call(e,i));for(var s=0;s<e.length;s++){var a=document.createElement("option");a.value=e[s],s===r&&(a.selected="selected"),a.innerText=e[s],n.appendChild(a)}var h=this;n.onchange=function(){h._update(this.value,o)};var d=this._makeLabel(o[o.length-1],o);this._makeItem(o,d,n)}},{key:"_makeRange",value:function(e,i,o){var n=e[0],r=e[1],s=e[2],a=e[3],h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range",h.min=r,h.max=s}catch(e){}h.step=a;var d="",l=0;void 0!==i?(i<0&&1.2*i<r?(h.min=Math.ceil(1.2*i),l=h.min,d="range increased"):i/1.2<r&&(h.min=Math.ceil(i/1.2),l=h.min,d="range increased"),1.2*i>s&&1!==s&&(h.max=Math.ceil(1.2*i),l=h.max,d="range increased"),h.value=i):h.value=n;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=h.value;var u=this;h.onchange=function(){c.value=this.value,u._update(Number(this.value),o)},h.oninput=function(){c.value=this.value};var f=this._makeLabel(o[o.length-1],o),p=this._makeItem(o,f,h,c);""!==d&&this.popupHistory[p]!==l&&(this.popupHistory[p]=l,this._setupPopup(d,p))}},{key:"_makeButton",value:function(){var e=this;if(!0===this.options.showButton){var i=document.createElement("div");i.className="vis-configuration vis-config-button",i.innerText="generate options",i.onclick=function(){e._printOptions()},i.onmouseover=function(){i.className="vis-configuration vis-config-button hover"},i.onmouseout=function(){i.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(i)}}},{key:"_setupPopup",value:function(e,i){var o=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=function(){o._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:i}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var i=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=da(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=da(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,i,o){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,void 0!==i&&(n.checked=i,i!==e&&("object"===sb(e)?i!==e.enabled&&this.changedOptions.push({path:o,value:i}):this.changedOptions.push({path:o,value:i})));var r=this;n.onchange=function(){r._update(this.checked,o)};var s=this._makeLabel(o[o.length-1],o);this._makeItem(o,s,n)}},{key:"_makeTextInput",value:function(e,i,o){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=i,i!==e&&this.changedOptions.push({path:o,value:i});var r=this;n.onchange=function(){r._update(this.value,o)};var s=this._makeLabel(o[o.length-1],o);this._makeItem(o,s,n)}},{key:"_makeColorField",value:function(e,i,o){var n=this,r=e[1],s=document.createElement("div");"none"!==(i=void 0===i?r:i)?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=i):s.className="vis-configuration vis-config-colorBlock none",i=void 0===i?r:i,s.onclick=function(){n._showColorPicker(i,s,o)};var a=this._makeLabel(o[o.length-1],o);this._makeItem(o,a,s)}},{key:"_showColorPicker",value:function(e,i,o){var n=this;i.onclick=function(){},this.colorPicker.insertTo(i),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(e){var r="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";i.style.backgroundColor=r,n._update(r,o)}),this.colorPicker.setCloseCallback(function(){i.onclick=function(){n._showColorPicker(e,i,o)}})}},{key:"_handleObject",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,r=hc(this.options),s=!1;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;var h=e[a],d=lJ(i,a);if("function"==typeof r&&!1===(n=r(a,i))&&!ar(h)&&"string"!=typeof h&&"boolean"!=typeof h&&h instanceof Object&&(this.allowCreation=!1,n=this._handleObject(h,d,!0),this.allowCreation=!1===o),!1!==n){s=!0;var l=this._getValue(d);if(ar(h))this._handleArray(h,l,d);else if("string"==typeof h)this._makeTextInput(h,l,d);else if("boolean"==typeof h)this._makeCheckbox(h,l,d);else if(h instanceof Object){if(!this.hideOption(i,a,this.moduleOptions)){if(void 0!==h.enabled){var c=lJ(d,"enabled"),u=this._getValue(c);if(!0===u){var f=this._makeLabel(a,d,!0);this._makeItem(d,f),s=this._handleObject(h,d)||s}else this._makeCheckbox(h,u,d)}else{var p=this._makeLabel(a,d,!0);this._makeItem(d,p),s=this._handleObject(h,d)||s}}}else console.error("dont know how to handle",h,a,d)}}return s}},{key:"_handleArray",value:function(e,i,o){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,i,o),e[1]!==i&&this.changedOptions.push({path:o,value:i})):"string"==typeof e[0]?(this._makeDropdown(e,i,o),e[0]!==i&&this.changedOptions.push({path:o,value:i})):"number"==typeof e[0]&&(this._makeRange(e,i,o),e[0]!==i&&this.changedOptions.push({path:o,value:Number(i)}))}},{key:"_update",value:function(e,i){var o=this._constructOptions(e,i);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",o),this.initialized=!0,this.parent.setOptions(o)}},{key:"_constructOptions",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o;e="false"!==(e="true"===e||e)&&e;for(var r=0;r<i.length;r++)"global"!==i[r]&&(void 0===n[i[r]]&&(n[i[r]]={}),r!==i.length-1?n=n[i[r]]:n[i[r]]=e);return o}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(cr("pre","const options = "+h3(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},i=0;i<this.changedOptions.length;i++)this._constructOptions(this.changedOptions[i].value,this.changedOptions[i].path,e);return e}}]),e}(),cd=function(){function e(i,o){rY(this,e),this.container=i,this.overflowMethod=o||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return sT(e,[{key:"setPosition",value:function(e,i){this.x=hF(e),this.y=hF(i)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var i=this.frame.clientHeight,o=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,s=0,a=0;if("flip"==this.overflowMethod){var h=!1,d=!0;this.y-i<this.padding&&(d=!1),this.x+o>r-this.padding&&(h=!0),s=h?this.x-o:this.x,a=d?this.y-i:this.y}else(a=this.y-i)+i+this.padding>n&&(a=n-i-this.padding),a<this.padding&&(a=this.padding),(s=this.x)+o+this.padding>r&&(s=r-o-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e}(),cl=!1,cc="background: #FFeeee; color: #dd0000",cu=function(){function e(){rY(this,e)}return sT(e,null,[{key:"validate",value:function(i,o,n){cl=!1,ca=o;var r=o;return void 0!==n&&(r=o[n]),e.parse(i,r,[]),cl}},{key:"parse",value:function(i,o,n){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.check(r,i,o,n)}},{key:"check",value:function(i,o,n,r){if(void 0!==n[i]||void 0!==n.__any__){var s=i,a=!0;void 0===n[i]&&void 0!==n.__any__&&(s="__any__",a="object"===e.getType(o[i]));var h=n[s];a&&void 0!==h.__type__&&(h=h.__type__),e.checkFields(i,o,n,s,h,r)}else e.getSuggestion(i,n,r)}},{key:"checkFields",value:function(i,o,n,r,s,a){var h=function(o){console.error("%c"+o+e.printLocation(a,i),cc)},d=e.getType(o[i]),l=s[d];void 0!==l?"array"===e.getType(l)&&-1===hV(l).call(l,o[i])?(h('Invalid option detected in "'+i+'". Allowed values are:'+e.print(l)+' not "'+o[i]+'". '),cl=!0):"object"===d&&"__any__"!==r&&(a=lJ(a,i),e.parse(o[i],n[r],a)):void 0===s.any&&(h('Invalid type received for "'+i+'". Expected: '+e.print(av(s))+". Received ["+d+'] "'+o[i]+'"'),cl=!0)}},{key:"getType",value:function(e){var i=sb(e);return"object"===i?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":ar(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===i?"number":"boolean"===i?"boolean":"string"===i?"string":void 0===i?"undefined":i}},{key:"getSuggestion",value:function(i,o,n){var r,s=e.findInOptions(i,o,n,!1),a=e.findInOptions(i,ca,[],!0);r=void 0!==s.indexMatch?" in "+e.printLocation(s.path,i,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n':a.distance<=4&&s.distance>a.distance?" in "+e.printLocation(s.path,i,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(a.path,a.closestMatch,""):s.distance<=8?'. Did you mean "'+s.closestMatch+'"?'+e.printLocation(s.path,i):". Did you mean one of these: "+e.print(av(o))+e.printLocation(n,i),console.error('%cUnknown option detected: "'+i+'"'+r,cc),cl=!0}},{key:"findInOptions",value:function(i,o,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,a="",h=[],d=i.toLowerCase(),l=void 0;for(var c in o){var u,f=void 0;if(void 0!==o[c].__type__&&!0===r){var p=e.findInOptions(i,o[c],lJ(n,c));s>p.distance&&(a=p.closestMatch,h=p.path,s=p.distance,l=p.indexMatch)}else -1!==hV(u=c.toLowerCase()).call(u,d)&&(l=c),s>(f=e.levenshteinDistance(i,c))&&(a=c,h=at(n).call(n),s=f)}return{closestMatch:a,path:h,distance:s,indexMatch:l}}},{key:"printLocation",value:function(e,i){for(var o="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",n=0;n<e.length;n++){for(var r=0;r<n+1;r++)o+="  ";o+=e[n]+": {\n"}for(var s=0;s<e.length+1;s++)o+="  ";o+=i+"\n";for(var a=0;a<e.length+1;a++){for(var h=0;h<e.length-a;h++)o+="  ";o+="}\n"}return o+"\n\n"}},{key:"print",value:function(e){return h3(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,i){if(0===e.length)return i.length;if(0===i.length)return e.length;var o,n,r=[];for(o=0;o<=i.length;o++)r[o]=[o];for(n=0;n<=e.length;n++)r[0][n]=n;for(o=1;o<=i.length;o++)for(n=1;n<=e.length;n++)i.charAt(o-1)==e.charAt(n-1)?r[o][n]=r[o-1][n-1]:r[o][n]=Math.min(r[o-1][n-1]+1,Math.min(r[o][n-1]+1,r[o-1][n]+1));return r[i.length][e.length]}}]),e}();function cf(e){return cm=e,function(){var e={};if(cb=0,cw=cm.charAt(0),cM(),"strict"===cx&&(e.strict=!0,cM()),"graph"!==cx&&"digraph"!==cx||(e.type=cx,cM()),ck===cg.IDENTIFIER&&(e.id=cx,cM()),"{"!=cx)throw cz("Angle bracket { expected");if(cM(),cP(e),"}"!=cx)throw cz("Angle bracket } expected");if(cM(),""!==cx)throw cz("End of file expected");return cM(),delete e.node,delete e.edge,delete e.graph,e}()}var cp={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},cv=h0(cp);cv.color="color.color",cv.style="dashes";var cg={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},cy={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},cm="",cb=0,cw="",cx="",ck=cg.NULL;function c_(){cb++,cw=cm.charAt(cb)}function cE(){return cm.charAt(cb+1)}function cO(e){var i=e.charCodeAt(0);return i<47?35===i||46===i:i<59?i>47:i<91?i>64:i<96?95===i:i<123&&i>96}function cC(e,i){if(e||(e={}),i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o]);return e}function cS(e,i){for(var o,n,r=null,s=[e],a=e;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(o=0,n=a.nodes.length;o<n;o++)if(i.id===a.nodes[o].id){r=a.nodes[o];break}}for(r||(r={id:i.id},e.node&&(r.attr=cC(r.attr,e.node))),o=s.length-1;o>=0;o--){var h,d=s[o];d.nodes||(d.nodes=[]),-1===hV(h=d.nodes).call(h,r)&&d.nodes.push(r)}i.attr&&(r.attr=cC(r.attr,i.attr))}function cT(e,i,o,n,r){var s={from:i,to:o,type:n};return e.edge&&(s.attr=cC({},e.edge)),s.attr=cC(s.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(s.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),s}function cM(){for(ck=cg.NULL,cx="";" "===cw||"	"===cw||"\n"===cw||"\r"===cw;)c_();do{var e=!1;if("#"===cw){for(var i=cb-1;" "===cm.charAt(i)||"	"===cm.charAt(i);)i--;if("\n"===cm.charAt(i)||""===cm.charAt(i)){for(;""!=cw&&"\n"!=cw;)c_();e=!0}}if("/"===cw&&"/"===cE()){for(;""!=cw&&"\n"!=cw;)c_();e=!0}if("/"===cw&&"*"===cE()){for(;""!=cw;){if("*"===cw&&"/"===cE()){c_(),c_();break}c_()}e=!0}for(;" "===cw||"	"===cw||"\n"===cw||"\r"===cw;)c_()}while(e);if(""!==cw){var o=cw+cE();if(cy[o])return ck=cg.DELIMITER,cx=o,c_(),void c_();if(cy[cw])return ck=cg.DELIMITER,cx=cw,void c_();if(cO(cw)||"-"===cw){for(cx+=cw,c_();cO(cw);)cx+=cw,c_();return"false"===cx?cx=!1:"true"===cx?cx=!0:isNaN(Number(cx))||(cx=Number(cx)),void(ck=cg.IDENTIFIER)}if('"'===cw){for(c_();""!=cw&&('"'!=cw||'"'===cw&&'"'===cE());)'"'===cw?(cx+=cw,c_()):"\\"===cw&&"n"===cE()?(cx+="\n",c_()):cx+=cw,c_();if('"'!=cw)throw cz('End of string " expected');return c_(),void(ck=cg.IDENTIFIER)}for(ck=cg.UNKNOWN;""!=cw;)cx+=cw,c_();throw SyntaxError('Syntax error in part "'+cF(cx,30)+'"')}ck=cg.DELIMITER}function cP(e){for(;""!==cx&&"}"!=cx;)(function(e){var i=cD(e);if(i)cI(e,i);else if(o=e,"node"===cx?(cM(),o.node=cB(),!1):"edge"===cx?(cM(),o.edge=cB(),!1):"graph"!==cx||(cM(),o.graph=cB(),!1)){if(ck!=cg.IDENTIFIER)throw cz("Identifier expected");var o,n,r,s=cx;if(cM(),"="===cx){if(cM(),ck!=cg.IDENTIFIER)throw cz("Identifier expected");e[s]=cx,cM()}else n={id:s},(r=cB())&&(n.attr=r),cS(e,n),cI(e,s)}})(e),";"===cx&&cM()}function cD(e){var i=null;if("subgraph"===cx&&((i={}).type="subgraph",cM(),ck===cg.IDENTIFIER&&(i.id=cx,cM())),"{"===cx){if(cM(),i||(i={}),i.parent=e,i.node=e.node,i.edge=e.edge,i.graph=e.graph,cP(i),"}"!=cx)throw cz("Angle bracket } expected");cM(),delete i.node,delete i.edge,delete i.graph,delete i.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(i)}return i}function cI(e,i){for(;"->"===cx||"--"===cx;){var o,n=cx;cM();var r=cD(e);if(r)o=r;else{if(ck!=cg.IDENTIFIER)throw cz("Identifier or subgraph expected");cS(e,{id:o=cx}),cM()}(function(e,i){if(e.edges||(e.edges=[]),e.edges.push(i),e.edge){var o=cC({},e.edge);i.attr=cC(o,i.attr)}})(e,cT(e,i,o,n,cB())),i=o}}function cB(){for(var e,i,o=null,n={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},s=[],a=[];"["===cx;){for(cM(),o={};""!==cx&&"]"!=cx;){if(ck!=cg.IDENTIFIER)throw cz("Attribute name expected");var h=cx;if(cM(),"="!=cx)throw cz("Equal sign = expected");if(cM(),ck!=cg.IDENTIFIER)throw cz("Attribute value expected");var d=cx;"style"===h&&(d=n[d]),"arrowhead"===h&&(h="arrows",d={to:{enabled:!0,type:r[d]}}),"arrowtail"===h&&(h="arrows",d={from:{enabled:!0,type:r[d]}}),s.push({attr:o,name:h,value:d}),a.push(h),cM(),","==cx&&cM()}if("]"!=cx)throw cz("Bracket ] expected");cM()}if(he(a).call(a,"dir")){var l,c={arrows:{}};for(e=0;e<s.length;e++)if("arrows"===s[e].name){if(null!=s[e].value.to)c.arrows.to=e;else{if(null==s[e].value.from)throw cz("Invalid value of arrows");c.arrows.from=e}}else"dir"===s[e].name&&(c.dir=e);var u,f,p=s[c.dir].value;if(!he(a).call(a,"arrows")){if("both"===p)s.push({attr:s[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=s.length-1,s.push({attr:s[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=s.length-1;else if("forward"===p)s.push({attr:s[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=s.length-1;else if("back"===p)s.push({attr:s[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=s.length-1;else{if("none"!==p)throw cz('Invalid dir type "'+p+'"');s.push({attr:s[c.dir].attr,name:"arrows",value:""}),c.arrows.to=s.length-1}}if("both"===p)c.arrows.to&&c.arrows.from?(f=s[c.arrows.to].value.to.type,u=s[c.arrows.from].value.from.type,s[c.arrows.to]={attr:s[c.arrows.to].attr,name:s[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:u}}},aZ(s).call(s,c.arrows.from,1)):c.arrows.to?(f=s[c.arrows.to].value.to.type,u="arrow",s[c.arrows.to]={attr:s[c.arrows.to].attr,name:s[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:u}}}):c.arrows.from&&(f="arrow",u=s[c.arrows.from].value.from.type,s[c.arrows.from]={attr:s[c.arrows.from].attr,name:s[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:u}}});else if("back"===p)c.arrows.to&&c.arrows.from?(f="",u=s[c.arrows.from].value.from.type,s[c.arrows.from]={attr:s[c.arrows.from].attr,name:s[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:u}}}):c.arrows.to?(f="",u="arrow",c.arrows.from=c.arrows.to,s[c.arrows.from]={attr:s[c.arrows.from].attr,name:s[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:u}}}):c.arrows.from&&(f="",u=s[c.arrows.from].value.from.type,s[c.arrows.to]={attr:s[c.arrows.from].attr,name:s[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:u}}}),s[c.arrows.from]={attr:s[c.arrows.from].attr,name:s[c.arrows.from].name,value:{from:{enabled:!0,type:s[c.arrows.from].value.from.type}}};else if("none"===p)s[l=c.arrows.to?c.arrows.to:c.arrows.from]={attr:s[l].attr,name:s[l].name,value:""};else{if("forward"!==p)throw cz('Invalid dir type "'+p+'"');c.arrows.to&&c.arrows.from||c.arrows.to?(f=s[c.arrows.to].value.to.type,u="",s[c.arrows.to]={attr:s[c.arrows.to].attr,name:s[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:u}}}):c.arrows.from&&(f="arrow",u="",c.arrows.to=c.arrows.from,s[c.arrows.to]={attr:s[c.arrows.to].attr,name:s[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:u}}}),s[c.arrows.to]={attr:s[c.arrows.to].attr,name:s[c.arrows.to].name,value:{to:{enabled:!0,type:s[c.arrows.to].value.to.type}}}}aZ(s).call(s,c.dir,1)}if(he(a).call(a,"penwidth")){var v=[];for(i=s.length,e=0;e<i;e++)"width"!==s[e].name&&("penwidth"===s[e].name&&(s[e].name="width"),v.push(s[e]));s=v}for(i=s.length,e=0;e<i;e++)!function(e,i,o){for(var n=i.split("."),r=e;n.length;){var s=n.shift();n.length?(r[s]||(r[s]={}),r=r[s]):r[s]=o}}(s[e].attr,s[e].name,s[e].value);return o}function cz(e){return SyntaxError(e+', got "'+cF(cx,30)+'" (char '+cb+")")}function cF(e,i){return e.length<=i?e:e.substr(0,27)+"..."}function cN(e,i,o){for(var n=i.split("."),r=n.pop(),s=e,a=0;a<n.length;a++){var h=n[a];h in s||(s[h]={}),s=s[h]}return s[r]=o,e}function cA(e,i){var o={};for(var n in e)if(e.hasOwnProperty(n)){var r=i[n];ar(r)?aP(r).call(r,function(i){cN(o,i,e[n])}):cN(o,"string"==typeof r?r:n,e[n])}return o}function cR(e){var i,o=cf(e),n={nodes:[],edges:[],options:{}};if(o.nodes&&aP(i=o.nodes).call(i,function(e){var i={id:e.id,label:String(e.label||e.id)};cC(i,cA(e.attr,cp)),i.image&&(i.shape="image"),n.nodes.push(i)}),o.edges){var r,s=function(e){var i={from:e.from,to:e.to};return cC(i,cA(e.attr,cv)),null==i.arrows&&"->"===e.type&&(i.arrows="to"),i};aP(r=o.edges).call(r,function(e){var i,o,r,a,h;i=e.from instanceof Object?e.from.nodes:{id:e.from},o=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges&&aP(r=e.from.edges).call(r,function(e){var i=s(e);n.edges.push(i)}),a=function(i,o){var r=s(cT(n,i.id,o.id,e.type,e.attr));n.edges.push(r)},ar(i)?aP(i).call(i,function(e){ar(o)?aP(o).call(o,function(i){a(e,i)}):a(e,o)}):ar(o)?aP(o).call(o,function(e){a(i,e)}):a(i,o),e.to instanceof Object&&e.to.edges&&aP(h=e.to.edges).call(h,function(e){var i=s(e);n.edges.push(i)})})}return o.attr&&(n.options=o.attr),n}var cj=Object.freeze({__proto__:null,DOTToGraph:cR,parseDOT:cf});function cL(e,i){var o,n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=i&&(null!=i.fixed&&(n.nodes.fixed=i.fixed),null!=i.parseColor&&(n.nodes.parseColor=i.parseColor),null!=i.inheritColor&&(n.edges.inheritColor=i.inheritColor));var r=e.edges,s=ac(r).call(r,function(e){var i={from:e.source,id:e.id,to:e.target};return null!=e.attributes&&(i.attributes=e.attributes),null!=e.label&&(i.label=e.label),null!=e.attributes&&null!=e.attributes.title&&(i.title=e.attributes.title),"Directed"===e.type&&(i.arrows="to"),e.color&&!1===n.edges.inheritColor&&(i.color=e.color),i});return{nodes:ac(o=e.nodes).call(o,function(e){var i={id:e.id,fixed:n.nodes.fixed&&null!=e.x&&null!=e.y};return null!=e.attributes&&(i.attributes=e.attributes),null!=e.label&&(i.label=e.label),null!=e.size&&(i.size=e.size),null!=e.attributes&&null!=e.attributes.title&&(i.title=e.attributes.title),null!=e.title&&(i.title=e.title),null!=e.x&&(i.x=e.x),null!=e.y&&(i.y=e.y),null!=e.color&&(!0===n.nodes.parseColor?i.color=e.color:i.color={background:e.color,border:e.color,highlight:{background:e.color,border:e.color},hover:{background:e.color,border:e.color}}),i}),edges:s}}var cH=Object.freeze({__proto__:null,parseGephi:cL}),cW=Object.freeze({__proto__:null,cn:{addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru můžete přidat nov\xfd vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavř\xedt",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat v\xfdběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažen\xedm z jednoho vrcholu do druh\xe9ho můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažen\xedm kontroln\xedho vrcholu hrany ji můžete připojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un nœud.",editNode:"\xc9diter le nœud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},uk:{addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"}}),cV=function(){function e(){rY(this,e),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return sT(e,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,i=this.image.height;this.width=e,this.height=i;var o=Math.floor(i/2),n=Math.floor(i/4),r=Math.floor(e/2),s=Math.floor(e/4),a=Math.floor(e/8);this.canvas.width=3*s,this.canvas.height=o,this.coordinates=[[0,0,r,o],[r,0,s,n],[r,n,a,Math.floor(i/8)],[5*a,n,Math.floor(e/16),Math.floor(i/16)]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),i=this.coordinates[0];e.drawImage(this.image,i[0],i[1],i[2],i[3]);for(var o=1;o<this.NUM_ITERATIONS;o++){var n=this.coordinates[o-1],r=this.coordinates[o];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(e,i,o,n,r,s){if(this.initialized()){if(i>2){i*=.5;for(var a=0;i>2&&a<this.NUM_ITERATIONS;)i*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var h=this.coordinates[a];e.drawImage(this.canvas,h[0],h[1],h[2],h[3],o,n,r,s)}else e.drawImage(this.image,o,n,r,s)}}}]),e}(),cq=function(){function e(i){rY(this,e),this.images={},this.imageBroken={},this.callback=i}return sT(e,[{key:"_tryloadBrokenUrl",value:function(e,i,o){void 0!==e&&void 0!==o&&(void 0!==i?(o.image.onerror=function(){console.error("Could not load brokenImage:",i)},o.image.src=i):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,i){var o=this,n=this.images[e];if(n)return n;var r=new cV;return this.images[e]=r,r.image.onload=function(){o._fixImageCoordinates(r.image),r.init(),o._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",e),o._tryloadBrokenUrl(e,i,r)},r.image.src=e,r}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),e}(),cU={},cY={get exports(){return cU},set exports(t){cU=t}},cX={},cG={get exports(){return cX},set exports(t){cX=t}},cK=u(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),c$=Object.isExtensible,cZ=u(function(){c$(1)})||cK?function(e){return!!K(e)&&(!cK||"ArrayBuffer"!=E(e))&&(!c$||c$(e))}:c$,cQ=!u(function(){return Object.isExtensible(Object.preventExtensions({}))}),cJ=eg,c0=t0.f,c1=o3,c2=!1,c5=tP("meta"),c3=0,c4=function(e){c0(e,c5,{value:{objectID:"O"+c3++,weakData:{}}})},c6=cG.exports={enable:function(){c6.enable=function(){},c2=!0;var e=c1.f,i=x([].splice),o={};o[c5]=1,e(o).length&&(c1.f=function(o){for(var n=e(o),r=0,s=n.length;r<s;r++)if(n[r]===c5){i(n,r,1);break}return n},en({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o6.f}))},fastKey:function(e,i){if(!K(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!tC(e,c5)){if(!cZ(e))return"F";if(!i)return"E";c4(e)}return e[c5].objectID},getWeakData:function(e,i){if(!tC(e,c5)){if(!cZ(e))return!0;if(!i)return!1;c4(e)}return e[c5].weakData},onFreeze:function(e){return cQ&&c2&&cZ(e)&&!tC(e,c5)&&c4(e),e}};cJ[c5]=!0;var c9=TypeError,c8=function(e,i){this.stopped=e,this.result=i},c7=c8.prototype,ut=function(e,i,o){var n,r,s,a,h,d,l,c=o&&o.that,u=!(!o||!o.AS_ENTRIES),f=!(!o||!o.IS_RECORD),p=!(!o||!o.IS_ITERATOR),v=!(!o||!o.INTERRUPTED),g=tJ(i,c),y=function(e){return n&&ou(n,"normal",e),new c8(!0,e)},m=function(e){return u?(t3(e),v?g(e[0],e[1],y):g(e[0],e[1])):v?g(e,y):g(e)};if(f)n=e.iterator;else if(p)n=e;else{if(!(r=oP(e)))throw c9(tc(e)+" is not iterable");if(ov(r)){for(s=0,a=ef(e);a>s;s++)if((h=m(e[s]))&&J(c7,h))return h;return new c8(!1)}n=oI(e,r)}for(d=f?e.next:n.next;!(l=B(d,n)).done;){try{h=m(l.value)}catch(e){ou(n,"throw",e)}if("object"==typeof h&&h&&J(c7,h))return h}return new c8(!1)},ue=TypeError,ui=function(e,i){if(J(i,e))return e;throw ue("Incorrect invocation")},uo=cX,un=t0.f,ur=nv.forEach,us=im.set,ua=im.getterFor,uh=function(e,i,o){var n,r=-1!==e.indexOf("Map"),s=-1!==e.indexOf("Weak"),a=r?"set":"add",h=c[e],d=h&&h.prototype,l={};if(D&&M(h)&&(s||d.forEach&&!u(function(){(new h).entries().next()}))){var f=(n=i(function(i,o){us(ui(i,f),{type:e,collection:new h}),null!=o&&ut(o,i[a],{that:i,AS_ENTRIES:r})})).prototype,p=ua(e);ur(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(e){var i="add"==e||"set"==e;e in d&&(!s||"clear"!=e)&&ee(f,e,function(o,n){var r=p(this).collection;if(!i&&s&&!K(o))return"get"==e&&void 0;var a=r[e](0===o?0:o,n);return i?this:a})}),s||un(f,"size",{configurable:!0,get:function(){return p(this).collection.size}})}else n=o.getConstructor(i,e,r,a),uo.enable();return iZ(n,e,!1,!0),l[e]=n,en({global:!0,forced:!0},l),s||o.setStrong(n,e,r),n},ud=function(e,i,o){for(var n in i)o&&o.unsafe&&e[n]?e[n]=i[n]:iV(e,n,i[n],o);return e},ul=tF("species"),uc=function(e){var i=Q(e);D&&i&&!i[ul]&&ni(i,ul,{configurable:!0,get:function(){return this}})},uu=cX.fastKey,uf=im.set,up=im.getterFor,uv={getConstructor:function(e,i,o,n){var r=e(function(e,r){ui(e,s),uf(e,{type:i,index:iA(null),first:void 0,last:void 0,size:0}),D||(e.size=0),q(r)||ut(r,e[n],{that:e,AS_ENTRIES:o})}),s=r.prototype,a=up(i),h=function(e,i,o){var n,r,s=a(e),h=d(e,i);return h?h.value=o:(s.last=h={index:r=uu(i,!0),key:i,value:o,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=h),n&&(n.next=h),D?s.size++:e.size++,"F"!==r&&(s.index[r]=h)),e},d=function(e,i){var o,n=a(e),r=uu(i);if("F"!==r)return n.index[r];for(o=n.first;o;o=o.next)if(o.key==i)return o};return ud(s,{clear:function(){for(var e=a(this),i=e.index,o=e.first;o;)o.removed=!0,o.previous&&(o.previous=o.previous.next=void 0),delete i[o.index],o=o.next;e.first=e.last=void 0,D?e.size=0:this.size=0},delete:function(e){var i=a(this),o=d(this,e);if(o){var n=o.next,r=o.previous;delete i.index[o.index],o.removed=!0,r&&(r.next=n),n&&(n.previous=r),i.first==o&&(i.first=n),i.last==o&&(i.last=r),D?i.size--:this.size--}return!!o},forEach:function(e){for(var i,o=a(this),n=tJ(e,arguments.length>1?arguments[1]:void 0);i=i?i.next:o.first;)for(n(i.value,i.key,this);i&&i.removed;)i=i.previous},has:function(e){return!!d(this,e)}}),ud(s,o?{get:function(e){var i=d(this,e);return i&&i.value},set:function(e,i){return h(this,0===e?0:e,i)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),D&&ni(s,"size",{configurable:!0,get:function(){return a(this).size}}),r},setStrong:function(e,i,o){var n=i+" Iterator",r=up(i),s=up(n);os(e,i,function(e,i){uf(this,{type:n,target:e,state:r(e),kind:i,last:void 0})},function(){for(var e=s(this),i=e.kind,o=e.last;o&&o.removed;)o=o.previous;return e.target&&(e.last=o=o?o.next:e.state.first)?oa("keys"==i?o.key:"values"==i?o.value:[o.key,o.value],!1):(e.target=void 0,oa(void 0,!0))},o?"entries":"values",!o,!0),uc(i)}};uh("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},uv);var ug=$.Map;cY.exports=ug;var uy=a(cU),um=function(){function e(){rY(this,e),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},eT(this.options,this.defaultOptions)}return sT(e,[{key:"setOptions",value:function(e){var i=["useDefaultGroups"];if(void 0!==e){for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&-1===hV(i).call(i,o)){var n=e[o];this.add(o,n)}}}},{key:"clear",value:function(){this._groups=new uy,this._groupNames=[]}},{key:"get",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this._groups.get(e);if(void 0===o&&i){if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var n=this._groupIndex%this._groupNames.length;++this._groupIndex,(o={}).color=this._groups.get(this._groupNames[n]),this._groups.set(e,o)}else{var r=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(o={}).color=this._defaultGroups[r],this._groups.set(e,o)}}return o}},{key:"add",value:function(e,i){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,i),i}}]),e}(),ub={},uw={get exports(){return ub},set exports(t){ub=t}};en({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var ux=$.Number.isNaN;uw.exports=ux;var uk=a(ub),u_={},uE={get exports(){return u_},set exports(t){u_=t}},uO=c.isFinite;en({target:"Number",stat:!0},{isFinite:Number.isFinite||function(e){return"number"==typeof e&&uO(e)}});var uC=$.Number.isFinite;uE.exports=uC;var uS=a(u_),uT={},uM={get exports(){return uT},set exports(t){uT=t}},uP=nv.some;en({target:"Array",proto:!0,forced:!aE("some")},{some:function(e){return uP(this,e,arguments.length>1?arguments[1]:void 0)}});var uD=eR("Array").some,uI=Array.prototype;uM.exports=function(e){var i=e.some;return e===uI||J(uI,e)&&i===uI.some?uD:i};var uB=a(uT),uz={},uF={get exports(){return uz},set exports(t){uz=t}},uN=hC.trim,uA=x("".charAt),uR=c.parseFloat,uj=c.Symbol,uL=uj&&uj.iterator,uH=1/uR(hx+"-0")!=-1/0||uL&&!u(function(){uR(Object(uL))})?function(e){var i=uN(e7(e)),o=uR(i);return 0===o&&"-"==uA(i,0)?-0:o}:uR;en({global:!0,forced:parseFloat!=uH},{parseFloat:uH});var uW=$.parseFloat;uF.exports=uW;var uV=a(uz),uq={},uU={get exports(){return uq},set exports(t){uq=t}},uY=o6.f;en({target:"Object",stat:!0,forced:u(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:uY});var uX=$.Object;uU.exports=function(e){return uX.getOwnPropertyNames(e)};var uG=a(uq);function uK(e,i){var o=["node","edge","label"],n=!0,r=ci(i,"chosen");if("boolean"==typeof r)n=r;else if("object"===sb(r)){if(-1===hV(o).call(o,e))throw Error("choosify: subOption '"+e+"' should be one of '"+o.join("', '")+"'");var s=ci(i,["chosen",e]);"boolean"!=typeof s&&"function"!=typeof s||(n=s)}return n}function u$(e,i,o){if(e.width<=0||e.height<=0)return!1;if(void 0!==o){var n={x:i.x-o.x,y:i.y-o.y};if(0!==o.angle){var r=-o.angle;i={x:Math.cos(r)*n.x-Math.sin(r)*n.y,y:Math.sin(r)*n.x+Math.cos(r)*n.y}}else i=n}var s=e.x+e.width,a=e.y+e.width;return e.left<i.x&&s>i.x&&e.top<i.y&&a>i.y}function uZ(e){return"string"==typeof e&&""!==e}function uQ(e,i,o,n){var r=n.x,s=n.y;if("function"==typeof n.distanceToBorder){var a=n.distanceToBorder(e,i),h=Math.sin(i)*a,d=Math.cos(i)*a;d===a?(r+=a,s=n.y):h===a?(r=n.x,s-=a):(r+=d,s-=h)}else n.shape.width>n.shape.height?(r=n.x+.5*n.shape.width,s=n.y-o):(r=n.x+o,s=n.y-.5*n.shape.height);return{x:r,y:s}}var uJ={},u0={get exports(){return uJ},set exports(t){uJ=t}},u1=eR("Array").values,u2=Array.prototype,u5={DOMTokenList:!0,NodeList:!0};u0.exports=function(e){var i=e.values;return e===u2||J(u2,e)&&i===u2.values||tC(u5,e9(e))?u1:i};var u3=a(uJ),u4=function(){function e(i){rY(this,e),this.measureText=i,this.current=0,this.width=0,this.height=0,this.lines=[]}return sT(e,[{key:"_add",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var n=i;void 0!==i&&""!==i||(n=" ");var r=this.measureText(n,o),s=eT({},u3(r));s.text=i,s.width=r.width,s.mod=o,void 0!==i&&""!==i||(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,i)}},{key:"newLine",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,i),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var i=this.lines[e],o=0;if(void 0!==i.blocks)for(var n=0;n<i.blocks.length;n++){var r=i.blocks[n];o<r.height&&(o=r.height)}i.height=o}}},{key:"determineLabelSize",value:function(){for(var e=0,i=0,o=0;o<this.lines.length;o++){var n=this.lines[o];n.width>e&&(e=n.width),i+=n.height}this.width=e,this.height=i}},{key:"removeEmptyBlocks",value:function(){for(var e=[],i=0;i<this.lines.length;i++){var o=this.lines[i];if(0!==o.blocks.length&&(i!==this.lines.length-1||0!==o.width)){var n={};eT(n,o),n.blocks=[];for(var r=void 0,s=[],a=0;a<o.blocks.length;a++){var h=o.blocks[a];0!==h.width?s.push(h):void 0===r&&(r=h)}0===s.length&&void 0!==r&&s.push(r),n.blocks=s,e.push(n)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),e}(),u6={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},u9=function(){function e(i){rY(this,e),this.text=i,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return sT(e,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){" "===e&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,i){return!(this.mono||this[e]||!this.match(i))&&(this.setTag(e),!0)}},{key:"match",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=s0(this.prepareRegExp(e),2),n=o[0],r=o[1],s=n.test(this.text.substr(this.position,r));return s&&i&&(this.position+=r-1),s}},{key:"parseEndTag",value:function(e,i,o){var n=this.mod()===e;return!(!(n="mono"===e?n&&this.mono:n&&!this.mono)||!this.match(i))&&(void 0!==o?(this.position===this.text.length-1||this.match(o,!1))&&this.unsetTag(e):this.unsetTag(e),!0)}},{key:"replace",value:function(e,i){return!!this.match(e)&&(this.add(i),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var i,o;if(e instanceof RegExp)o=e,i=1;else{var n=u6[e];o=void 0!==n?n:new RegExp(e),i=e.length}return[o,i]}}]),e}(),u8=function(){function e(i,o,n,r){var s=this;rY(this,e),this.ctx=i,this.parent=o,this.selected=n,this.hover=r,this.lines=new u4(function(e,o){if(void 0===e)return 0;var a=s.parent.getFormattingValues(i,n,r,o),h=0;return""!==e&&(h=s.ctx.measureText(e).width),{width:h,values:a}})}return sT(e,[{key:"process",value:function(e){if(!uZ(e))return this.lines.finalize();var i=this.parent.fontOptions,o=String(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n"),n=o.length;if(i.multi)for(var r=0;r<n;r++){var s=this.splitBlocks(o[r],i.multi);if(void 0!==s){if(0!==s.length){if(i.maxWdt>0)for(var a=0;a<s.length;a++){var h=s[a].mod,d=s[a].text;this.splitStringIntoLines(d,h,!0)}else for(var l=0;l<s.length;l++){var c=s[l].mod,u=s[l].text;this.lines.append(u,c)}this.lines.newLine()}else this.lines.newLine("")}}else if(i.maxWdt>0)for(var f=0;f<n;f++)this.splitStringIntoLines(o[f]);else for(var p=0;p<n;p++)this.lines.newLine(o[p]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var i="none";return"markdown"===e||"md"===e?i="markdown":!0!==e&&"html"!==e||(i="html"),i}},{key:"splitHtmlBlocks",value:function(e){for(var i=new u9(e);i.position<i.text.length;){var o=i.text.charAt(i.position);i.parseWS(o)||/</.test(o)&&(i.parseStartTag("bold","<b>")||i.parseStartTag("ital","<i>")||i.parseStartTag("mono","<code>")||i.parseEndTag("bold","</b>")||i.parseEndTag("ital","</i>")||i.parseEndTag("mono","</code>"))||/&/.test(o)&&(i.replace(i.text,"&lt;","<")||i.replace(i.text,"&amp;","&")||i.add("&"),1)||i.add(o),i.position++}return i.emitBlock(),i.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var i=new u9(e),o=!0;i.position<i.text.length;){var n,r=i.text.charAt(i.position);i.parseWS(r)||(n=r,/\\/.test(n)&&(i.position<this.text.length+1&&(i.position++,n=this.text.charAt(i.position),/ \t/.test(n)?i.spacing=!0:(i.add(n),o=!1)),1))||(o||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(r),o=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(e,i){var o=this.decodeMarkupSystem(i);return"none"===o?[{text:e,mod:"normal"}]:"markdown"===o?this.splitMarkdownBlocks(e):"html"===o?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var i=this.ctx.measureText(e).width;return this.lines.curWidth()+i>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var i="",o=0;o<e.length;){var n=i+(""===i?"":" ")+e[o];if(this.overMaxWidth(n))break;i=n,o++}return o}},{key:"getLongestFitWord",value:function(e){for(var i=0;i<e.length&&!this.overMaxWidth(at(e).call(e,0,i));)i++;return i}},{key:"splitStringIntoLines",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,i);for(var n=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var r=this.getLongestFit(n);if(0===r){var s=n[0],a=this.getLongestFitWord(s);this.lines.newLine(at(s).call(s,0,a),i),n[0]=at(s).call(s,a)}else{var h=r;" "===n[r-1]?r--:" "===n[h]&&h++;var d=at(n).call(n,0,r).join("");r==n.length&&o?this.lines.append(d,i):this.lines.newLine(d,i),n=at(n).call(n,h)}}}}]),e}(),u7=["bold","ital","boldital","mono"],ft=function(){function e(i,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];rY(this,e),this.body=i,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(o),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return sT(e,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),uZ(e.label)?this.labelDirty=!0:e.label=void 0,void 0!==e.font&&null!==e.font){if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===sb(e.font)){var i=e.font.size;void 0!==i&&(this.baseSize=i)}}}},{key:"initFontOptions",value:function(i){var o=this;l0(u7,function(e){o.fontOptions[e]={}}),e.parseFontString(this.fontOptions,i)?this.fontOptions.vadjust=0:l0(i,function(e,i){null!=e&&"object"!==sb(e)&&(o.fontOptions[i]=e)})}},{key:"constrain",value:function(e){var i={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},o=ci(e,"widthConstraint");if("number"==typeof o)i.maxWdt=Number(o),i.minWdt=Number(o);else if("object"===sb(o)){var n=ci(e,["widthConstraint","maximum"]);"number"==typeof n&&(i.maxWdt=Number(n));var r=ci(e,["widthConstraint","minimum"]);"number"==typeof r&&(i.minWdt=Number(r))}var s=ci(e,"heightConstraint");if("number"==typeof s)i.minHgt=Number(s);else if("object"===sb(s)){var a=ci(e,["heightConstraint","minimum"]);"number"==typeof a&&(i.minHgt=Number(a));var h=ci(e,["heightConstraint","valign"]);"string"==typeof h&&("top"!==h&&"bottom"!==h||(i.valign=h))}return i}},{key:"update",value:function(e,i){this.setOptions(e,!0),this.propagateFonts(i),lQ(this.fontOptions,this.constrain(i)),this.fontOptions.chooser=uK("label",i)}},{key:"adjustSizes",value:function(e){var i=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=i,this.fontOptions.minWdt-=i);var o=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=o)}},{key:"addFontOptionsToPile",value:function(e,i){for(var o=0;o<i.length;++o)this.addFontToPile(e,i[o])}},{key:"addFontToPile",value:function(e,i){if(void 0!==i&&void 0!==i.font&&null!==i.font){var o=i.font;e.push(o)}}},{key:"getBasicOptions",value:function(i){for(var o={},n=0;n<i.length;++n){var r=i[n],s={};e.parseFontString(s,r)&&(r=s),l0(r,function(e,i){void 0!==e&&(Object.prototype.hasOwnProperty.call(o,i)||(-1!==hV(u7).call(u7,i)?o[i]={}:o[i]=e))})}return o}},{key:"getFontOption",value:function(i,o,n){for(var r,s=0;s<i.length;++s){var a=i[s];if(Object.prototype.hasOwnProperty.call(a,o)){if(null==(r=a[o]))continue;var h={};if(e.parseFontString(h,r)&&(r=h),Object.prototype.hasOwnProperty.call(r,n))return r[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(e,i){for(var o={},n=["color","size","face","mod","vadjust"],r=0;r<n.length;++r){var s=n[r];o[s]=this.getFontOption(e,i,s)}return o}},{key:"propagateFonts",value:function(e){var i=this,o=[];this.addFontOptionsToPile(o,e),this.fontOptions=this.getBasicOptions(o);for(var n=0;n<u7.length;++n)(function(){var e=u7[n],r=i.fontOptions[e];l0(i.getFontOptions(o,e),function(e,i){r[i]=e}),r.size=Number(r.size),r.vadjust=Number(r.vadjust)})()}},{key:"draw",value:function(e,i,o,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,r,i,o,s),this._drawBackground(e),this._drawText(e,i,this.size.yLine,s,a))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var i=this.getSize();e.fillRect(i.left,i.top,i.width,i.height)}}},{key:"_drawText",value:function(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,s=s0(this._setAlignment(e,i,o,n),2);i=s[0],o=s[1],e.textAlign="left",i-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(o-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(o+=(this.size.height-this.size.labelHeight)/2));for(var a=0;a<this.lineCount;a++){var h=this.lines[a];if(h&&h.blocks){var d=0;this.isEdgeLabel||"center"===this.fontOptions.align?d+=(this.size.width-h.width)/2:"right"===this.fontOptions.align&&(d+=this.size.width-h.width);for(var l=0;l<h.blocks.length;l++){var c=h.blocks[l];e.font=c.font;var u=s0(this._getColor(c.color,r,c.strokeColor),2),f=u[0],p=u[1];c.strokeWidth>0&&(e.lineWidth=c.strokeWidth,e.strokeStyle=p,e.lineJoin="round"),e.fillStyle=f,c.strokeWidth>0&&e.strokeText(c.text,i+d,o+c.vadjust),e.fillText(c.text,i+d,o+c.vadjust),d+=c.width}o+=h.height}}}},{key:"_setAlignment",value:function(e,i,o,n){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(i=0,o=0,"top"===this.fontOptions.align?(e.textBaseline="alphabetic",o-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",o+=4):e.textBaseline="middle"):e.textBaseline=n,[i,o]}},{key:"_getColor",value:function(e,i,o){var n=e||"#000000",r=o||"#ffffff";if(i<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-i)));n=l2(n,s),r=l2(r,s)}return[n,r]}},{key:"getTextSize",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(e,i,o),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,i=this.size.top-1;if(this.isEdgeLabel){var o=-(.5*this.size.width);switch(this.fontOptions.align){case"middle":e=o,i=-(.5*this.size.height);break;case"top":e=o,i=-(this.size.height+2);break;case"bottom":e=o,i=2}}return{left:e,top:i,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,i,o),this.size.left=n-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===s&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,i,o,n){var r=function(e,i,o){return"normal"===i?"mod"===o?"":e[o]:void 0!==e[i][o]?e[i][o]:e[o]},s={color:r(this.fontOptions,n,"color"),size:r(this.fontOptions,n,"size"),face:r(this.fontOptions,n,"face"),mod:r(this.fontOptions,n,"mod"),vadjust:r(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(i||o)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?s.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(s,this.elementOptions.id,i,o));var a="";return void 0!==s.mod&&""!==s.mod&&(a+=s.mod+" "),a+=s.size+"px "+s.face,e.font=a.replace(/"/g,""),s.font=e.font,s.height=s.size,s}},{key:"differentState",value:function(e,i){return e!==this.selectedState||i!==this.hoverState}},{key:"_processLabelText",value:function(e,i,o,n){return new u8(e,this,i,o).process(n)}},{key:"_processLabel",value:function(e,i,o){if(!1!==this.labelDirty||this.differentState(i,o)){var n=this._processLabelText(e,i,o,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=i,this.hoverState=o,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,i){if(!i||"string"!=typeof i)return!1;var o=i.split(" ");return e.size=+o[0].replace("px",""),e.face=o[1],e.color=o[2],!0}}]),e}(),fe={},fi={get exports(){return fe},set exports(t){fe=t}},fo=TypeError,fn=function(e){if(oS(e))return e;throw fo(tc(e)+" is not a constructor")},fr=Q("Reflect","construct"),fs=Object.prototype,fa=[].push,fh=u(function(){function e(){}return!(fr(function(){},[],e) instanceof e)}),fd=!u(function(){fr(function(){})}),fl=fh||fd;en({target:"Reflect",stat:!0,forced:fl,sham:fl},{construct:function(e,i){fn(e),t3(i);var o=arguments.length<3?e:fn(arguments[2]);if(fd&&!fh)return fr(e,i,o);if(e==o){switch(i.length){case 0:return new e;case 1:return new e(i[0]);case 2:return new e(i[0],i[1]);case 3:return new e(i[0],i[1],i[2]);case 4:return new e(i[0],i[1],i[2],i[3])}var n=[null];return y(fa,n,i),new(y(eA,e,n))}var r=o.prototype,s=iA(K(r)?r:fs),a=y(e,s,i);return K(a)?a:s}});var fc=$.Reflect.construct;fi.exports=fc;var fu=a(fe),ff={},fp={get exports(){return ff},set exports(t){ff=t}},fv={};({get exports(){return fv},set exports(t){fv=t}}).exports=hJ,fp.exports=fv;var fg=a(ff),fy={},fm={get exports(){return fy},set exports(t){fy=t}},fb={},fw={get exports(){return fb},set exports(t){fb=t}};en({target:"Object",stat:!0},{setPrototypeOf:i6});var fx=$.Object.setPrototypeOf;fw.exports=fx,fm.exports=fb;var fk=a(fy),f_={},fE={get exports(){return f_},set exports(t){f_=t}},fO={};({get exports(){return fO},set exports(t){fO=t}}).exports=eH,fE.exports=fO;var fC=a(f_);function fS(e,i){return(fS=fk?fC(fk).call(fk):function(e,i){return e.__proto__=i,e})(e,i)}function fT(e,i){if("function"!=typeof i&&null!==i)throw TypeError("Super expression must either be null or a function");e.prototype=fg(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r$(e,"prototype",{writable:!1}),i&&fS(e,i)}function fM(e,i){if(i&&("object"===sb(i)||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}var fP={},fD={get exports(){return fP},set exports(t){fP=t}},fI={};({get exports(){return fI},set exports(t){fI=t}}).exports=hn,fD.exports=fI;var fB=a(fP);function fz(e){return(fz=fk?fC(fB).call(fB):function(e){return e.__proto__||fB(e)})(e)}var fF=function(){function e(i,o,n){rY(this,e),this.body=o,this.labelModule=n,this.setOptions(i),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return sT(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==sb(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,i){var o=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+o}},{key:"enableShadow",value:function(e,i){i.shadow&&(e.shadowColor=i.shadowColor,e.shadowBlur=i.shadowSize,e.shadowOffsetX=i.shadowX,e.shadowOffsetY=i.shadowY)}},{key:"disableShadow",value:function(e,i){i.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,i){if(!1!==i.borderDashes){if(void 0!==e.setLineDash){var o=i.borderDashes;!0===o&&(o=[5,15]),e.setLineDash(o)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,i.borderDashes=!1}}},{key:"disableBorderDashes",value:function(e,i){!1!==i.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,i.borderDashes=!1))}},{key:"needsRefresh",value:function(e,i){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,i)}},{key:"initContextForDraw",value:function(e,i){var o=i.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,o),e.strokeStyle=i.borderColor,e.fillStyle=i.color}},{key:"performStroke",value:function(e,i){var o=i.borderWidth/this.body.view.scale;e.save(),o>0&&(this.enableBorderDashes(e,i),e.stroke(),this.disableBorderDashes(e,i)),e.restore()}},{key:"performFill",value:function(e,i){e.save(),e.fillStyle=i.color,this.enableShadow(e,i),dv(e).call(e),this.disableShadow(e,i),e.restore(),this.performStroke(e,i)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,i,o,n,r){void 0!==o&&this.resize(o,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,i,o,n,r){this._updateBoundingBox(e,i,o,n,r)}},{key:"getDimensionsFromLabel",value:function(e,i,o){this.textSize=this.labelModule.getTextSize(e,i,o);var n=this.textSize.width,r=this.textSize.height;return 0===n&&(n=14,r=14),{width:n,height:r}}}]),e}(),fN=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){var s;return rY(this,n),(s=o.call(this,e,i,r))._setMargins(r),s}return sT(n,[{key:"resize",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var n=this.getDimensionsFromLabel(e,i,o);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(e,i,o,n,r,s){this.resize(e,n,r),this.left=i-this.width/2,this.top=o-this.height/2,this.initContextForDraw(e,s),eq(e,this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(e,s),this.updateBoundingBox(i,o,e,n,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"updateBoundingBox",value:function(e,i,o,n,r){this._updateBoundingBox(e,i,o,n,r);var s=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(s)}},{key:"distanceToBorder",value:function(e,i){e&&this.resize(e);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+o}}]),n}(fF),fA=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){var s;return rY(this,n),(s=o.call(this,e,i,r)).labelOffset=0,s.selected=!1,s}return sT(n,[{key:"setOptions",value:function(e,i,o){this.options=e,void 0===i&&void 0===o||this.setImages(i,o)}},{key:"setImages",value:function(e,i){i&&this.selected?(this.imageObj=i,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=i)}},{key:"switchImages",value:function(e){var i=e&&!this.selected||!e&&this.selected;if(this.selected=e,void 0!==this.imageObjAlt&&i){var o=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=o}}},{key:"_getImagePadding",value:function(){var e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var i=this.options.imagePadding;"object"==sb(i)?(e.top=i.top,e.right=i.right,e.bottom=i.bottom,e.left=i.left):(e.top=i,e.right=i,e.bottom=i,e.left=i)}return e}},{key:"_resizeImage",value:function(){var e,i;if(!1===this.options.shapeProperties.useImageSize){var o=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=2*this.options.size*o,i=2*this.options.size*n}else{var r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,i=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=i,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(e,i,o,n){this.initContextForDraw(e,n),eV(e,i,o,n.size),this.performFill(e,n)}},{key:"_drawImageAtPosition",value:function(e,i){if(0!=this.imageObj.width){e.globalAlpha=void 0!==i.opacity?i.opacity:1,this.enableShadow(e,i);var o=1;!0===this.options.shapeProperties.interpolation&&(o=this.imageObj.width/this.width/this.body.view.scale);var n=this._getImagePadding(),r=this.left+n.left,s=this.top+n.top,a=this.width-n.left-n.right,h=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(e,o,r,s,a,h),this.disableShadow(e,i)}}},{key:"_drawImageLabel",value:function(e,i,o,n,r){var s=0;if(void 0!==this.height){s=.5*this.height;var a=this.labelModule.getTextSize(e,n,r);a.lineCount>=1&&(s+=a.height/2)}var h=o+s;this.options.label&&(this.labelOffset=s),this.labelModule.draw(e,i,h,n,r,"hanging")}}]),n}(fF),fR=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){var s;return rY(this,n),(s=o.call(this,e,i,r))._setMargins(r),s}return sT(n,[{key:"resize",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var n=this.getDimensionsFromLabel(e,i,o),r=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(e,i,o,n,r,s){this.resize(e,n,r),this.left=i-this.width/2,this.top=o-this.height/2,this._drawRawCircle(e,i,o,s),this.updateBoundingBox(i,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,o,n,r)}},{key:"updateBoundingBox",value:function(e,i){this.boundingBox.top=i-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=i+this.options.size}},{key:"distanceToBorder",value:function(e){return e&&this.resize(e),.5*this.width}}]),n}(fA),fj=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r,s,a){var h;return rY(this,n),(h=o.call(this,e,i,r)).setImages(s,a),h}return sT(n,[{key:"resize",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,this.height=n,void(this.radius=.5*this.width)}this.needsRefresh(i,o)&&this._resizeImage()}},{key:"draw",value:function(e,i,o,n,r,s){this.switchImages(n),this.resize();var a=i,h=o;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=i,this.top=o,a+=this.width/2,h+=this.height/2):(this.left=i-this.width/2,this.top=o-this.height/2),this._drawRawCircle(e,a,h,s),e.save(),e.clip(),this._drawImageAtPosition(e,s),e.restore(),this._drawImageLabel(e,a,h,n,r),this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function(e,i){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=i,this.boundingBox.left=e,this.boundingBox.right=e+2*this.options.size,this.boundingBox.bottom=i+2*this.options.size):(this.boundingBox.top=i-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=i+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(e){return e&&this.resize(e),.5*this.width}}]),n}(fA),fL=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"resize",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(i,o)){this.labelModule.getTextSize(e,i,o);var r,s,a=2*n.size;this.width=null!==(r=this.customSizeWidth)&&void 0!==r?r:a,this.height=null!==(s=this.customSizeHeight)&&void 0!==s?s:a,this.radius=.5*this.width}}},{key:"_drawShape",value:function(e,i,o,n,r,s,a,h){var d=this;return this.resize(e,s,a,h),this.left=n-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,h),(Object.prototype.hasOwnProperty.call(eG,i)?eG[i]:function(e){for(var o=arguments.length,n=Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];CanvasRenderingContext2D.prototype[i].call(e,n)})(e,n,r,h.size),this.performFill(e,h),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(e.font=(s?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,n,r)),{drawExternalLabel:function(){if(void 0!==d.options.label){d.labelModule.calculateLabelSize(e,s,a,n,r,"hanging");var i=r+.5*d.height+.5*d.labelModule.size.height;d.labelModule.draw(e,n,i,s,a,"hanging")}d.updateBoundingBox(n,r)}}}},{key:"updateBoundingBox",value:function(e,i){this.boundingBox.top=i-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=i+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),n}(fF);function fH(e,i){var o=av(e);if(ru){var n=ru(e);i&&(n=hc(n).call(n,function(i){return rx(e,i).enumerable})),o.push.apply(o,n)}return o}var fW=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r,s){var a;return rY(this,n),(a=o.call(this,e,i,r,s)).ctxRenderer=s,a}return sT(n,[{key:"draw",value:function(e,i,o,n,r,s){this.resize(e,n,r,s),this.left=i-this.width/2,this.top=o-this.height/2,e.save();var a=this.ctxRenderer({ctx:e,id:this.options.id,x:i,y:o,state:{selected:n,hover:r},style:function(e){for(var i=1;i<arguments.length;i++){var o,n,r=null!=arguments[i]?arguments[i]:{};i%2?aP(o=fH(Object(r),!0)).call(o,function(i){sM(e,i,r[i])}):rS?rN(e,rS(r)):aP(n=fH(Object(r))).call(n,function(i){rU(e,i,rx(r,i))})}return e}({},s),label:this.options.label});if(null!=a.drawNode&&a.drawNode(),e.restore(),a.drawExternalLabel){var h=a.drawExternalLabel;a.drawExternalLabel=function(){e.save(),h(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fL),fV=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){var s;return rY(this,n),(s=o.call(this,e,i,r))._setMargins(r),s}return sT(n,[{key:"resize",value:function(e,i,o){if(this.needsRefresh(i,o)){var n=this.getDimensionsFromLabel(e,i,o).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(e,i,o,n,r,s){this.resize(e,n,r),this.left=i-this.width/2,this.top=o-this.height/2,this.initContextForDraw(e,s),eY(e,i-this.width/2,o-this.height/2,this.width,this.height),this.performFill(e,s),this.updateBoundingBox(i,o,e,n,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fF),fq=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"draw",value:function(e,i,o,n,r,s){return this._drawShape(e,"diamond",4,i,o,n,r,s)}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fL),fU=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"draw",value:function(e,i,o,n,r,s){return this._drawShape(e,"circle",2,i,o,n,r,s)}},{key:"distanceToBorder",value:function(e){return e&&this.resize(e),this.options.size}}]),n}(fL),fY=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"resize",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var n=this.getDimensionsFromLabel(e,i,o);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(e,i,o,n,r,s){this.resize(e,n,r),this.left=i-.5*this.width,this.top=o-.5*this.height,this.initContextForDraw(e,s),eU(e,this.left,this.top,this.width,this.height),this.performFill(e,s),this.updateBoundingBox(i,o,e,n,r),this.labelModule.draw(e,i,o,n,r)}},{key:"distanceToBorder",value:function(e,i){e&&this.resize(e);var o=.5*this.width,n=.5*this.height,r=Math.sin(i)*o,s=Math.cos(i)*n;return o*n/Math.sqrt(r*r+s*s)}}]),n}(fF),fX=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){var s;return rY(this,n),(s=o.call(this,e,i,r))._setMargins(r),s}return sT(n,[{key:"resize",value:function(e,i,o){this.needsRefresh(i,o)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,i,o,n,r,s){var a=this;return this.resize(e,n,r),this.options.icon.size=this.options.icon.size||50,this.left=i-this.width/2,this.top=o-this.height/2,this._icon(e,i,o,n,r,s),{drawExternalLabel:function(){void 0!==a.options.label&&a.labelModule.draw(e,a.left+a.iconSize.width/2+a.margin.left,o+a.height/2+5,n),a.updateBoundingBox(i,o)}}}},{key:"updateBoundingBox",value:function(e,i){this.boundingBox.top=i-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=i+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(e,i,o,n,r,s){var a=Number(this.options.icon.size);void 0!==this.options.icon.code?(e.font=[null!=this.options.icon.weight?this.options.icon.weight:n?"bold":"",(null!=this.options.icon.weight&&n?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,s),e.fillText(this.options.icon.code,i,o),this.disableShadow(e,s)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fF),fG=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r,s,a){var h;return rY(this,n),(h=o.call(this,e,i,r)).setImages(s,a),h}return sT(n,[{key:"resize",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var n=2*this.options.size;return this.width=n,void(this.height=n)}this.needsRefresh(i,o)&&this._resizeImage()}},{key:"draw",value:function(e,i,o,n,r,s){e.save(),this.switchImages(n),this.resize();var a=i,h=o;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=i,this.top=o,a+=this.width/2,h+=this.height/2):(this.left=i-this.width/2,this.top=o-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var d=this.options.borderWidth,l=this.options.borderWidthSelected||2*this.options.borderWidth,c=(n?l:d)/this.body.view.scale;e.lineWidth=Math.min(this.width,c),e.beginPath();var u=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,f=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;void 0!==s.opacity&&(u=l2(u,s.opacity),f=l2(f,s.opacity)),e.strokeStyle=u,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),dv(e).call(e),this.performStroke(e,s),e.closePath()}this._drawImageAtPosition(e,s),this._drawImageLabel(e,a,h,n,r),this.updateBoundingBox(i,o),e.restore()}},{key:"updateBoundingBox",value:function(e,i){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i):(this.left=e-this.width/2,this.top=i-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fA),fK=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"draw",value:function(e,i,o,n,r,s){return this._drawShape(e,"square",2,i,o,n,r,s)}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fL),f$=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"draw",value:function(e,i,o,n,r,s){return this._drawShape(e,"hexagon",4,i,o,n,r,s)}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fL),fZ=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"draw",value:function(e,i,o,n,r,s){return this._drawShape(e,"star",4,i,o,n,r,s)}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fL),fQ=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){var s;return rY(this,n),(s=o.call(this,e,i,r))._setMargins(r),s}return sT(n,[{key:"resize",value:function(e,i,o){this.needsRefresh(i,o)&&(this.textSize=this.labelModule.getTextSize(e,i,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,i,o,n,r,s){this.resize(e,n,r),this.left=i-this.width/2,this.top=o-this.height/2,this.enableShadow(e,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r),this.disableShadow(e,s),this.updateBoundingBox(i,o,e,n,r)}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fF),fJ=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"draw",value:function(e,i,o,n,r,s){return this._drawShape(e,"triangle",3,i,o,n,r,s)}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fL),f0=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"draw",value:function(e,i,o,n,r,s){return this._drawShape(e,"triangleDown",3,i,o,n,r,s)}},{key:"distanceToBorder",value:function(e,i){return this._distanceToBorder(e,i)}}]),n}(fL);function f1(e,i){var o=av(e);if(ru){var n=ru(e);i&&(n=hc(n).call(n,function(i){return rx(e,i).enumerable})),o.push.apply(o,n)}return o}function f2(e){for(var i=1;i<arguments.length;i++){var o,n,r=null!=arguments[i]?arguments[i]:{};i%2?aP(o=f1(Object(r),!0)).call(o,function(i){sM(e,i,r[i])}):rS?rN(e,rS(r)):aP(n=f1(Object(r))).call(n,function(i){rU(e,i,rx(r,i))})}return e}var f5=function(){function e(i,o,n,r,s,a){rY(this,e),this.options=l7(s),this.globalOptions=s,this.defaultOptions=a,this.body=o,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new ft(this.body,this.options,!1),this.setOptions(i)}return sT(e,[{key:"attachEdge",value:function(e){var i;-1===hV(i=this.edges).call(i,e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var i,o,n=hV(i=this.edges).call(i,e);-1!=n&&aZ(o=this.edges).call(o,n,1)}},{key:"setOptions",value:function(i){var o=this.options.shape;if(i){if(void 0!==i.color&&(this._localColor=i.color),void 0!==i.id&&(this.id=i.id),void 0===this.id)throw Error("Node must have an id");e.checkMass(i,this.id),void 0!==i.x&&(null===i.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=hF(i.x),this.predefinedPosition=!0)),void 0!==i.y&&(null===i.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=hF(i.y),this.predefinedPosition=!0)),void 0!==i.size&&(this.baseSize=i.size),void 0!==i.value&&(i.value=uV(i.value)),e.parseOptions(this.options,i,!0,this.globalOptions,this.grouplist);var n=[i,this.options,this.defaultOptions];return this.chooser=uK("node",n),this._load_images(),this.updateLabelModule(i),void 0!==i.opacity&&e.checkOpacity(i.opacity)&&(this.options.opacity=i.opacity),this.updateShape(o),void 0!==i.hidden||void 0!==i.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var i=this.options.opacity;e.borderColor=l2(e.borderColor,i),e.color=l2(e.color,i),e.shadowColor=l2(e.shadowColor,i)}return e}},{key:"updateLabelModule",value:function(i){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),e.updateGroupOptions(this.options,f2(f2({},i),{},{color:i&&i.color||this._localColor||void 0}),this.grouplist);var o=this.grouplist.get(this.options.group,!1),n=[i,this.options,o,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new fN(this.options,this.body,this.labelModule);break;case"circle":this.shape=new fR(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new fj(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new fW(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new fV(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new fq(this.options,this.body,this.labelModule);break;case"dot":this.shape=new fU(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new fY(this.options,this.body,this.labelModule);break;case"icon":this.shape=new fX(this.options,this.body,this.labelModule);break;case"image":this.shape=new fG(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new fK(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new f$(this.options,this.body,this.labelModule);break;case"star":this.shape=new fZ(this.options,this.body,this.labelModule);break;case"text":this.shape=new fQ(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new fJ(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new f0(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,i){return this.shape.distanceToBorder(e,i)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,i,o){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(e,i,o,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.size=this.options.scaling.min+n*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var i=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,i)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var i=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,i)}},{key:"getItemsOnPoint",value:function(e){var i=[];return this.labelModule.visible()&&u$(this.labelModule.getSize(),e)&&i.push({nodeId:this.id,labelId:0}),u$(this.shape.boundingBox,e)&&i.push({nodeId:this.id}),i}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return void 0===e||"center"===e||"top-left"===e}},{key:"updateGroupOptions",value:function(i,o,n){var r;if(void 0!==n){var s=i.group;if(void 0!==o&&void 0!==o.group&&s!==o.group)throw Error("updateGroupOptions: group values in options don't match.");if("number"==typeof s||"string"==typeof s&&""!=s){var a=n.get(s);void 0!==a.opacity&&void 0===o.opacity&&(e.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));var h=hc(r=uG(o)).call(r,function(e){return null!=o[e]});h.push("font"),lZ(h,i,a),i.color=l3(i.color)}}}},{key:"parseOptions",value:function(i,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(lZ(["color","fixed","shadow"],i,o,n),e.checkMass(o),void 0!==i.opacity&&(e.checkOpacity(i.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+i.opacity),i.opacity=void 0)),void 0!==o.opacity&&(e.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0)),o.shapeProperties&&!e.checkCoordinateOrigin(o.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+o.shapeProperties.coordinateOrigin),ct(i,o,"shadow",r),void 0!==o.color&&null!==o.color){var a=l3(o.color);(function e(i,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in i)if(void 0!==o[r]){if(null===o[r]||"object"!==sb(o[r]))lK(i,o,r,n);else{var s=i[r],a=o[r];lG(s)&&lG(a)&&e(s,a,n)}}})(i.color,a)}else!0===n&&null===o.color&&(i.color=l7(r.color));void 0!==o.fixed&&null!==o.fixed&&("boolean"==typeof o.fixed?(i.fixed.x=o.fixed,i.fixed.y=o.fixed):(void 0!==o.fixed.x&&"boolean"==typeof o.fixed.x&&(i.fixed.x=o.fixed.x),void 0!==o.fixed.y&&"boolean"==typeof o.fixed.y&&(i.fixed.y=o.fixed.y))),!0===n&&null===o.font&&(i.font=l7(r.font)),e.updateGroupOptions(i,o,s),void 0!==o.scaling&&ct(i.scaling,o.scaling,"label",r.scaling)}},{key:"checkMass",value:function(e,i){if(void 0!==e.mass&&e.mass<=0){var o="";void 0!==i&&(o=" in node id: "+i),console.error("%cNegative or zero mass disallowed"+o+", setting mass to 1.",cc),e.mass=1}}}]),e}();function f3(e,i){(null==i||i>e.length)&&(i=e.length);for(var o=0,n=Array(i);o<i;o++)n[o]=e[o];return n}var f4=function(){function e(i,o,n,r){var s,a=this;if(rY(this,e),this.body=i,this.images=o,this.groups=n,this.layoutEngine=r,this.body.functions.createNode=eW(s=this.create).call(s,this),this.nodesListeners={add:function(e,i){a.add(i.items)},update:function(e,i){a.update(i.items,i.data,i.oldData)},remove:function(e,i){a.remove(i.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,i,o,n){return i===e?.5:Math.max(0,(n-e)*(1/(i-e)))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=l7(this.defaultOptions),this.bindEventListeners()}return sT(e,[{key:"bindEventListeners",value:function(){var e,i,o=this;this.body.emitter.on("refreshNodes",eW(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",eW(i=this.refresh).call(i,this)),this.body.emitter.on("destroy",function(){l0(o.nodesListeners,function(e,i){o.body.data.nodes&&o.body.data.nodes.off(i,e)}),delete o.body.functions.createNode,delete o.nodesListeners.add,delete o.nodesListeners.update,delete o.nodesListeners.remove,delete o.nodesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){if(f5.parseOptions(this.options,e),void 0!==e.opacity&&(uk(e.opacity)||!uS(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),void 0!==e.shape)for(var i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&this.body.nodes[i].updateShape();if(void 0!==e.font||void 0!==e.widthConstraint||void 0!==e.heightConstraint)for(var o=0,n=av(this.body.nodes);o<n.length;o++){var r=n[o];this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh()}if(void 0!==e.size)for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.body.nodes[s].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(i.isDataViewLike("id",e))this.body.data.nodes=e;else if(ar(e))this.body.data.nodes=new i.DataSet,this.body.data.nodes.add(e);else{if(e)throw TypeError("Array or DataSet expected");this.body.data.nodes=new i.DataSet}if(n&&l0(this.nodesListeners,function(e,i){n.off(i,e)}),this.body.nodes={},this.body.data.nodes){var r=this;l0(this.nodesListeners,function(e,i){r.body.data.nodes.on(i,e)});var s=this.body.data.nodes.getIds();this.add(s,!0)}!1===o&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<e.length;r++){i=e[r];var s=this.body.data.nodes.get(i),a=this.create(s);n.push(a),this.body.nodes[i]=a}this.layoutEngine.positionInitially(n),!1===o&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,i,o){for(var n=this.body.nodes,r=!1,s=0;s<e.length;s++){var a=e[s],h=n[a],d=i[s];void 0!==h?h.setOptions(d)&&(r=!0):(r=!0,h=this.create(d),n[a]=h)}r||void 0===o||(r=uB(i).call(i,function(e,i){var n=o[i];return n&&n.level!==e.level})),!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var i=this.body.nodes,o=0;o<e.length;o++)delete i[e[o]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:f5)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l0(this.body.nodes,function(o,n){var r=e.body.data.nodes.get(n);void 0!==r&&(!0===i&&o.setOptions({x:null,y:null}),o.setOptions({fixed:!1}),o.setOptions(r))})}},{key:"getPositions",value:function(e){var i={};if(void 0!==e){if(!0===ar(e)){for(var o=0;o<e.length;o++)if(void 0!==this.body.nodes[e[o]]){var n=this.body.nodes[e[o]];i[e[o]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[e]){var r=this.body.nodes[e];i[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodes[this.body.nodeIndices[s]];i[this.body.nodeIndices[s]]={x:Math.round(a.x),y:Math.round(a.y)}}return i}},{key:"getPosition",value:function(e){if(null==e)throw TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[e])throw ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,i=[],o=this.body.data.nodes.getDataSet(),n=function(e,i){var o=void 0!==s5&&o1(e)||e["@@iterator"];if(!o){if(ar(e)||(o=function(e,i){if(e){if("string"==typeof e)return f3(e,i);var o,n=at(o=Object.prototype.toString.call(e)).call(o,8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return oL(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f3(e,i)}}(e))){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,h=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){h=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(h)throw s}}}}(o.get());try{for(n.s();!(e=n.n()).done;){var r=e.value,s=r.id,a=this.body.nodes[s],h=Math.round(a.x),d=Math.round(a.y);r.x===h&&r.y===d||i.push({id:s,x:h,y:d})}}catch(e){n.e(e)}finally{n.f()}o.update(i)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,i){var o=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],r={},s=0;s<n.edges.length;s++){var a=n.edges[s];"to"!==i&&a.toId==n.id?void 0===r[a.fromId]&&(o.push(a.fromId),r[a.fromId]=!0):"from"!==i&&a.fromId==n.id&&void 0===r[a.toId]&&(o.push(a.toId),r[a.toId]=!0)}return o}},{key:"getConnectedEdges",value:function(e){var i=[];if(void 0!==this.body.nodes[e])for(var o=this.body.nodes[e],n=0;n<o.edges.length;n++)i.push(o.edges[n].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return i}},{key:"moveNode",value:function(e,i,o){var n=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(i),this.body.nodes[e].y=Number(o),da(function(){n.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),e}(),f6={},f9={get exports(){return f6},set exports(t){f6=t}},f8={},f7={get exports(){return f8},set exports(t){f8=t}};en({target:"Reflect",stat:!0},{get:function e(i,o){var n,r,s=arguments.length<3?i:arguments[2];return t3(i)===s?i[o]:(n=P.f(i,o))?void 0!==n&&(tC(n,"value")||tC(n,"writable"))?n.value:void 0===n.get?void 0:B(n.get,s):K(r=iW(i))?e(r,o,s):void 0}});var pt=$.Reflect.get;f7.exports=pt,f9.exports=f8;var pe=a(f6),pi={},po={get exports(){return pi},set exports(t){pi=t}},pn={};({get exports(){return pn},set exports(t){pn=t}}).exports=rw,po.exports=pn;var pr=a(pi);function ps(){return(ps="undefined"!=typeof Reflect&&pe?fC(pe).call(pe):function(e,i,o){var n=function(e,i){for(;!Object.prototype.hasOwnProperty.call(e,i)&&null!==(e=fz(e)););return e}(e,i);if(n){var r=pr(n,i);return r.get?r.get.call(arguments.length<3?e:o):r.value}}).apply(this,arguments)}var pa={},ph={get exports(){return pa},set exports(t){pa=t}},pd=Math.hypot,pl=Math.abs,pc=Math.sqrt;en({target:"Math",stat:!0,arity:2,forced:!!pd&&pd(1/0,NaN)!==1/0},{hypot:function(e,i){for(var o,n,r=0,s=0,a=arguments.length,h=0;s<a;)h<(o=pl(arguments[s++]))?(r=r*(n=h/o)*n+1,h=o):r+=o>0?(n=o/h)*n:o;return h===1/0?1/0:h*pc(r)}});var pu=$.Math.hypot;ph.exports=pu;var pf=a(pa);function pp(e){var i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var o,n=fz(e);if(i){var r=fz(this).constructor;o=fu(n,arguments,r)}else o=n.apply(this,arguments);return fM(this,o)}}var pv=function(){function e(){rY(this,e)}return sT(e,null,[{key:"transform",value:function(e,i){ar(e)||(e=[e]);for(var o=i.point.x,n=i.point.y,r=i.angle,s=i.length,a=0;a<e.length;++a){var h=e[a],d=h.x*Math.cos(r)-h.y*Math.sin(r),l=h.x*Math.sin(r)+h.y*Math.cos(r);h.x=o+s*d,h.y=n+s*l}}},{key:"drawPath",value:function(e,i){e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var o=1;o<i.length;++o)e.lineTo(i[o].x,i[o].y);e.closePath()}}]),e}(),pg=function(e){fT(o,e);var i=pp(o);function o(){return rY(this,o),i.apply(this,arguments)}return sT(o,null,[{key:"draw",value:function(e,i){if(i.image){e.save(),e.translate(i.point.x,i.point.y),e.rotate(Math.PI/2+i.angle);var o=null!=i.imageWidth?i.imageWidth:i.image.width,n=null!=i.imageHeight?i.imageHeight:i.image.height;i.image.drawImageAtPosition(e,1,-o/2,0,o,n),e.restore()}return!1}}]),o}(pv),py=function(e){fT(o,e);var i=pp(o);function o(){return rY(this,o),i.apply(this,arguments)}return sT(o,null,[{key:"draw",value:function(e,i){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return pv.transform(o,i),pv.drawPath(e,o),!0}}]),o}(pv),pm=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return pv.transform(o,i),pv.drawPath(e,o),!0}}]),e}(),pb=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o={x:-.4,y:0};pv.transform(o,i),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,r=i.angle-n/2,s=i.angle+n/2;return e.beginPath(),e.arc(o.x,o.y,.4*i.length,r,s,!1),e.stroke(),!0}}]),e}(),pw=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o={x:-.3,y:0};pv.transform(o,i),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var n=Math.PI,r=i.angle+n/2,s=i.angle+3*n/2;return e.beginPath(),e.arc(o.x,o.y,.4*i.length,r,s,!1),e.stroke(),!0}}]),e}(),px=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return pv.transform(o,i),pv.drawPath(e,o),!0}}]),e}(),pk=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return pv.transform(o,i),pv.drawPath(e,o),!0}}]),e}(),p_=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o={x:-.4,y:0};return pv.transform(o,i),eV(e,o.x,o.y,.4*i.length),!0}}]),e}(),pE=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return pv.transform(o,i),pv.drawPath(e,o),!0}}]),e}(),pO=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return pv.transform(o,i),pv.drawPath(e,o),!0}}]),e}(),pC=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return pv.transform(o,i),pv.drawPath(e,o),!0}}]),e}(),pS=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return pv.transform(o,i),pv.drawPath(e,o),!0}}]),e}(),pT=function(){function e(){rY(this,e)}return sT(e,null,[{key:"draw",value:function(e,i){var o;switch(i.type&&(o=i.type.toLowerCase()),o){case"image":return pg.draw(e,i);case"circle":return p_.draw(e,i);case"box":return pO.draw(e,i);case"crow":return pm.draw(e,i);case"curve":return pb.draw(e,i);case"diamond":return pC.draw(e,i);case"inv_curve":return pw.draw(e,i);case"triangle":return px.draw(e,i);case"inv_triangle":return pk.draw(e,i);case"bar":return pE.draw(e,i);case"vee":return pS.draw(e,i);default:return py.draw(e,i)}}}]),e}();function pM(e,i){var o=av(e);if(ru){var n=ru(e);i&&(n=hc(n).call(n,function(i){return rx(e,i).enumerable})),o.push.apply(o,n)}return o}function pP(e){for(var i=1;i<arguments.length;i++){var o,n,r=null!=arguments[i]?arguments[i]:{};i%2?aP(o=pM(Object(r),!0)).call(o,function(i){sM(e,i,r[i])}):rS?rN(e,rS(r)):aP(n=pM(Object(r))).call(n,function(i){rU(e,i,rx(r,i))})}return e}var pD=function(){function e(i,o,n){rY(this,e),this._body=o,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(i),this.fromPoint=this.from,this.toPoint=this.to}return sT(e,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,i,o,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,i),e.lineWidth=i.width,!1!==i.dashes?this._drawDashedLine(e,i,r):this._drawLine(e,i,r)}},{key:"_drawLine",value:function(e,i,o,n,r){if(this.from!=this.to)this._line(e,i,o,n,r);else{var s=s0(this._getCircleData(e),3),a=s[0],h=s[1],d=s[2];this._circle(e,i,a,h,d)}}},{key:"_drawDashedLine",value:function(e,i,o,n,r){e.lineCap="round";var s=ar(i.dashes)?i.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,i,o);else{var a=s0(this._getCircleData(e),3),h=a[0],d=a[1],l=a[2];this._circle(e,i,h,d,l)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)eX(e,this.from.x,this.from.y,this.to.x,this.to.y,s);else{var c=s0(this._getCircleData(e),3),u=c[0],f=c[1],p=c[2];this._circle(e,i,u,f,p)}this.enableShadow(e,i),e.stroke(),this.disableShadow(e,i)}}},{key:"findBorderPosition",value:function(e,i,o){return this.from!=this.to?this._findBorderPosition(e,i,o):this._findBorderPositionCircle(e,i,o)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var i,o=s0(at(i=this._getCircleData(e)).call(i,0,2),2),n=o[0],r=o[1];return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:r,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var i=this.options.selfReference.size;void 0!==e&&void 0===this.from.shape.width&&this.from.shape.resize(e);var o=uQ(e,this.options.selfReference.angle,i,this.from);return[o.x,o.y,i]}},{key:"_pointOnCircle",value:function(e,i,o,n){var r=2*n*Math.PI;return{x:e+o*Math.cos(r),y:i-o*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(e,i,o){var n,r=o.x,s=o.y,a=o.low,h=o.high,d=o.direction,l=this.options.selfReference.size,c=.5*(a+h),u=0;!0===this.options.arrowStrikethrough&&(-1===d?u=this.options.endPointOffset.from:1===d&&(u=this.options.endPointOffset.to));var f=0;do{c=.5*(a+h),n=this._pointOnCircle(r,s,l,c);var p=Math.atan2(e.y-n.y,e.x-n.x),v=e.distanceToBorder(i,p)+u-Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));if(.05>Math.abs(v))break;v>0?d>0?a=c:h=c:d>0?h=c:a=c,++f}while(a<=h&&f<10);return pP(pP({},n),{},{t:c})}},{key:"getLineWidth",value:function(e,i){return!0===e?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===i?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,i){if(!1!==i.inheritsColor){if("both"===i.inheritsColor&&this.from.id!==this.to.id){var o=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(n=l2(this.from.options.color.border,i.opacity),r=l2(this.to.options.color.border,i.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),o.addColorStop(0,n),o.addColorStop(1,r),o}return"to"===i.inheritsColor?l2(this.to.options.color.border,i.opacity):l2(this.from.options.color.border,i.opacity)}return l2(i.color,i.opacity)}},{key:"_circle",value:function(e,i,o,n,r){this.enableShadow(e,i);var s=0,a=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var h=this.options.selfReference.angle,d=this.options.selfReference.angle+Math.PI,l=this._findBorderPositionCircle(this.from,e,{x:o,y:n,low:h,high:d,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:o,y:n,low:h,high:d,direction:1});s=Math.atan2(l.y-n,l.x-o),a=Math.atan2(c.y-n,c.x-o)}e.beginPath(),e.arc(o,n,r,s,a,!1),e.stroke(),this.disableShadow(e,i)}},{key:"getDistanceToEdge",value:function(e,i,o,n,r,s){if(this.from!=this.to)return this._getDistanceToEdge(e,i,o,n,r,s);var a=s0(this._getCircleData(void 0),3),h=a[0],d=a[1],l=a[2],c=h-r,u=d-s;return Math.abs(Math.sqrt(c*c+u*u)-l)}},{key:"_getDistanceToLine",value:function(e,i,o,n,r,s){var a=o-e,h=n-i,d=((r-e)*a+(s-i)*h)/(a*a+h*h);d>1?d=1:d<0&&(d=0);var l=e+d*a-r,c=i+d*h-s;return Math.sqrt(l*l+c*c)}},{key:"getArrowData",value:function(e,i,o,n,r,s){var a,h,d,l,c,u,f,p=s.width;"from"===i?(d=this.from,l=this.to,c=s.fromArrowScale<0,u=Math.abs(s.fromArrowScale),f=s.fromArrowType):"to"===i?(d=this.to,l=this.from,c=s.toArrowScale<0,u=Math.abs(s.toArrowScale),f=s.toArrowType):(d=this.to,l=this.from,c=s.middleArrowScale<0,u=Math.abs(s.middleArrowScale),f=s.middleArrowType);var v=15*u+3*p;if(d!=l){var g=v/pf(d.x-l.x,d.y-l.y);if("middle"!==i){if(!0===this.options.smooth.enabled){var y=this._findBorderPosition(d,e,{via:o}),m=this.getPoint(y.t+g*("from"===i?1:-1),o);a=Math.atan2(y.y-m.y,y.x-m.x),h=y}else a=Math.atan2(d.y-l.y,d.x-l.x),h=this._findBorderPosition(d,e)}else{var b=(c?-g:g)/2,w=this.getPoint(.5+b,o),x=this.getPoint(.5-b,o);a=Math.atan2(w.y-x.y,w.x-x.x),h=this.getPoint(.5,o)}}else{var k=s0(this._getCircleData(e),3),_=k[0],E=k[1],O=k[2];if("from"===i){var C=this.options.selfReference.angle,S=this.options.selfReference.angle+Math.PI,T=this._findBorderPositionCircle(this.from,e,{x:_,y:E,low:C,high:S,direction:-1});a=-2*T.t*Math.PI+1.5*Math.PI+.1*Math.PI,h=T}else if("to"===i){var M=this.options.selfReference.angle,P=this.options.selfReference.angle+Math.PI,D=this._findBorderPositionCircle(this.from,e,{x:_,y:E,low:M,high:P,direction:1});a=-2*D.t*Math.PI+1.5*Math.PI-1.1*Math.PI,h=D}else{var I=this.options.selfReference.angle/(2*Math.PI);h=this._pointOnCircle(_,E,O,I),a=-2*I*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:h,core:{x:h.x-.9*v*Math.cos(a),y:h.y-.9*v*Math.sin(a)},angle:a,length:v,type:f}}},{key:"drawArrowHead",value:function(e,i,o,n,r){e.strokeStyle=this.getColor(e,i),e.fillStyle=e.strokeStyle,e.lineWidth=i.width,pT.draw(e,r)&&(this.enableShadow(e,i),dv(e).call(e),this.disableShadow(e,i))}},{key:"enableShadow",value:function(e,i){!0===i.shadow&&(e.shadowColor=i.shadowColor,e.shadowBlur=i.shadowSize,e.shadowOffsetX=i.shadowX,e.shadowOffsetY=i.shadowY)}},{key:"disableShadow",value:function(e,i){!0===i.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,i){if(!1!==i.background){var o={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=i.backgroundColor,e.lineWidth=i.backgroundSize,this.setStrokeDashed(e,i.backgroundDashes),e.stroke(),e.strokeStyle=o.strokeStyle,e.lineWidth=o.lineWidth,e.dashes=o.dashes,this.setStrokeDashed(e,i.dashes)}}},{key:"setStrokeDashed",value:function(e,i){if(!1!==i){if(void 0!==e.setLineDash){var o=ar(i)?i:[5,5];e.setLineDash(o)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}else void 0!==e.setLineDash?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),e}();function pI(e,i){var o=av(e);if(ru){var n=ru(e);i&&(n=hc(n).call(n,function(i){return rx(e,i).enumerable})),o.push.apply(o,n)}return o}function pB(e){for(var i=1;i<arguments.length;i++){var o,n,r=null!=arguments[i]?arguments[i]:{};i%2?aP(o=pI(Object(r),!0)).call(o,function(i){sM(e,i,r[i])}):rS?rN(e,rS(r)):aP(n=pI(Object(r))).call(n,function(i){rU(e,i,rx(r,i))})}return e}var pz=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"_findBorderPositionBezier",value:function(e,i){var o,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),s=!1,a=1,h=0,d=this.to,l=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(d=this.from,s=!0,l=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(l=0);var c=0;do{n=.5*(h+a),o=this.getPoint(n,r);var u=Math.atan2(d.y-o.y,d.x-o.x),f=d.distanceToBorder(i,u)+l-Math.sqrt(Math.pow(o.x-d.x,2)+Math.pow(o.y-d.y,2));if(.2>Math.abs(f))break;f<0?!1===s?h=n:a=n:!1===s?a=n:h=n,++c}while(h<=a&&c<10);return pB(pB({},o),{},{t:n})}},{key:"_getDistanceToBezierEdge",value:function(e,i,o,n,r,s,a){var h,d,l,c,u,f=1e9,p=e,v=i;for(d=1;d<10;d++)c=Math.pow(1-(l=.1*d),2)*e+2*l*(1-l)*a.x+Math.pow(l,2)*o,u=Math.pow(1-l,2)*i+2*l*(1-l)*a.y+Math.pow(l,2)*n,d>0&&(f=(h=this._getDistanceToLine(p,v,c,u,r,s))<f?h:f),p=c,v=u;return f}},{key:"_bezierCurve",value:function(e,i,o,n){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),null!=o&&null!=o.x?null!=n&&null!=n.x?e.bezierCurveTo(o.x,o.y,n.x,n.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,i),this.enableShadow(e,i),e.stroke(),this.disableShadow(e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),n}(pD),pF=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){var s;return rY(this,n),(s=o.call(this,e,i,r)).via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return sT(n,[{key:"setOptions",value:function(e){ps(fz(n.prototype),"setOptions",this).call(this,e);var i=!1;this.options.physics!==e.physics&&(i=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===i&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var e="edgeId:"+this.id,i=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=i,this.via=i,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(e,i,o){this._bezierCurve(e,i,o)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var o=s0(this._getCircleData(),3),n=o[0],r=o[1],s=o[2],a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:r+s-s*(1-Math.cos(a))}}return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*i.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*i.y+Math.pow(e,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,i){return this._findBorderPositionBezier(e,i,this.via)}},{key:"_getDistanceToEdge",value:function(e,i,o,n,r,s){return this._getDistanceToBezierEdge(e,i,o,n,r,s,this.via)}}]),n}(pz),pN=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"_line",value:function(e,i,o){this._bezierCurve(e,i,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var e,i,o=this.options.smooth.roundness,n=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),s=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){a=h=r<=s?o*s:o*r,this.from.x>this.to.x&&(a=-a),this.from.y>=this.to.y&&(h=-h);var a,h,d=this.from.x+a,l=this.from.y+h;return"discrete"===n&&(r<=s?d=r<o*s?this.from.x:d:l=s<o*r?this.from.y:l),{x:d,y:l}}if("straightCross"===n){var c=(1-o)*r,u=(1-o)*s;return r<=s?(c=0,this.from.y<this.to.y&&(u=-u)):(this.from.x<this.to.x&&(c=-c),u=0),{x:this.to.x+c,y:this.to.y+u}}if("horizontal"===n){var f=(1-o)*r;return this.from.x<this.to.x&&(f=-f),{x:this.to.x+f,y:this.from.y}}if("vertical"===n){var p=(1-o)*s;return this.from.y<this.to.y&&(p=-p),{x:this.from.x,y:this.to.y+p}}if("curvedCW"===n){var v=Math.sqrt((r=this.to.x-this.from.x)*r+(s=this.from.y-this.to.y)*s),g=Math.PI,y=(Math.atan2(s,r)+(.5*o+.5)*g)%(2*g);return{x:this.from.x+(.5*o+.5)*v*Math.sin(y),y:this.from.y+(.5*o+.5)*v*Math.cos(y)}}if("curvedCCW"===n){var m=Math.sqrt((r=this.to.x-this.from.x)*r+(s=this.from.y-this.to.y)*s),b=Math.PI,w=(Math.atan2(s,r)+(-(.5*o)+.5)*b)%(2*b);return{x:this.from.x+(.5*o+.5)*m*Math.sin(w),y:this.from.y+(.5*o+.5)*m*Math.cos(w)}}e=i=r<=s?o*s:o*r,this.from.x>this.to.x&&(e=-e),this.from.y>=this.to.y&&(i=-i);var x=this.from.x+e,k=this.from.y+i;return r<=s?x=this.from.x<=this.to.x?this.to.x<x?this.to.x:x:this.to.x>x?this.to.x:x:k=this.from.y>=this.to.y?this.to.y>k?this.to.y:k:this.to.y<k?this.to.y:k,{x:x,y:k}}},{key:"_findBorderPosition",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(e,i,o.via)}},{key:"_getDistanceToEdge",value:function(e,i,o,n,r,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,i,o,n,r,s,a)}},{key:"getPoint",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*i.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*i.y+Math.pow(e,2)*this.toPoint.y}}}]),n}(pz),pA=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"_line",value:function(e,i,o){var n=o[0],r=o[1];this._bezierCurve(e,i,n,r)}},{key:"_getViaCoordinates",value:function(){var e,i,o,n,r=this.from.x-this.to.x,s=this.from.y-this.to.y,a=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(s)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(i=this.from.y,n=this.to.y,e=this.from.x-a*r,o=this.to.x+a*r):(i=this.from.y-a*s,n=this.to.y+a*s,e=this.from.x,o=this.to.x),[{x:e,y:i},{x:o,y:n}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(e,i){return this._findBorderPositionBezier(e,i)}},{key:"_getDistanceToEdge",value:function(e,i,o,n,r,s){var a=s0(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2),h=a[0],d=a[1];return this._getDistanceToBezierEdge2(e,i,o,n,r,s,h,d)}},{key:"getPoint",value:function(e){var i=s0(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),o=i[0],n=i[1],r=[Math.pow(1-e,3),3*e*Math.pow(1-e,2),3*Math.pow(e,2)*(1-e),Math.pow(e,3)];return{x:r[0]*this.fromPoint.x+r[1]*o.x+r[2]*n.x+r[3]*this.toPoint.x,y:r[0]*this.fromPoint.y+r[1]*o.y+r[2]*n.y+r[3]*this.toPoint.y}}}]),n}(function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"_getDistanceToBezierEdge2",value:function(e,i,o,n,r,s,a,h){for(var d=1e9,l=e,c=i,u=[0,0,0,0],f=1;f<10;f++){var p=.1*f;u[0]=Math.pow(1-p,3),u[1]=3*p*Math.pow(1-p,2),u[2]=3*Math.pow(p,2)*(1-p),u[3]=Math.pow(p,3);var v=u[0]*e+u[1]*a.x+u[2]*h.x+u[3]*o,g=u[0]*i+u[1]*a.y+u[2]*h.y+u[3]*n;if(f>0){var y=this._getDistanceToLine(l,c,v,g,r,s);d=y<d?y:d}l=v,c=g}return d}}]),n}(pz)),pR=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"_line",value:function(e,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,i),e.stroke(),this.disableShadow(e,i)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,i){var o=this.to,n=this.from;e.id===this.from.id&&(o=this.from,n=this.to);var r=Math.atan2(o.y-n.y,o.x-n.x),s=o.x-n.x,a=o.y-n.y,h=Math.sqrt(s*s+a*a),d=(h-e.distanceToBorder(i,r))/h;return{x:(1-d)*n.x+d*o.x,y:(1-d)*n.y+d*o.y,t:0}}},{key:"_getDistanceToEdge",value:function(e,i,o,n,r,s){return this._getDistanceToLine(e,i,o,n,r,s)}}]),n}(pD),pj=function(){function e(i,o,n,r,s){if(rY(this,e),void 0===o)throw Error("No body provided");this.options=l7(r),this.globalOptions=r,this.defaultOptions=s,this.body=o,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new ft(this.body,this.options,!0),this.setOptions(i)}return sT(e,[{key:"setOptions",value:function(i){if(i){var o=void 0!==i.physics&&this.options.physics!==i.physics||void 0!==i.hidden&&(this.options.hidden||!1)!==(i.hidden||!1)||void 0!==i.from&&this.options.from!==i.from||void 0!==i.to&&this.options.to!==i.to;e.parseOptions(this.options,i,!0,this.globalOptions),void 0!==i.id&&(this.id=i.id),void 0!==i.from&&(this.fromId=i.from),void 0!==i.to&&(this.toId=i.to),void 0!==i.title&&(this.title=i.title),void 0!==i.value&&(i.value=uV(i.value));var n=[i,this.options,this.defaultOptions];return this.chooser=uK("edge",n),this.updateLabelModule(i),o=this.updateEdgeType()||o,this._setInteractionWidths(),this.connect(),o}}},{key:"getFormattingValues",value:function(){var e=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,i=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,o=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,n=this.options.color.inherit,r={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:o,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:i,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover){if(!0===this.chooser){if(this.selected){var s=this.options.selectionWidth;"function"==typeof s?r.width=s(r.width):"number"==typeof s&&(r.width+=s),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.highlight,r.shadow=this.options.shadow.enabled}else if(this.hover){var a=this.options.hoverWidth;"function"==typeof a?r.width=a(r.width):"number"==typeof a&&(r.width+=a),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.hover,r.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(r,this.options.id,this.selected,this.hover),void 0!==r.color&&(r.inheritsColor=!1),!1===r.shadow&&(r.shadowColor===this.options.shadow.color&&r.shadowSize===this.options.shadow.size&&r.shadowX===this.options.shadow.x&&r.shadowY===this.options.shadow.y||(r.shadow=!0)))}else r.shadow=this.options.shadow.enabled,r.width=Math.max(r.width,.3/this.body.view.scale);return r}},{key:"updateLabelModule",value:function(e){var i=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,i=!1,o=!0;return void 0!==this.edgeType&&((this.edgeType instanceof pF&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof pA&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof pN&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof pR&&!1===e.type.enabled)&&(o=!1),!0===o&&(i=this.cleanup())),!0===o?!0===e.enabled?"dynamic"===e.type?(i=!0,this.edgeType=new pF(this.options,this.body,this.labelModule)):"cubicBezier"===e.type?this.edgeType=new pA(this.options,this.body,this.labelModule):this.edgeType=new pN(this.options,this.body,this.labelModule):this.edgeType=new pR(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),i}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,i,o){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(e,i,o,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.width=this.options.scaling.min+n*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var i=this.getFormattingValues();if(!i.hidden){var o=this.edgeType.getViaNode();this.edgeType.drawLine(e,i,this.selected,this.hover,o),this.drawLabel(e,o)}}},{key:"drawArrows",value:function(e){var i=this.getFormattingValues();if(!i.hidden){var o=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,i.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",o,this.selected,this.hover,i),!1===i.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core),i.fromArrowSrc&&(n.from.image=this.imagelist.load(i.fromArrowSrc)),i.fromArrowImageWidth&&(n.from.imageWidth=i.fromArrowImageWidth),i.fromArrowImageHeight&&(n.from.imageHeight=i.fromArrowImageHeight)),i.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",o,this.selected,this.hover,i),!1===i.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core),i.toArrowSrc&&(n.to.image=this.imagelist.load(i.toArrowSrc)),i.toArrowImageWidth&&(n.to.imageWidth=i.toArrowImageWidth),i.toArrowImageHeight&&(n.to.imageHeight=i.toArrowImageHeight)),i.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",o,this.selected,this.hover,i),i.middleArrowSrc&&(n.middle.image=this.imagelist.load(i.middleArrowSrc)),i.middleArrowImageWidth&&(n.middle.imageWidth=i.middleArrowImageWidth),i.middleArrowImageHeight&&(n.middle.imageHeight=i.middleArrowImageHeight)),i.fromArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,n.from),i.middleArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,n.middle),i.toArrow&&this.edgeType.drawArrowHead(e,i,this.selected,this.hover,n.to)}}},{key:"drawLabel",value:function(e,i){if(void 0!==this.options.label){var o,n=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),n.id!=r.id){this.labelModule.pointToSelf=!1,o=this.edgeType.getPoint(.5,i),e.save();var s=this._getRotation(e);0!=s.angle&&(e.translate(s.x,s.y),e.rotate(s.angle)),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var a=uQ(e,this.options.selfReference.angle,this.options.selfReference.size,n);o=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var i=[];if(this.labelModule.visible()){var o=this._getRotation();u$(this.labelModule.getSize(),e,o)&&i.push({edgeId:this.id,labelId:0})}var n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&i.push({edgeId:this.id}),i}},{key:"isOverlappingWith",value:function(e){if(this.connected){var i=this.from.x,o=this.from.y,n=this.to.x,r=this.to.y,s=e.left,a=e.top;return 10>this.edgeType.getDistanceToEdge(i,o,n,r,s,a)}return!1}},{key:"_getRotation",value:function(e){var i=this.edgeType.getViaNode(),o=this.edgeType.getPoint(.5,i);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,o.x,o.y);var n={x:o.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return n;var r=this.from.y-this.to.y,s=this.from.x-this.to.x,a=Math.atan2(r,s);return(a<-1&&s<0||a>0&&s<0)&&(a+=Math.PI),n.angle=a,n}},{key:"_pointOnCircle",value:function(e,i,o,n){return{x:e+o*Math.cos(n),y:i-o*Math.sin(n)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(l$(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,i,o),void 0!==i.endPointOffset&&void 0!==i.endPointOffset.from&&(uS(i.endPointOffset.from)?e.endPointOffset.from=i.endPointOffset.from:(e.endPointOffset.from=void 0!==n.endPointOffset.from?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==i.endPointOffset&&void 0!==i.endPointOffset.to&&(uS(i.endPointOffset.to)?e.endPointOffset.to=i.endPointOffset.to:(e.endPointOffset.to=void 0!==n.endPointOffset.to?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),uZ(i.label)?e.label=i.label:uZ(e.label)||(e.label=void 0),ct(e,i,"smooth",n),ct(e,i,"shadow",n),ct(e,i,"background",n),void 0!==i.dashes&&null!==i.dashes?e.dashes=i.dashes:!0===o&&null===i.dashes&&(e.dashes=h0(n.dashes)),void 0!==i.scaling&&null!==i.scaling?(void 0!==i.scaling.min&&(e.scaling.min=i.scaling.min),void 0!==i.scaling.max&&(e.scaling.max=i.scaling.max),ct(e.scaling,i.scaling,"label",n.scaling)):!0===o&&null===i.scaling&&(e.scaling=h0(n.scaling)),void 0!==i.arrows&&null!==i.arrows){if("string"==typeof i.arrows){var s=i.arrows.toLowerCase();e.arrows.to.enabled=-1!=hV(s).call(s,"to"),e.arrows.middle.enabled=-1!=hV(s).call(s,"middle"),e.arrows.from.enabled=-1!=hV(s).call(s,"from")}else{if("object"!==sb(i.arrows))throw Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+h3(i.arrows));ct(e.arrows,i.arrows,"to",n.arrows),ct(e.arrows,i.arrows,"middle",n.arrows),ct(e.arrows,i.arrows,"from",n.arrows)}}else!0===o&&null===i.arrows&&(e.arrows=h0(n.arrows));if(void 0!==i.color&&null!==i.color){var a=lX(i.color)?{color:i.color,highlight:i.color,hover:i.color,inherit:!1,opacity:1}:i.color,h=e.color;if(r)lQ(h,n.color,!1,o);else for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&delete h[d];if(lX(h))h.color=h,h.highlight=h,h.hover=h,h.inherit=!1,void 0===a.opacity&&(h.opacity=1);else{var l=!1;void 0!==a.color&&(h.color=a.color,l=!0),void 0!==a.highlight&&(h.highlight=a.highlight,l=!0),void 0!==a.hover&&(h.hover=a.hover,l=!0),void 0!==a.inherit&&(h.inherit=a.inherit),void 0!==a.opacity&&(h.opacity=Math.min(1,Math.max(0,a.opacity))),!0===l?h.inherit=!1:void 0===h.inherit&&(h.inherit="from")}}else!0===o&&null===i.color&&(e.color=l7(n.color));!0===o&&null===i.font&&(e.font=l7(n.font)),Object.prototype.hasOwnProperty.call(i,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=i.selfReferenceSize)}}]),e}(),pL=function(){function e(i,o,n){var r,s=this;rY(this,e),this.body=i,this.images=o,this.groups=n,this.body.functions.createEdge=eW(r=this.create).call(r,this),this.edgesListeners={add:function(e,i){s.add(i.items)},update:function(e,i){s.update(i.items)},remove:function(e,i){s.remove(i.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,i,o,n){return i===e?.5:Math.max(0,(n-e)*(1/(i-e)))}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},lQ(this.options,this.defaultOptions),this.bindEventListeners()}return sT(e,[{key:"bindEventListeners",value:function(){var e,i,o=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var n=!1;for(var r in o.body.edges)if(Object.prototype.hasOwnProperty.call(o.body.edges,r)){var s=o.body.edges[r],a=o.body.data.edges.get(r);if(null!=a){var h=a.smooth;void 0!==h&&!0===h.enabled&&"dynamic"===h.type&&(void 0===e?s.setOptions({smooth:!1}):s.setOptions({smooth:{type:e}}),n=!0)}}!0===i&&!0===n&&o.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){o.reconnectEdges()}),this.body.emitter.on("refreshEdges",eW(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",eW(i=this.refresh).call(i,this)),this.body.emitter.on("destroy",function(){l0(o.edgesListeners,function(e,i){o.body.data.edges&&o.body.data.edges.off(i,e)}),delete o.body.functions.createEdge,delete o.edgesListeners.add,delete o.edgesListeners.update,delete o.edgesListeners.remove,delete o.edgesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){pj.parseOptions(this.options,e,!0,this.defaultOptions,!0);var i=!1;if(void 0!==e.smooth)for(var o in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,o)&&(i=this.body.edges[o].updateEdgeType()||i);if(void 0!==e.font)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==i||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var o=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.data.edges;if(i.isDataViewLike("id",e))this.body.data.edges=e;else if(ar(e))this.body.data.edges=new i.DataSet,this.body.data.edges.add(e);else{if(e)throw TypeError("Array or DataSet expected");this.body.data.edges=new i.DataSet}if(r&&l0(this.edgesListeners,function(e,i){r.off(i,e)}),this.body.edges={},this.body.data.edges){l0(this.edgesListeners,function(e,i){o.body.data.edges.on(i,e)});var s=this.body.data.edges.getIds();this.add(s,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.body.edges,n=this.body.data.edges,r=0;r<e.length;r++){var s=e[r],a=o[s];a&&a.disconnect();var h=n.get(s,{showInternalIds:!0});o[s]=this.create(h)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var i=this.body.edges,o=this.body.data.edges,n=!1,r=0;r<e.length;r++){var s=e[r],a=o.get(s),h=i[s];void 0!==h?(h.disconnect(),n=h.setOptions(a)||n,h.connect()):(this.body.edges[s]=this.create(a),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var o=this.body.edges;l0(e,function(e){var i=o[e];void 0!==i&&i.remove()}),i&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;l0(this.body.edges,function(i,o){var n=e.body.data.edges.get(o);void 0!==n&&i.setOptions(n)})}},{key:"create",value:function(e){return new pj(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,i=this.body.nodes,o=this.body.edges;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e].edges=[]);for(e in o)if(Object.prototype.hasOwnProperty.call(o,e)){var n=o[e];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(e){var i=[];if(void 0!==this.body.edges[e]){var o=this.body.edges[e];void 0!==o.fromId&&i.push(o.fromId),void 0!==o.toId&&i.push(o.toId)}return i}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,i=[];l0(this.body.edges,function(o,n){var r=e.body.nodes[o.toId],s=e.body.nodes[o.fromId];void 0!==r&&!0===r.isCluster||void 0!==s&&!0===s.isCluster||void 0!==r&&void 0!==s||i.push(n)}),this.remove(i,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(null!=e){var i=this.body.edges,o=[];aP(e).call(e,function(e,n){void 0===i[n]&&o.push(n)}),this.add(o,!0)}}}]),e}(),pH=function(){function e(i,o,n){rY(this,e),this.body=i,this.physicsBody=o,this.barnesHutTree,this.setOptions(n),this._rng=lj("BARNES HUT SOLVER")}return sT(e,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e,i=this.body.nodes,o=this.physicsBody.physicsNodeIndices,n=o.length,r=this._formBarnesHutTree(i,o);this.barnesHutTree=r;for(var s=0;s<n;s++)(e=i[o[s]]).options.mass>0&&this._getForceContributions(r.root,e)}}},{key:"_getForceContributions",value:function(e,i){this._getForceContribution(e.children.NW,i),this._getForceContribution(e.children.NE,i),this._getForceContribution(e.children.SW,i),this._getForceContribution(e.children.SE,i)}},{key:"_getForceContribution",value:function(e,i){if(e.childrenCount>0){var o=e.centerOfMass.x-i.x,n=e.centerOfMass.y-i.y,r=Math.sqrt(o*o+n*n);r*e.calcSize>this.thetaInversed?this._calculateForces(r,o,n,i,e):4===e.childrenCount?this._getForceContributions(e,i):e.children.data.id!=i.id&&this._calculateForces(r,o,n,i,e)}}},{key:"_calculateForces",value:function(e,i,o,n,r){0===e&&(i=e=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var s=this.options.gravitationalConstant*r.mass*n.options.mass/Math.pow(e,3),a=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=o*s}},{key:"_formBarnesHutTree",value:function(e,i){for(var o,n=i.length,r=e[i[0]].x,s=e[i[0]].y,a=e[i[0]].x,h=e[i[0]].y,d=1;d<n;d++){var l=e[i[d]],c=l.x,u=l.y;l.options.mass>0&&(c<r&&(r=c),c>a&&(a=c),u<s&&(s=u),u>h&&(h=u))}var f=Math.abs(a-r)-Math.abs(h-s);f>0?(s-=.5*f,h+=.5*f):(r+=.5*f,a-=.5*f);var p=Math.max(1e-5,Math.abs(a-r)),v=.5*p,g=.5*(r+a),y=.5*(s+h),m={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:g-v,maxX:g+v,minY:y-v,maxY:y+v},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(m.root);for(var b=0;b<n;b++)(o=e[i[b]]).options.mass>0&&this._placeInTree(m.root,o);return m}},{key:"_updateBranchMass",value:function(e,i){var o=e.centerOfMass,n=e.mass+i.options.mass,r=1/n;o.x=o.x*e.mass+i.x*i.options.mass,o.x*=r,o.y=o.y*e.mass+i.y*i.options.mass,o.y*=r,e.mass=n;var s=Math.max(Math.max(i.height,i.radius),i.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}},{key:"_placeInTree",value:function(e,i,o){1==o&&void 0!==o||this._updateBranchMass(e,i);var n,r=e.children.NW.range;n=r.maxX>i.x?r.maxY>i.y?"NW":"SW":r.maxY>i.y?"NE":"SE",this._placeInRegion(e,i,n)}},{key:"_placeInRegion",value:function(e,i,o){var n=e.children[o];switch(n.childrenCount){case 0:n.children.data=i,n.childrenCount=1,this._updateBranchMass(n,i);break;case 1:n.children.data.x===i.x&&n.children.data.y===i.y?(i.x+=this._rng(),i.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,i));break;case 4:this._placeInTree(n,i)}}},{key:"_splitBranch",value:function(e){var i=null;1===e.childrenCount&&(i=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=i&&this._placeInTree(e,i)}},{key:"_insertRegion",value:function(e,i){var o,n,r,s,a=.5*e.size;switch(i){case"NW":o=e.range.minX,n=e.range.minX+a,r=e.range.minY,s=e.range.minY+a;break;case"NE":o=e.range.minX+a,n=e.range.maxX,r=e.range.minY,s=e.range.minY+a;break;case"SW":o=e.range.minX,n=e.range.minX+a,r=e.range.minY+a,s=e.range.maxY;break;case"SE":o=e.range.minX+a,n=e.range.maxX,r=e.range.minY+a,s=e.range.maxY}e.children[i]={centerOfMass:{x:0,y:0},mass:0,range:{minX:o,maxX:n,minY:r,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,i){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,i))}},{key:"_drawBranch",value:function(e,i,o){void 0===o&&(o="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,i),this._drawBranch(e.children.NE,i),this._drawBranch(e.children.SE,i),this._drawBranch(e.children.SW,i)),i.strokeStyle=o,i.beginPath(),i.moveTo(e.range.minX,e.range.minY),i.lineTo(e.range.maxX,e.range.minY),i.stroke(),i.beginPath(),i.moveTo(e.range.maxX,e.range.minY),i.lineTo(e.range.maxX,e.range.maxY),i.stroke(),i.beginPath(),i.moveTo(e.range.maxX,e.range.maxY),i.lineTo(e.range.minX,e.range.maxY),i.stroke(),i.beginPath(),i.moveTo(e.range.minX,e.range.maxY),i.lineTo(e.range.minX,e.range.minY),i.stroke()}}]),e}(),pW=function(){function e(i,o,n){rY(this,e),this._rng=lj("REPULSION SOLVER"),this.body=i,this.physicsBody=o,this.setOptions(n)}return sT(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,o,n,r,s,a,h,d=this.body.nodes,l=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,u=this.options.nodeDistance,f=-2/3/u,p=0;p<l.length-1;p++){a=d[l[p]];for(var v=p+1;v<l.length;v++)0===(o=Math.sqrt((e=(h=d[l[v]]).x-a.x)*e+(i=h.y-a.y)*i))&&(e=o=.1*this._rng()),o<2*u&&(n=e*(s=(o<.5*u?1:f*o+1.3333333333333333)/o),r=i*s,c[a.id].x-=n,c[a.id].y-=r,c[h.id].x+=n,c[h.id].y+=r)}}}]),e}(),pV=function(){function e(i,o,n){rY(this,e),this.body=i,this.physicsBody=o,this.setOptions(n)}return sT(e,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces,n=this.options.nodeDistance,r=0;r<i.length-1;r++)for(var s=e[i[r]],a=r+1;a<i.length;a++){var h=e[i[a]];if(s.level===h.level){var d=n+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(h.shape.radius||0)/2),l=h.x-s.x,c=h.y-s.y,u=Math.sqrt(l*l+c*c),f=void 0;f=u<d?-Math.pow(.05*u,2)+Math.pow(.05*d,2):0,0!==u&&(f/=u);var p=l*f,v=c*f;o[s.id].x-=p,o[s.id].y-=v,o[h.id].x+=p,o[h.id].y+=v}}}}]),e}(),pq=function(){function e(i,o,n){rY(this,e),this.body=i,this.physicsBody=o,this.setOptions(n)}return sT(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,o,n,r,s=this.physicsBody.physicsEdgeIndices,a=this.body.edges,h=0;h<s.length;h++)!0===(i=a[s[h]]).connected&&i.toId!==i.fromId&&void 0!==this.body.nodes[i.toId]&&void 0!==this.body.nodes[i.fromId]&&(void 0!==i.edgeType.via?(e=void 0===i.options.length?this.options.springLength:i.options.length,o=i.to,n=i.edgeType.via,r=i.from,this._calculateSpringForce(o,n,.5*e),this._calculateSpringForce(n,r,.5*e)):(e=void 0===i.options.length?1.5*this.options.springLength:i.options.length,this._calculateSpringForce(i.from,i.to,e)))}},{key:"_calculateSpringForce",value:function(e,i,o){var n=e.x-i.x,r=e.y-i.y,s=Math.max(Math.sqrt(n*n+r*r),.01),a=this.options.springConstant*(o-s)/s,h=n*a,d=r*a;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=h,this.physicsBody.forces[e.id].y+=d),void 0!==this.physicsBody.forces[i.id]&&(this.physicsBody.forces[i.id].x-=h,this.physicsBody.forces[i.id].y-=d)}}]),e}(),pU=function(){function e(i,o,n){rY(this,e),this.body=i,this.physicsBody=o,this.setOptions(n)}return sT(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,o,n,r,s,a,h,d,l,c=this.body.edges,u=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,v=0;v<f.length;v++){var g=f[v];p[g].springFx=0,p[g].springFy=0}for(var y=0;y<u.length;y++)!0===(i=c[u[y]]).connected&&(e=void 0===i.options.length?this.options.springLength:i.options.length,h=0===(h=Math.sqrt((o=i.from.x-i.to.x)*o+(n=i.from.y-i.to.y)*n))?.01:h,r=o*(a=this.options.springConstant*(e-h)/h),s=n*a,i.to.level!=i.from.level?(void 0!==p[i.toId]&&(p[i.toId].springFx-=r,p[i.toId].springFy-=s),void 0!==p[i.fromId]&&(p[i.fromId].springFx+=r,p[i.fromId].springFy+=s)):(void 0!==p[i.toId]&&(p[i.toId].x-=.5*r,p[i.toId].y-=.5*s),void 0!==p[i.fromId]&&(p[i.fromId].x+=.5*r,p[i.fromId].y+=.5*s)));a=1;for(var m=0;m<f.length;m++){var b=f[m];d=Math.min(a,Math.max(-a,p[b].springFx)),l=Math.min(a,Math.max(-a,p[b].springFy)),p[b].x+=d,p[b].y+=l}for(var w=0,x=0,k=0;k<f.length;k++){var _=f[k];w+=p[_].x,x+=p[_].y}for(var E=w/f.length,O=x/f.length,C=0;C<f.length;C++){var S=f[C];p[S].x-=E,p[S].y-=O}}}]),e}(),pY=function(){function e(i,o,n){rY(this,e),this.body=i,this.physicsBody=o,this.setOptions(n)}return sT(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,i,o,n,r=this.body.nodes,s=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,h=0;h<s.length;h++)o=Math.sqrt((e=-(n=r[s[h]]).x)*e+(i=-n.y)*i),this._calculateForces(o,e,i,a,n)}},{key:"_calculateForces",value:function(e,i,o,n,r){var s=0===e?0:this.options.centralGravity/e;n[r.id].x=i*s,n[r.id].y=o*s}}]),e}(),pX=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){var s;return rY(this,n),(s=o.call(this,e,i,r))._rng=lj("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return sT(n,[{key:"_calculateForces",value:function(e,i,o,n,r){0===e&&(i=e=.1*this._rng()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var s=n.edges.length+1,a=this.options.gravitationalConstant*r.mass*n.options.mass*s/Math.pow(e,2),h=i*a;this.physicsBody.forces[n.id].x+=h,this.physicsBody.forces[n.id].y+=o*a}}]),n}(pH),pG=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r){return rY(this,n),o.call(this,e,i,r)}return sT(n,[{key:"_calculateForces",value:function(e,i,o,n,r){if(e>0){var s=r.edges.length+1,a=this.options.centralGravity*s*r.options.mass;n[r.id].x=i*a,n[r.id].y=o*a}}}]),n}(pY),pK=function(){function e(i){rY(this,e),this.body=i,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},eT(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return sT(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===e.ready&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(void 0!==e){if(!1===e)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===e)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,lZ(["stabilization"],this.options,e),ct(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var i=this.options.wind;i&&(("number"!=typeof i.x||uk(i.x))&&(i.x=0),("number"!=typeof i.y||uk(i.y))&&(i.y=0)),this.timestep=this.options.timestep}}this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(e=this.options.forceAtlas2Based,this.nodesSolver=new pX(this.body,this.physicsBody,e),this.edgesSolver=new pq(this.body,this.physicsBody,e),this.gravitySolver=new pG(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(e=this.options.repulsion,this.nodesSolver=new pW(this.body,this.physicsBody,e),this.edgesSolver=new pq(this.body,this.physicsBody,e),this.gravitySolver=new pY(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new pV(this.body,this.physicsBody,e),this.edgesSolver=new pU(this.body,this.physicsBody,e),this.gravitySolver=new pY(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new pH(this.body,this.physicsBody,e),this.edgesSolver=new pq(this.body,this.physicsBody,e),this.gravitySolver=new pY(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=eW(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=ax();this.physicsTick(),(ax()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&da(function(){e.body.emitter.emit("stabilized",{iterations:i}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,i=this.body.edges;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&!0===e[o].options.physics&&this.physicsBody.physicsNodeIndices.push(e[o].id);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&!0===i[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(i[n].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var s=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[s]={x:0,y:0},void 0===this.physicsBody.velocities[s]&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var a in this.physicsBody.velocities)void 0===e[a]&&delete this.physicsBody.velocities[a]}},{key:"revert",value:function(){var e=av(this.previousStates),i=this.body.nodes,o=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<e.length;n++){var r=e[n];void 0!==i[r]?!0===i[r].options.physics&&(this.referenceState[r]={positions:{x:i[r].x,y:i[r].y}},o[r].x=this.previousStates[r].vx,o[r].y=this.previousStates[r].vy,i[r].x=this.previousStates[r].x,i[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var e=this.body.nodes,i=this.referenceState;for(var o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&void 0!==e[o]&&Math.sqrt(Math.pow(e[o].x-i[o].positions.x,2)+Math.pow(e[o].y-i[o].positions.y,2))>.3)return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,i=0,o=0,n=0;n<e.length;n++){var r=e[n],s=this._performStep(r);i=Math.max(i,s),o+=s}this.adaptiveTimestepEnabled=o/e.length<5,this.stabilized=i<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,i,o){e+=(i-this.modelOptions.damping*e)/o*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(e)>n&&(e=e>0?n:-n),e}},{key:"_performStep",value:function(e){var i=this.body.nodes[e],o=this.physicsBody.forces[e];this.options.wind&&(o.x+=this.options.wind.x,o.y+=this.options.wind.y);var n=this.physicsBody.velocities[e];return this.previousStates[e]={x:i.x,y:i.y,vx:n.x,vy:n.y},!1===i.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,o.x,i.options.mass),i.x+=n.x*this.timestep):(o.x=0,n.x=0),!1===i.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,o.y,i.options.mass),i.y+=n.y*this.timestep):(o.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i].x&&e[i].y){var o=e[i].options.fixed;this.freezeCache[i]={x:o.x,y:o.y},o.x=!0,o.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&void 0!==this.freezeCache[i]&&(e[i].options.fixed.x=this.freezeCache[i].x,e[i].options.fixed.y=this.freezeCache[i].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof i&&console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",i=this.options.stabilization.iterations),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=i,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,da(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,i=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},o=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&o();for(var n,r=0;i()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;(o(),i())?da(eW(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var i=0;i<this.physicsBody.physicsNodeIndices.length;i++){var o=this.physicsBody.physicsNodeIndices[i],n=this.body.nodes[o],r=this.physicsBody.forces[o],s=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),a=Math.min(Math.max(5,s),15),h=3*a,d=l9((180-180*Math.min(1,Math.max(0,.03*s)))/360,1,1),l={x:n.x+20*r.x,y:n.y+20*r.y};e.lineWidth=a,e.strokeStyle=d,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(l.x,l.y),e.stroke();var c=Math.atan2(r.y,r.x);e.fillStyle=d,pT.draw(e,{type:"arrow",point:l,angle:c,length:h}),dv(e).call(e)}}}]),e}();let p$=new Uint8Array(16);function pZ(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(p$)}let pQ=[];for(let e=0;e<256;++e)pQ.push((e+256).toString(16).slice(1));var pJ={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function p0(e,i,o){if(pJ.randomUUID&&!i&&!e)return pJ.randomUUID();let n=(e=e||{}).random||(e.rng||pZ)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,i){o=o||0;for(let e=0;e<16;++e)i[o+e]=n[e];return i}return function(e,i=0){return(pQ[e[i+0]]+pQ[e[i+1]]+pQ[e[i+2]]+pQ[e[i+3]]+"-"+pQ[e[i+4]]+pQ[e[i+5]]+"-"+pQ[e[i+6]]+pQ[e[i+7]]+"-"+pQ[e[i+8]]+pQ[e[i+9]]+"-"+pQ[e[i+10]]+pQ[e[i+11]]+pQ[e[i+12]]+pQ[e[i+13]]+pQ[e[i+14]]+pQ[e[i+15]]).toLowerCase()}(n)}var p1=function(){function e(){rY(this,e)}return sT(e,null,[{key:"getRange",value:function(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,s=1e9,a=-1e9;if(o.length>0)for(var h=0;h<o.length;h++)s>(i=e[o[h]]).shape.boundingBox.left&&(s=i.shape.boundingBox.left),a<i.shape.boundingBox.right&&(a=i.shape.boundingBox.right),n>i.shape.boundingBox.top&&(n=i.shape.boundingBox.top),r<i.shape.boundingBox.bottom&&(r=i.shape.boundingBox.bottom);return 1e9===s&&-1e9===a&&1e9===n&&-1e9===r&&(n=0,r=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:r}}},{key:"getRangeCore",value:function(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,s=1e9,a=-1e9;if(o.length>0)for(var h=0;h<o.length;h++)s>(i=e[o[h]]).x&&(s=i.x),a<i.x&&(a=i.x),n>i.y&&(n=i.y),r<i.y&&(r=i.y);return 1e9===s&&-1e9===a&&1e9===n&&-1e9===r&&(n=0,r=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:r}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,i){var o={};return void 0===i||"node"===i?(lQ(o,e.options,!0),o.x=e.x,o.y=e.y,o.amountOfConnections=e.edges.length):lQ(o,e.options,!0),o}}]),e}(),p2=function(e){fT(n,e);var i,o=(i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=fz(n);if(i){var r=fz(this).constructor;e=fu(o,arguments,r)}else e=o.apply(this,arguments);return fM(this,e)});function n(e,i,r,s,a,h){var d;return rY(this,n),(d=o.call(this,e,i,r,s,a,h)).isCluster=!0,d.containedNodes={},d.containedEdges={},d}return sT(n,[{key:"_openChildCluster",value:function(e){var i=this,o=this.body.nodes[e];if(void 0===this.containedNodes[e])throw Error("node with id: "+e+" not in current cluster");if(!o.isCluster)throw Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],l0(o.edges,function(e){delete i.containedEdges[e.id]}),l0(o.containedNodes,function(e,o){i.containedNodes[o]=e}),o.containedNodes={},l0(o.containedEdges,function(e,o){i.containedEdges[o]=e}),o.containedEdges={},l0(o.edges,function(e){l0(i.edges,function(o){var n,r,s=hV(n=o.clusteringEdgeReplacingIds).call(n,e.id);-1!==s&&(l0(e.clusteringEdgeReplacingIds,function(e){o.clusteringEdgeReplacingIds.push(e),i.body.edges[e].edgeReplacedById=o.id}),aZ(r=o.clusteringEdgeReplacingIds).call(r,s,1))})}),o.edges=[]}}]),n}(f5),p5=function(){function e(i){var o=this;rY(this,e),this.body=i,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},eT(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){o.clusteredNodes={},o.clusteredEdges={}})}return sT(e,[{key:"clusterByHubsize",value:function(e,i){void 0===e?e=this._getHubSize():"object"===sb(e)&&(i=this._checkOptions(e),e=this._getHubSize());for(var o=[],n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>=e&&o.push(r.id)}for(var s=0;s<o.length;s++)this.clusterByConnection(o[s],i,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===i.joinCondition)throw Error("Cannot call clusterByNodeData without a joinCondition function in the options.");i=this._checkOptions(i);var n={},r={};l0(this.body.nodes,function(o,s){o.options&&!0===i.joinCondition(o.options)&&(n[s]=o,l0(o.edges,function(i){void 0===e.clusteredEdges[i.id]&&(r[i.id]=i)}))}),this._cluster(n,r,i,o)}},{key:"clusterByEdgeCount",value:function(e,i){var o=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i=this._checkOptions(i);for(var r,s,a,h=[],d={},l=0;l<this.body.nodeIndices.length;l++)(function(){var n={},c={},u=o.body.nodeIndices[l],f=o.body.nodes[u];if(void 0===d[u]){a=0,s=[];for(var p=0;p<f.edges.length;p++)r=f.edges[p],void 0===o.clusteredEdges[r.id]&&(r.toId!==r.fromId&&a++,s.push(r));if(a===e){for(var v=!0,g=0;g<s.length;g++){r=s[g];var y=o._getConnectedId(r,u);if(!function(e){if(void 0===i.joinCondition||null===i.joinCondition)return!0;var o=p1.cloneOptions(e);return i.joinCondition(o)}(f)){v=!1;break}c[r.id]=r,n[u]=f,n[y]=o.body.nodes[y],d[u]=!0}if(av(n).length>0&&av(c).length>0&&!0===v){var m=function(){for(var e=0;e<h.length;++e)for(var i in n)if(void 0!==h[e].nodes[i])return h[e]}();if(void 0!==m){for(var b in n)void 0===m.nodes[b]&&(m.nodes[b]=n[b]);for(var w in c)void 0===m.edges[w]&&(m.edges[w]=c[w])}else h.push({nodes:n,edges:c})}}}})();for(var c=0;c<h.length;c++)this._cluster(h[c].nodes,h[c].edges,i,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,i)}},{key:"clusterBridges",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,i)}},{key:"clusterByConnection",value:function(e,i){var o,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[e];void 0===(i=this._checkOptions(i,r)).clusterNodeProperties.x&&(i.clusterNodeProperties.x=r.x),void 0===i.clusterNodeProperties.y&&(i.clusterNodeProperties.y=r.y),void 0===i.clusterNodeProperties.fixed&&(i.clusterNodeProperties.fixed={},i.clusterNodeProperties.fixed.x=r.options.fixed.x,i.clusterNodeProperties.fixed.y=r.options.fixed.y);var s={},a={},h=r.id,d=p1.cloneOptions(r);s[h]=r;for(var l=0;l<r.edges.length;l++){var c=r.edges[l];if(void 0===this.clusteredEdges[c.id]){var u=this._getConnectedId(c,h);if(void 0===this.clusteredNodes[u]){if(u!==h){if(void 0===i.joinCondition)a[c.id]=c,s[u]=this.body.nodes[u];else{var f=p1.cloneOptions(this.body.nodes[u]);!0===i.joinCondition(d,f)&&(a[c.id]=c,s[u]=this.body.nodes[u])}}else a[c.id]=c}}}var p=ac(o=av(s)).call(o,function(e){return s[e].id});for(var v in s)if(Object.prototype.hasOwnProperty.call(s,v))for(var g=s[v],y=0;y<g.edges.length;y++){var m=g.edges[y];hV(p).call(p,this._getConnectedId(m,g.id))>-1&&(a[m.id]=m)}this._cluster(s,a,i,n)}},{key:"_createClusterEdges",value:function(e,i,o,n){for(var r,s,a,h,d,l,c=av(e),u=[],f=0;f<c.length;f++){a=e[s=c[f]];for(var p=0;p<a.edges.length;p++)r=a.edges[p],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?i[r.id]=r:r.toId==s?(h=o.id,l=d=r.fromId):(h=r.toId,d=o.id,l=h),void 0===e[l]&&u.push({edge:r,fromId:d,toId:h}))}for(var v=[],g=0;g<u.length;g++){var y=u[g],m=y.edge,b=function(e){for(var i=0;i<v.length;i++){var o=v[i],n=e.fromId===o.fromId&&e.toId===o.toId,r=e.fromId===o.toId&&e.toId===o.fromId;if(n||r)return o}return null}(y);null===b?(b=this._createClusteredEdge(y.fromId,y.toId,m,n),v.push(b)):b.clusteringEdgeReplacingIds.push(m.id),this.body.edges[m.id].edgeReplacedById=b.id,this._backupEdgeOptions(m),m.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,i,o){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&void 0!==this.clusteredNodes[s]&&r.push(s);for(var a=0;a<r.length;++a)delete e[r[a]];if(0!=av(e).length&&(1!=av(e).length||1==o.clusterNodeProperties.allowSingleNodeCluster)){var h=lQ({},o.clusterNodeProperties);if(void 0!==o.processProperties){var d=[];for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var c=p1.cloneOptions(e[l]);d.push(c)}var u=[];for(var f in i)if(Object.prototype.hasOwnProperty.call(i,f)&&"clusterEdge:"!==f.substr(0,12)){var p=p1.cloneOptions(i[f],"edge");u.push(p)}if(!(h=o.processProperties(h,d,u)))throw Error("The processProperties function does not return properties!")}void 0===h.id&&(h.id="cluster:"+p0());var v=h.id;void 0===h.label&&(h.label="cluster");var g=void 0;void 0===h.x&&(g=this._getClusterPosition(e),h.x=g.x),void 0===h.y&&(void 0===g&&(g=this._getClusterPosition(e)),h.y=g.y),h.id=v;var y=this.body.functions.createNode(h,p2);y.containedNodes=e,y.containedEdges=i,y.clusterEdgeProperties=o.clusterEdgeProperties,this.body.nodes[h.id]=y,this._clusterEdges(e,i,h,o.clusterEdgeProperties),h.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var i=this.clusteredEdges[e.id];void 0!==i&&(e.setOptions({physics:i.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?!0===this.body.nodes[e].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var i,o=av(e),n=e[o[0]].x,r=e[o[0]].x,s=e[o[0]].y,a=e[o[0]].y,h=1;h<o.length;h++)n=(i=e[o[h]]).x<n?i.x:n,r=i.x>r?i.x:r,s=i.y<s?i.y:s,a=i.y>a?i.y:a;return{x:.5*(n+r),y:.5*(s+a)}}},{key:"openCluster",value:function(e,i){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[e];if(void 0===n)throw Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw Error("The node:"+e+" is not a valid cluster.");var r=this.findNode(e),s=hV(r).call(r,e)-1;if(s>=0){var a=r[s];return this.body.nodes[a]._openChildCluster(e),delete this.body.nodes[e],void(!0===o&&this.body.emitter.emit("_dataChanged"))}var h=n.containedNodes,d=n.containedEdges;if(void 0!==i&&void 0!==i.releaseFunction&&"function"==typeof i.releaseFunction){var l={},c={x:n.x,y:n.y};for(var u in h)if(Object.prototype.hasOwnProperty.call(h,u)){var f=this.body.nodes[u];l[u]={x:f.x,y:f.y}}var p=i.releaseFunction(c,l);for(var v in h)if(Object.prototype.hasOwnProperty.call(h,v)){var g=this.body.nodes[v];void 0!==p[v]&&(g.x=void 0===p[v].x?n.x:p[v].x,g.y=void 0===p[v].y?n.y:p[v].y)}}else l0(h,function(e){!1===e.options.fixed.x&&(e.x=n.x),!1===e.options.fixed.y&&(e.y=n.y)});for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)){var m=this.body.nodes[y];m.vx=n.vx,m.vy=n.vy,m.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var b=[],w=0;w<n.edges.length;w++)b.push(n.edges[w]);for(var x=0;x<b.length;x++){for(var k=b[x],_=this._getConnectedId(k,e),E=this.clusteredNodes[_],O=0;O<k.clusteringEdgeReplacingIds.length;O++){var C=k.clusteringEdgeReplacingIds[O],S=this.body.edges[C];if(void 0!==S){if(void 0!==E){var T=this.body.nodes[E.clusterId];T.containedEdges[S.id]=S,delete d[S.id];var M=S.fromId,P=S.toId;S.toId==_?P=E.clusterId:M=E.clusterId,this._createClusteredEdge(M,P,S,T.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(S)}}k.remove()}for(var D in d)Object.prototype.hasOwnProperty.call(d,D)&&this._restoreEdge(d[D]);delete this.body.nodes[e],!0===o&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var i=[];if(!0===this.isCluster(e)){var o=this.body.nodes[e].containedNodes;for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&i.push(this.body.nodes[n].id)}return i}},{key:"findNode",value:function(e){for(var i,o=[],n=0;void 0!==this.clusteredNodes[e]&&n<100;){if(void 0===(i=this.body.nodes[e]))return[];o.push(i.id),e=this.clusteredNodes[e].clusterId,n++}return void 0===(i=this.body.nodes[e])?[]:(o.push(i.id),aA(o).call(o),o)}},{key:"updateClusteredNode",value:function(e,i){if(void 0===e)throw Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===i)throw Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(i),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,i){if(void 0===e)throw Error("No startEdgeId supplied to updateEdge.");if(void 0===i)throw Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw Error("The startEdgeId supplied to updateEdge does not exist.");for(var o=this.getClusteredEdges(e),n=0;n<o.length;n++)this.body.edges[o[n]].setOptions(i);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var i=[],o=0;void 0!==e&&void 0!==this.body.edges[e]&&o<100;)i.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,o++;return aA(i).call(i),i}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var i=[e],o=[],n=[],r=0;i.length>0&&r<100;){var s=i.pop();if(void 0!==s){var a=this.body.edges[s];if(void 0!==a){r++;var h=a.clusteringEdgeReplacingIds;if(void 0===h)n.push(s);else for(var d=0;d<h.length;++d){var l=h[d];-1===hV(i).call(i,h)&&-1===hV(o).call(o,h)&&i.push(l)}o.push(s)}}}return n}},{key:"_getConnectedId",value:function(e,i){return e.toId!=i?e.toId:(e.fromId,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,i=0,o=0,n=0,r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];s.edges.length>n&&(n=s.edges.length),e+=s.edges.length,i+=Math.pow(s.edges.length,2),o+=1}e/=o;var a=(i/=o)-Math.pow(e,2),h=Math.floor(e+2*Math.sqrt(a));return h>n&&(h=n),h}},{key:"_createClusteredEdge",value:function(e,i,o,n,r){var s=p1.cloneOptions(o,"edge");lQ(s,n),s.from=e,s.to=i,s.id="clusterEdge:"+p0(),void 0!==r&&lQ(s,r);var a=this.body.functions.createEdge(s);return a.clusteringEdgeReplacingIds=[o.id],a.connect(),this.body.edges[a.id]=a,a}},{key:"_clusterEdges",value:function(e,i,o,n){if(i instanceof pj){var r=i,s={};s[r.id]=r,i=s}if(e instanceof f5){var a=e,h={};h[a.id]=a,e=h}if(null==o)throw Error("_clusterEdges: parameter clusterNode required");for(var d in void 0===n&&(n=o.clusterEdgeProperties),this._createClusterEdges(e,i,o,n),i)if(Object.prototype.hasOwnProperty.call(i,d)&&void 0!==this.body.edges[d]){var l=this.body.edges[d];this._backupEdgeOptions(l),l.setOptions({physics:!1})}for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(this.clusteredNodes[c]={clusterId:o.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var i=this.clusteredNodes[e];if(void 0!==i){var o=i.clusterId;if(void 0!==o)return this.body.nodes[o]}}}},{key:"_filter",value:function(e,i){var o=[];return l0(e,function(e){i(e)&&o.push(e)}),o}},{key:"_updateState",value:function(){var e,i=this,o=[],n={},r=function(e){l0(i.body.nodes,function(i){!0===i.isCluster&&e(i)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&void 0===this.body.nodes[e]&&o.push(e);r(function(e){for(var i=0;i<o.length;i++)delete e.containedNodes[o[i]]});for(var s=0;s<o.length;s++)delete this.clusteredNodes[o[s]];l0(this.clusteredEdges,function(e){var o=i.body.edges[e];void 0!==o&&o.endPointsValid()||(n[e]=e)}),r(function(e){l0(e.containedEdges,function(e,i){e.endPointsValid()||n[i]||(n[i]=i)})}),l0(this.body.edges,function(e,o){var r=!0,s=e.clusteringEdgeReplacingIds;if(void 0!==s){var a=0;l0(s,function(e){var o=i.body.edges[e];void 0!==o&&o.endPointsValid()&&(a+=1)}),r=a>0}e.endPointsValid()&&r||(n[o]=o)}),r(function(e){l0(n,function(o){delete e.containedEdges[o],l0(e.edges,function(r,s){r.id!==o?r.clusteringEdgeReplacingIds=i._filter(r.clusteringEdgeReplacingIds,function(e){return!n[e]}):e.edges[s]=null}),e.edges=i._filter(e.edges,function(e){return null!==e})})}),l0(n,function(e){delete i.clusteredEdges[e]}),l0(n,function(e){delete i.body.edges[e]}),l0(av(this.body.edges),function(e){var o=i.body.edges[e],n=i._isClusteredNode(o.fromId)||i._isClusteredNode(o.toId);if(n!==i._isClusteredEdge(o.id)){if(n){var r=i._getClusterNodeForNode(o.fromId);void 0!==r&&i._clusterEdges(i.body.nodes[o.fromId],o,r);var s=i._getClusterNodeForNode(o.toId);void 0!==s&&i._clusterEdges(i.body.nodes[o.toId],o,s)}else delete i._clusterEdges[e],i._restoreEdge(o)}});for(var a=!1,h=!0;h;)(function(){var e=[];r(function(i){var o=av(i.containedNodes).length,n=!0===i.options.allowSingleNodeCluster;(n&&o<1||!n&&o<2)&&e.push(i.id)});for(var o=0;o<e.length;++o)i.openCluster(e[o],{},!1);h=e.length>0,a=a||h})();a&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),e}(),p3=function(){function e(i,o){var n;rY(this,e),void 0!==window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===n?function(e){e()}:n,this.body=i,this.canvas=o,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},eT(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return sT(e,[{key:"bindEventListeners",value:function(){var e,i=this;this.body.emitter.on("dragStart",function(){i.dragging=!0}),this.body.emitter.on("dragEnd",function(){i.dragging=!1}),this.body.emitter.on("zoom",function(){i.zooming=!0,window.clearTimeout(i.zoomTimeoutId),i.zoomTimeoutId=da(function(){var e;i.zooming=!1,eW(e=i._requestRedraw).call(e,i)()},250)}),this.body.emitter.on("_resizeNodes",function(){i._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===i.renderingActive&&i._redraw()}),this.body.emitter.on("_blockRedraw",function(){i.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){i.allowRedraw=!0,i.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",eW(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",function(){i.renderRequests+=1,i.renderingActive=!0,i._startRendering()}),this.body.emitter.on("_stopRendering",function(){i.renderRequests-=1,i.renderingActive=i.renderRequests>0,i.renderTimer=void 0}),this.body.emitter.on("destroy",function(){i.renderRequests=0,i.allowRedraw=!1,i.renderingActive=!1,!0===i.requiresTimeout?clearTimeout(i.renderTimer):window.cancelAnimationFrame(i.renderTimer),i.body.emitter.off()})}},{key:"setOptions",value:function(e){void 0!==e&&l$(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,i){if("undefined"!=typeof window){var o,n=window;return!0===this.requiresTimeout?o=da(e,i):n.requestAnimationFrame&&(o=n.requestAnimationFrame(e)),o}}},{key:"_startRendering",value:function(){var e;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(eW(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var i={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var o=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(o.clearRect(0,0,n,r),0===this.canvas.frame.clientWidth)return;if(o.save(),o.translate(this.body.view.translation.x,this.body.view.translation.y),o.scale(this.body.view.scale,this.body.view.scale),o.beginPath(),this.body.emitter.emit("beforeDrawing",o),o.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(o),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var s=this._drawNodes(o,e).drawExternalLabels;i.drawExternalLabels=s}!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(o),null!=i.drawExternalLabels&&i.drawExternalLabels(),!1===e&&this._drawSelectionBox(o),o.beginPath(),this.body.emitter.emit("afterDrawing",o),o.closePath(),o.restore(),!0===e&&o.clearRect(0,0,n,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var i,o=this.body.nodes;for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&((i=o[n]).resize(e),i.updateBoundingBox(e,i.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var i,o,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.nodes,s=this.body.nodeIndices,a=[],h=[],d=this.canvas.DOMtoCanvas({x:-20,y:-20}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),c={top:d.y,left:d.x,bottom:l.y,right:l.x},u=[],f=0;f<s.length;f++)if((i=r[s[f]]).hover)h.push(s[f]);else if(i.isSelected())a.push(s[f]);else if(!0===n){var p=i.draw(e);null!=p.drawExternalLabel&&u.push(p.drawExternalLabel)}else if(!0===i.isBoundingBoxOverlappingWith(c)){var v=i.draw(e);null!=v.drawExternalLabel&&u.push(v.drawExternalLabel)}else i.updateBoundingBox(e,i.selected);var g=a.length,y=h.length;for(o=0;o<g;o++){var m=(i=r[a[o]]).draw(e);null!=m.drawExternalLabel&&u.push(m.drawExternalLabel)}for(o=0;o<y;o++){var b=(i=r[h[o]]).draw(e);null!=b.drawExternalLabel&&u.push(b.drawExternalLabel)}return{drawExternalLabels:function(){for(var e=0;e<u.length;e++)(0,u[e])()}}}},{key:"_drawEdges",value:function(e){for(var i=this.body.edges,o=this.body.edgeIndices,n=0;n<o.length;n++){var r=i[o[n]];!0===r.connected&&r.draw(e)}}},{key:"_drawArrows",value:function(e){for(var i=this.body.edges,o=this.body.edgeIndices,n=0;n<o.length;n++){var r=i[o[n]];!0===r.connected&&r.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=hV(e).call(e,"msie 9.0")||-1!=hV(e).call(e,"safari")&&-1>=hV(e).call(e,"chrome"))&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var i=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,o=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,i,o),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,i,o),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),e}(),p4={},p6=$.setInterval;({get exports(){return p4},set exports(t){p4=t}}).exports=p6;var p9=a(p4);function p8(e,i){i.inputHandler=function(e){e.isFirst&&i(e)},e.on("hammer.input",i.inputHandler)}function p7(e,i){return i.inputHandler=function(e){e.isFinal&&i(e)},e.on("hammer.input",i.inputHandler)}var vt=function(){function e(i){rY(this,e),this.body=i,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},eT(this.options,this.defaultOptions),this.bindEventListeners()}return sT(e,[{key:"bindEventListeners",value:function(){var e,i=this;this.body.emitter.once("resize",function(e){0!==e.width&&(i.body.view.translation.x=.5*e.width),0!==e.height&&(i.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",eW(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",function(){i.hammerFrame.destroy(),i.hammer.destroy(),i._cleanUp()})}},{key:"setOptions",value:function(e){var i,o,n,r,s=this;if(void 0!==e&&l$(["width","height","autoResize"],this.options,e),this._cleanUp(),!0===this.options.autoResize){if(window.ResizeObserver){var a,h=new ResizeObserver(function(){!0===s.setSize()&&s.body.emitter.emit("_requestRedraw")}),d=this.frame;h.observe(d),this._cleanupCallbacks.push(function(){h.unobserve(d)})}else{var l=p9(function(){!0===s.setSize()&&s.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(l)})}var c=eW(a=this._onResize).call(a,this);i=window,o="resize",i.addEventListener?(void 0===n&&(n=!1),"mousewheel"===o&&he(r=navigator.userAgent).call(r,"Firefox")&&(o="DOMMouseScroll"),i.addEventListener(o,c,n)):i.attachEvent("on"+o,c),this._cleanupCallbacks.push(function(){var e,i,o,n;e=window,i="resize",e.removeEventListener?(void 0===o&&(o=!1),"mousewheel"===i&&he(n=navigator.userAgent).call(n,"Firefox")&&(i="DOMMouseScroll"),e.removeEventListener(i,c,o)):e.detachEvent("on"+i,c)})}}},{key:"_cleanUp",value:function(){var e,i,o;aP(e=aA(i=aZ(o=this._cleanupCallbacks).call(o,0)).call(i)).call(e,function(e){try{e()}catch(e){console.error(e)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,i=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,o=this.cameraState.scale;1!=e&&1!=i?o=.5*this.cameraState.scale*(e+i):1!=e?o=this.cameraState.scale*e:1!=i&&(o=this.cameraState.scale*i),this.body.view.scale=o;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==hV(e).call(e,"%")||-1!==hV(e).call(e,"px"))return e;if(-1===hV(e).call(e,"%"))return e+"px"}throw Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new lL(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:lL.DIRECTION_ALL}),p8(this.hammer,function(i){e.body.eventListeners.onTouch(i)}),this.hammer.on("tap",function(i){e.body.eventListeners.onTap(i)}),this.hammer.on("doubletap",function(i){e.body.eventListeners.onDoubleTap(i)}),this.hammer.on("press",function(i){e.body.eventListeners.onHold(i)}),this.hammer.on("panstart",function(i){e.body.eventListeners.onDragStart(i)}),this.hammer.on("panmove",function(i){e.body.eventListeners.onDrag(i)}),this.hammer.on("panend",function(i){e.body.eventListeners.onDragEnd(i)}),this.hammer.on("pinch",function(i){e.body.eventListeners.onPinch(i)}),this.frame.canvas.addEventListener("wheel",function(i){e.body.eventListeners.onMouseWheel(i)}),this.frame.canvas.addEventListener("mousemove",function(i){e.body.eventListeners.onMouseMove(i)}),this.frame.canvas.addEventListener("contextmenu",function(i){e.body.eventListeners.onContext(i)}),this.hammerFrame=new lL(this.frame),p7(this.hammerFrame,function(i){e.body.eventListeners.onRelease(i)})}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),i=this._prepareValue(i);var o=!1,n=this.frame.canvas.width,r=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||i!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=i)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=i,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=i,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},o=!0;else{var a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),h=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===a&&this.frame.canvas.height===h||this._getCameraState(s),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,o=!0),this.frame.canvas.height!==h&&(this.frame.canvas.height=h,o=!0)}return!0===o&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,o}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw Error("Could not get canvax context");var i=1;return"undefined"!=typeof window&&(i=window.devicePixelRatio||1),i/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),e}(),ve=function(){function e(i,o){var n,r,s=this;rY(this,e),this.body=i,this.canvas=o,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",eW(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",function(){s.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",eW(r=this.releaseNode).call(r,this))}return sT(e,[{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=function(e,i){var o=eT({nodes:i,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=e?e:{});if(!ar(o.nodes))throw TypeError("Nodes has to be an array of ids.");if(0===o.nodes.length&&(o.nodes=i),!("number"==typeof o.minZoomLevel&&o.minZoomLevel>0))throw TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof o.maxZoomLevel&&o.minZoomLevel<=o.maxZoomLevel))throw TypeError("Max zoom level has to be a number higher than min zoom level.");return o}(e,this.body.nodeIndices);var o,n,r=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(0===r||0===s)n=1,o=p1.getRange(this.body.nodes,e.nodes);else if(!0===i){var a=0;for(var h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&!0===this.body.nodes[h].predefinedPosition&&(a+=1);if(a>.5*this.body.nodeIndices.length)return void this.fit(e,!1);o=p1.getRange(this.body.nodes,e.nodes),n=(12.662/(this.body.nodeIndices.length+7.4147)+.0964822)*Math.min(r/600,s/600)}else{this.body.emitter.emit("_resizeNodes");var d=r/(1.1*Math.abs((o=p1.getRange(this.body.nodes,e.nodes)).maxX-o.minX)),l=s/(1.1*Math.abs(o.maxY-o.minY));n=d<=l?d:l}n>e.maxZoomLevel?n=e.maxZoomLevel:n<e.minZoomLevel&&(n=e.minZoomLevel);var c={position:p1.findCenter(o),scale:n,animation:e.animation};this.moveTo(c)}},{key:"focus",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){var o={x:this.body.nodes[e].x,y:this.body.nodes[e].y};i.position=o,i.lockedOnNode=e,this.moveTo(i)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(void 0!==e){if(null!=e.offset){if(null!=e.offset.x){if(e.offset.x=+e.offset.x,!uS(e.offset.x))throw TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(null!=e.offset.y){if(e.offset.y=+e.offset.y,!uS(e.offset.y))throw TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(null!=e.position){if(null!=e.position.x){if(e.position.x=+e.position.x,!uS(e.position.x))throw TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(null!=e.position.y){if(e.position.y=+e.position.y,!uS(e.position.y))throw TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(null!=e.scale){if(e.scale=+e.scale,!(e.scale>0))throw TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var i,o,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=n.x-e.position.x,s=n.y-e.position.y;(this.targetTranslation={x:this.sourceTranslation.x+r*this.targetScale+e.offset.x,y:this.sourceTranslation.y+s*this.targetScale+e.offset.y},0===e.animation.duration)?null!=this.lockedOnNodeId?(this.viewFunction=eW(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=eW(o=this._transitionRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,i=this.body.nodes[this.lockedOnNodeId].y,o=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=o.x-e,r=o.y-i,s=this.body.view.translation,a={x:s.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:s.y+r*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=a}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===i?1:this.easingTime;var o=ce[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*o,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*o,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*o},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=eW(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),e}();function vi(e){var i,o=e&&e.preventDefault||!1,n=e&&e.container||window,r={},s={keydown:{},keyup:{}},a={};for(i=97;i<=122;i++)a[String.fromCharCode(i)]={code:i-97+65,shift:!1};for(i=65;i<=90;i++)a[String.fromCharCode(i)]={code:i,shift:!0};for(i=0;i<=9;i++)a[""+i]={code:48+i,shift:!1};for(i=1;i<=12;i++)a["F"+i]={code:111+i,shift:!1};for(i=0;i<=9;i++)a["num"+i]={code:96+i,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var h=function(e){l(e,"keydown")},d=function(e){l(e,"keyup")},l=function(e,i){if(void 0!==s[i][e.keyCode]){for(var n=s[i][e.keyCode],r=0;r<n.length;r++)(void 0===n[r].shift||1==n[r].shift&&1==e.shiftKey||0==n[r].shift&&0==e.shiftKey)&&n[r].fn(e);1==o&&e.preventDefault()}};return r.bind=function(e,i,o){if(void 0===o&&(o="keydown"),void 0===a[e])throw Error("unsupported key: "+e);void 0===s[o][a[e].code]&&(s[o][a[e].code]=[]),s[o][a[e].code].push({fn:i,shift:a[e].shift})},r.bindAll=function(e,i){for(var o in void 0===i&&(i="keydown"),a)a.hasOwnProperty(o)&&r.bind(o,e,i)},r.getKey=function(e){for(var i in a)if(a.hasOwnProperty(i)&&(1==e.shiftKey&&1==a[i].shift&&e.keyCode==a[i].code||0==e.shiftKey&&0==a[i].shift&&e.keyCode==a[i].code||e.keyCode==a[i].code&&"shift"==i))return i;return"unknown key, currently not supported"},r.unbind=function(e,i,o){if(void 0===o&&(o="keydown"),void 0===a[e])throw Error("unsupported key: "+e);if(void 0!==i){var n=[],r=s[o][a[e].code];if(void 0!==r)for(var h=0;h<r.length;h++)r[h].fn==i&&r[h].shift==a[e].shift||n.push(s[o][a[e].code][h]);s[o][a[e].code]=n}else s[o][a[e].code]=[]},r.reset=function(){s={keydown:{},keyup:{}}},r.destroy=function(){s={keydown:{},keyup:{}},n.removeEventListener("keydown",h,!0),n.removeEventListener("keyup",d,!0)},n.addEventListener("keydown",h,!0),n.addEventListener("keyup",d,!0),r}var vo=function(){function e(i,o){var n=this;rY(this,e),this.body=i,this.canvas=o,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return sT(e,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var i=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],o=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<i.length;n++){this.navigationDOM[i[n]]=document.createElement("div"),this.navigationDOM[i[n]].className="vis-button vis-"+i[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[i[n]]);var r,s,a=new lL(this.navigationDOM[i[n]]);"_fit"===o[n]?p8(a,eW(r=this._fit).call(r,this)):p8(a,eW(s=this.bindToRedraw).call(s,this,o[n])),this.navigationHammers.push(a)}var h=new lL(this.canvas.frame);p7(h,function(){e._stopMovement()}),this.navigationHammers.push(h),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var i;void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=eW(i=this[e]).call(i,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,i=this.body.view.scale*(1+this.options.keyboard.speed.zoom),o=this.body.view.translation,n=i/e,r=(1-n)*this.canvas.canvasViewCenter.x+o.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+o.y*n;this.body.view.scale=i,this.body.view.translation={x:r,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,i=this.body.view.scale/(1+this.options.keyboard.speed.zoom),o=this.body.view.translation,n=i/e,r=(1-n)*this.canvas.canvasViewCenter.x+o.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+o.y*n;this.body.view.scale=i,this.body.view.translation={x:r,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,i,o,n,r,s,a,h,d,l,c,u,f,p,v,g,y,m,b,w,x,k,_,E,O=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=vi({container:window,preventDefault:!0}):this.keycharm=vi({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(eW(e=this.keycharm).call(e,"up",function(){O.bindToRedraw("_moveUp")},"keydown"),eW(i=this.keycharm).call(i,"down",function(){O.bindToRedraw("_moveDown")},"keydown"),eW(o=this.keycharm).call(o,"left",function(){O.bindToRedraw("_moveLeft")},"keydown"),eW(n=this.keycharm).call(n,"right",function(){O.bindToRedraw("_moveRight")},"keydown"),eW(r=this.keycharm).call(r,"=",function(){O.bindToRedraw("_zoomIn")},"keydown"),eW(s=this.keycharm).call(s,"num+",function(){O.bindToRedraw("_zoomIn")},"keydown"),eW(a=this.keycharm).call(a,"num-",function(){O.bindToRedraw("_zoomOut")},"keydown"),eW(h=this.keycharm).call(h,"-",function(){O.bindToRedraw("_zoomOut")},"keydown"),eW(d=this.keycharm).call(d,"[",function(){O.bindToRedraw("_zoomOut")},"keydown"),eW(l=this.keycharm).call(l,"]",function(){O.bindToRedraw("_zoomIn")},"keydown"),eW(c=this.keycharm).call(c,"pageup",function(){O.bindToRedraw("_zoomIn")},"keydown"),eW(u=this.keycharm).call(u,"pagedown",function(){O.bindToRedraw("_zoomOut")},"keydown"),eW(f=this.keycharm).call(f,"up",function(){O.unbindFromRedraw("_moveUp")},"keyup"),eW(p=this.keycharm).call(p,"down",function(){O.unbindFromRedraw("_moveDown")},"keyup"),eW(v=this.keycharm).call(v,"left",function(){O.unbindFromRedraw("_moveLeft")},"keyup"),eW(g=this.keycharm).call(g,"right",function(){O.unbindFromRedraw("_moveRight")},"keyup"),eW(y=this.keycharm).call(y,"=",function(){O.unbindFromRedraw("_zoomIn")},"keyup"),eW(m=this.keycharm).call(m,"num+",function(){O.unbindFromRedraw("_zoomIn")},"keyup"),eW(b=this.keycharm).call(b,"num-",function(){O.unbindFromRedraw("_zoomOut")},"keyup"),eW(w=this.keycharm).call(w,"-",function(){O.unbindFromRedraw("_zoomOut")},"keyup"),eW(x=this.keycharm).call(x,"[",function(){O.unbindFromRedraw("_zoomOut")},"keyup"),eW(k=this.keycharm).call(k,"]",function(){O.unbindFromRedraw("_zoomIn")},"keyup"),eW(_=this.keycharm).call(_,"pageup",function(){O.unbindFromRedraw("_zoomIn")},"keyup"),eW(E=this.keycharm).call(E,"pagedown",function(){O.unbindFromRedraw("_zoomOut")},"keyup")))}}]),e}();function vn(e,i){(null==i||i>e.length)&&(i=e.length);for(var o=0,n=Array(i);o<i;o++)n[o]=e[o];return n}var vr=function(){function e(i,o,n){var r,s,a,h,d,l,c,u,f,p,v,g,y;rY(this,e),this.body=i,this.canvas=o,this.selectionHandler=n,this.navigationHandler=new vo(i,o),this.body.eventListeners.onTap=eW(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=eW(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=eW(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=eW(h=this.onHold).call(h,this),this.body.eventListeners.onDragStart=eW(d=this.onDragStart).call(d,this),this.body.eventListeners.onDrag=eW(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=eW(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=eW(u=this.onMouseWheel).call(u,this),this.body.eventListeners.onPinch=eW(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=eW(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=eW(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=eW(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=eW(y=this.getPointer).call(y,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},eT(this.options,this.defaultOptions),this.bindEventListeners()}return sT(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){void 0!==e&&(lZ(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),ct(this.options,e,"keyboard"),e.tooltip&&(eT(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=l3(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-this.canvas.frame.canvas.getBoundingClientRect().left,y:e.y-this.canvas.frame.canvas.getBoundingClientRect().top}}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var i=this.getPointer(e.center),o=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(i,o),this.selectionHandler.commitAndEmit(i,e),this.selectionHandler.generateClickEvent("click",e,i)}},{key:"onDoubleTap",value:function(e){var i=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,i)}},{key:"onHold",value:function(e){var i=this.getPointer(e.center),o=this.selectionHandler.options.multiselect;this.checkSelectionChanges(i,o),this.selectionHandler.commitAndEmit(i,e),this.selectionHandler.generateClickEvent("click",e,i),this.selectionHandler.generateClickEvent("hold",e,i)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var i=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,i),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var i=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,i)}},{key:"checkSelectionChanges",value:function(e){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,i){var o=function(e,i){for(var o=[],n=0;n<e.length;n++){var r=e[n];-1===hV(i).call(i,r)&&o.push(r)}return o};return{nodes:o(e.nodes,i.nodes),edges:o(e.edges,i.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(e);var i=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=eT({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var o=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(o.x),y:this.canvas._YconvertDOMtoCanvas(o.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(o.x),y:this.canvas._YconvertDOMtoCanvas(o.y)}}else if(void 0!==i&&!0===this.options.dragNodes){this.drag.nodeId=i.id,!1===i.isSelected()&&this.selectionHandler.setSelection({nodes:[i.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var n,r=function(e,i){var o=void 0!==s5&&o1(e)||e["@@iterator"];if(!o){if(ar(e)||(o=function(e,i){if(e){if("string"==typeof e)return vn(e,i);var o,n=at(o=Object.prototype.toString.call(e)).call(o,8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return oL(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,i)}}(e))){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,h=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){h=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(h)throw s}}}}(this.selectionHandler.getSelectedNodes());try{for(r.s();!(n=r.n()).done;){var s=n.value,a={id:s.id,node:s,x:s.x,y:s.y,xFixed:s.options.fixed.x,yFixed:s.options.fixed.y};s.options.fixed.x=!0,s.options.fixed.y=!0,this.drag.selection.push(a)}}catch(e){r.e(e)}finally{r.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var i=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var o=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",e,o);var r=o.x-this.drag.pointer.x,s=o.y-this.drag.pointer.y;aP(n).call(n,function(e){var o=e.node;!1===e.xFixed&&(o.x=i.canvas._XconvertDOMtoCanvas(i.canvas._XconvertCanvasToDOM(e.x)+r)),!1===e.yFixed&&(o.y=i.canvas._YconvertDOMtoCanvas(i.canvas._YconvertCanvasToDOM(e.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,o,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(o.x),y:this.canvas._YconvertDOMtoCanvas(o.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,o,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);var a=o.x-this.drag.pointer.x,h=o.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+a,y:this.drag.translation.y+h},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var i=this;if(this.drag.dragging=!1,this.body.selectionBox.show){this.body.selectionBox.show=!1;var o,n=this.body.selectionBox.position,r={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=hc(o=this.body.nodeIndices).call(o,function(e){var o=i.body.nodes[e];return o.x>=r.minX&&o.x<=r.maxX&&o.y>=r.minY&&o.y<=r.maxY});aP(s).call(s,function(e){return i.selectionHandler.selectObject(i.body.nodes[e])});var a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var h=this.drag.selection;h&&h.length?(aP(h).call(h,function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var i=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var o=this.pinch.scale*e.scale;this.zoom(o,i)}},{key:"zoom",value:function(e,i){if(!0===this.options.zoomView){var o=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,s=e/o,a=(1-s)*i.x+r.x*s,h=(1-s)*i.y+r.y*s;if(this.body.view.scale=e,this.body.view.translation={x:a,y:h},null!=n){var d=this.canvas.canvasToDOM(n);this.drag.pointer.x=d.x,this.drag.pointer.y=d.y}this.body.emitter.emit("_requestRedraw"),o<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:i}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:i})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){if(0!==e.deltaY){var i=this.body.view.scale;i*=1+(e.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var o=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(i,o)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var i=this,o=this.getPointer({x:e.clientX,y:e.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(o),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(o.x+3,o.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=da(function(){return i._checkShowPopup(o)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,o)}},{key:"_checkShowPopup",value:function(e){var i=this.canvas._XconvertDOMtoCanvas(e.x),o=this.canvas._YconvertDOMtoCanvas(e.y),n={left:i,top:o,right:i,bottom:o},r=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,a="node";if(void 0===this.popupObj){for(var h,d=this.body.nodeIndices,l=this.body.nodes,c=[],u=0;u<d.length;u++)!0===(h=l[d[u]]).isOverlappingWith(n)&&(s=!0,void 0!==h.getTitle()&&c.push(d[u]));c.length>0&&(this.popupObj=l[c[c.length-1]],s=!0)}if(void 0===this.popupObj&&!1===s){for(var f,p=this.body.edgeIndices,v=this.body.edges,g=[],y=0;y<p.length;y++)!0===(f=v[p[y]]).isOverlappingWith(n)&&!0===f.connected&&void 0!==f.getTitle()&&g.push(p[y]);g.length>0&&(this.popupObj=v[g[g.length-1]],a="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new cd(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var i=this.selectionHandler._pointerToPositionObject(e),o=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(o=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(i))){var n=this.selectionHandler.getNodeAt(e);o=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(o=this.body.edges[this.popup.popupTargetId].isOverlappingWith(i));!1===o&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),e}(),vs={},va={get exports(){return vs},set exports(t){vs=t}};uh("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},uv);var vh=$.Set;va.exports=vh;var vd=a(vs),vl={},vc={get exports(){return vl},set exports(t){vl=t}},vu=cX.getWeakData,vf=im.set,vp=im.getterFor,vv=nv.find,vg=nv.findIndex,vy=x([].splice),vm=0,vb=function(e){return e.frozen||(e.frozen=new vw)},vw=function(){this.entries=[]},vx=function(e,i){return vv(e.entries,function(e){return e[0]===i})};vw.prototype={get:function(e){var i=vx(this,e);if(i)return i[1]},has:function(e){return!!vx(this,e)},set:function(e,i){var o=vx(this,e);o?o[1]=i:this.entries.push([e,i])},delete:function(e){var i=vg(this.entries,function(i){return i[0]===e});return~i&&vy(this.entries,i,1),!!~i}};var vk,v_=cX,vE={getConstructor:function(e,i,o,n){var r=e(function(e,r){ui(e,s),vf(e,{type:i,id:vm++,frozen:void 0}),q(r)||ut(r,e[n],{that:e,AS_ENTRIES:o})}),s=r.prototype,a=vp(i),h=function(e,i,o){var n=a(e),r=vu(t3(i),!0);return!0===r?vb(n).set(i,o):r[n.id]=o,e};return ud(s,{delete:function(e){var i=a(this);if(!K(e))return!1;var o=vu(e);return!0===o?vb(i).delete(e):o&&tC(o,i.id)&&delete o[i.id]},has:function(e){var i=a(this);if(!K(e))return!1;var o=vu(e);return!0===o?vb(i).has(e):o&&tC(o,i.id)}}),ud(s,o?{get:function(e){var i=a(this);if(K(e)){var o=vu(e);return!0===o?vb(i).get(e):o?o[i.id]:void 0}},set:function(e,i){return h(this,e,i)}}:{add:function(e){return h(this,e,!0)}}),r}},vO=im.enforce,vC=Object,vS=Array.isArray,vT=vC.isExtensible,vM=vC.isFrozen,vP=vC.isSealed,vD=vC.freeze,vI=vC.seal,vB={},vz={},vF=!c.ActiveXObject&&"ActiveXObject"in c,vN=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},vA=uh("WeakMap",vN,vE),vR=vA.prototype,vj=x(vR.set);if(ia){if(vF){vk=vE.getConstructor(vN,"WeakMap",!0),v_.enable();var vL=x(vR.delete),vH=x(vR.has),vW=x(vR.get);ud(vR,{delete:function(e){if(K(e)&&!vT(e)){var i=vO(this);return i.frozen||(i.frozen=new vk),vL(this,e)||i.frozen.delete(e)}return vL(this,e)},has:function(e){if(K(e)&&!vT(e)){var i=vO(this);return i.frozen||(i.frozen=new vk),vH(this,e)||i.frozen.has(e)}return vH(this,e)},get:function(e){if(K(e)&&!vT(e)){var i=vO(this);return i.frozen||(i.frozen=new vk),vH(this,e)?vW(this,e):i.frozen.get(e)}return vW(this,e)},set:function(e,i){if(K(e)&&!vT(e)){var o=vO(this);o.frozen||(o.frozen=new vk),vH(this,e)?vj(this,e,i):o.frozen.set(e,i)}else vj(this,e,i);return this}})}else cQ&&u(function(){var e=vD([]);return vj(new vA,e,1),!vM(e)})&&ud(vR,{set:function(e,i){var o;return vS(e)&&(vM(e)?o=vB:vP(e)&&(o=vz)),vj(this,e,i),o==vB&&vD(e),o==vz&&vI(e),this}})}var vV=$.WeakMap;vc.exports=vV;var vq,vU,vY,vX,vG,vK=a(vl);function v$(e,i,o,n){if("a"===o&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof i?e!==i||!n:!i.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?n:"a"===o?n.call(e):n?n.value:i.get(e)}function vZ(e,i,o,n,r){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof i?e!==i||!r:!i.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,o):r?r.value=o:i.set(e,o),o}function vQ(e,i){var o=void 0!==s5&&o1(e)||e["@@iterator"];if(!o){if(ar(e)||(o=function(e,i){if(e){if("string"==typeof e)return vJ(e,i);var o,n=at(o=Object.prototype.toString.call(e)).call(o,8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return oL(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vJ(e,i)}}(e))||i&&e&&"number"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,h=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){h=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(h)throw s}}}}function vJ(e,i){(null==i||i>e.length)&&(i=e.length);for(var o=0,n=Array(i);o<i;o++)n[o]=e[o];return n}function v0(e,i){var o,n=new vd,r=vQ(i);try{for(r.s();!(o=r.n()).done;){var s=o.value;e.has(s)||n.add(s)}}catch(e){r.e(e)}finally{r.f()}return n}var v1=function(){function e(){rY(this,e),vq.set(this,new vd),vU.set(this,new vd)}return sT(e,[{key:"size",get:function(){return v$(this,vU,"f").size}},{key:"add",value:function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];for(var n=0;n<i.length;n++){var r=i[n];v$(this,vU,"f").add(r)}}},{key:"delete",value:function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];for(var n=0;n<i.length;n++){var r=i[n];v$(this,vU,"f").delete(r)}}},{key:"clear",value:function(){v$(this,vU,"f").clear()}},{key:"getSelection",value:function(){return s1(v$(this,vU,"f"))}},{key:"getChanges",value:function(){return{added:s1(v0(v$(this,vq,"f"),v$(this,vU,"f"))),deleted:s1(v0(v$(this,vU,"f"),v$(this,vq,"f"))),previous:s1(new vd(v$(this,vq,"f"))),current:s1(new vd(v$(this,vU,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();vZ(this,vq,v$(this,vU,"f"),"f"),vZ(this,vU,new vd(v$(this,vq,"f")),"f");var i,o=vQ(e.added);try{for(o.s();!(i=o.n()).done;)i.value.select()}catch(e){o.e(e)}finally{o.f()}var n,r=vQ(e.deleted);try{for(r.s();!(n=r.n()).done;)n.value.unselect()}catch(e){r.e(e)}finally{r.f()}return e}}]),e}();vq=new vK,vU=new vK;var v2=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};rY(this,e),vY.set(this,new v1),vX.set(this,new v1),vG.set(this,void 0),vZ(this,vG,i,"f")}return sT(e,[{key:"sizeNodes",get:function(){return v$(this,vY,"f").size}},{key:"sizeEdges",get:function(){return v$(this,vX,"f").size}},{key:"getNodes",value:function(){return v$(this,vY,"f").getSelection()}},{key:"getEdges",value:function(){return v$(this,vX,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=v$(this,vY,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=v$(this,vX,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){v$(this,vY,"f").delete(e)}},{key:"deleteEdges",value:function(e){v$(this,vX,"f").delete(e)}},{key:"clear",value:function(){v$(this,vY,"f").clear(),v$(this,vX,"f").clear()}},{key:"commit",value:function(){for(var e,i,o={nodes:v$(this,vY,"f").commit(),edges:v$(this,vX,"f").commit()},n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=v$(this,vG,"f")).call.apply(e,s8(i=[this,o]).call(i,r)),o}}]),e}();function v5(e,i){var o=void 0!==s5&&o1(e)||e["@@iterator"];if(!o){if(ar(e)||(o=function(e,i){if(e){if("string"==typeof e)return v3(e,i);var o,n=at(o=Object.prototype.toString.call(e)).call(o,8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return oL(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v3(e,i)}}(e))||i&&e&&"number"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,h=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){h=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(h)throw s}}}}function v3(e,i){(null==i||i>e.length)&&(i=e.length);for(var o=0,n=Array(i);o<i;o++)n[o]=e[o];return n}vY=new vK,vX=new vK,vG=new vK;var v4=function(){function e(i,o){var n=this;rY(this,e),this.body=i,this.canvas=o,this._selectionAccumulator=new v2,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},eT(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return sT(e,[{key:"setOptions",value:function(e){void 0!==e&&l$(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var i=!1;if(!0===this.options.selectable){var o=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==o&&(i=this.selectObject(o)),this.body.emitter.emit("_requestRedraw")}return i}},{key:"selectAdditionalOnPoint",value:function(e){var i=!1;if(!0===this.options.selectable){var o=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==o&&(i=!0,!0===o.isSelected()?this.deselectObject(o):this.selectObject(o),this.body.emitter.emit("_requestRedraw"))}return i}},{key:"_initBaseEvent",value:function(e,i){var o={};return o.pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},o.event=e,o}},{key:"generateClickEvent",value:function(e,i,o,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this._initBaseEvent(i,o);if(!0===r)s.nodes=[],s.edges=[];else{var a=this.getSelection();s.nodes=a.nodes,s.edges=a.edges}void 0!==n&&(s.previousSelection=n),"click"==e&&(s.items=this.getClickedItems(o)),void 0!==i.controlEdge&&(s.controlEdge=i.controlEdge),this.body.emitter.emit(e,s)}},{key:"selectObject",value:function(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==e&&(e instanceof f5?(!0===o&&(i=this._selectionAccumulator).addEdges.apply(i,s1(e.edges)),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0)}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var i=[],o=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodeIndices[n];o[r].isOverlappingWith(e)&&i.push(r)}return i}},{key:"_pointerToPositionObject",value:function(e){var i=this.canvas.DOMtoCanvas(e);return{left:i.x-1,top:i.y+1,right:i.x+1,bottom:i.y-1}}},{key:"getNodeAt",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(o);return n.length>0?!0===i?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,i){for(var o=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var r=this.body.edgeIndices[n];o[r].isOverlappingWith(e)&&i.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var i=[];return this._getEdgesOverlappingWith(e,i),i}},{key:"getEdgeAt",value:function(e){for(var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.canvas.DOMtoCanvas(e),n=10,r=null,s=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var h=this.body.edgeIndices[a],d=s[h];if(d.connected){var l=d.from.x,c=d.from.y,u=d.to.x,f=d.to.y,p=d.edgeType.getDistanceToEdge(l,c,u,f,o.x,o.y);p<n&&(r=h,n=p)}}return null!==r?!0===i?this.body.edges[r]:r:void 0}},{key:"_addToHover",value:function(e){e instanceof f5?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var i;e instanceof f5?(this._selectionAccumulator.deleteNodes(e),(i=this._selectionAccumulator).deleteEdges.apply(i,s1(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var i=0;i<e.edges.length;i++){var o=e.edges[i];o.hover=!0,this._addToHover(o)}}},{key:"emitBlurEvent",value:function(e,i,o){var n=this._initBaseEvent(e,i);!0===o.hover&&(o.hover=!1,o instanceof f5?(n.node=o.id,this.body.emitter.emit("blurNode",n)):(n.edge=o.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(e,i,o){var n=this._initBaseEvent(e,i),r=!1;return!1===o.hover&&(o.hover=!0,this._addToHover(o),r=!0,o instanceof f5?(n.node=o.id,this.body.emitter.emit("hoverNode",n)):(n.edge=o.id,this.body.emitter.emit("hoverEdge",n))),r}},{key:"hoverObject",value:function(e,i){var o=this.getNodeAt(i);void 0===o&&(o=this.getEdgeAt(i));var n=!1;for(var r in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,r)&&(void 0===o||o instanceof f5&&o.id!=r||o instanceof pj)&&(this.emitBlurEvent(e,i,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],n=!0);for(var s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(!0===n?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(void 0===o||o instanceof pj&&o.id!=s||o instanceof f5&&!o.hover)&&(this.emitBlurEvent(e,i,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(void 0!==o){var a=av(this.hoverObj.edges).length,h=av(this.hoverObj.nodes).length;(n||o instanceof pj&&0===a&&0===h||o instanceof f5&&0===a&&0===h)&&(n=this.emitHoverEvent(e,i,o)),o instanceof f5&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(o)}!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,i){var o=!1,n=this._selectionAccumulator.commit(),r={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",i,e,r),o=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",i,e,r),o=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",i,e),o=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",i,e),o=!0),!0===o&&this.generateClickEvent("select",i,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return ac(e=this._selectionAccumulator.getNodes()).call(e,function(e){return e.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return ac(e=this._selectionAccumulator.getEdges()).call(e,function(e){return e.id})}},{key:"setSelection",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw TypeError("Selection must be an object with nodes and/or edges properties");if((i.unselectAll||void 0===i.unselectAll)&&this.unselectAll(),e.nodes){var o,n=v5(e.nodes);try{for(n.s();!(o=n.n()).done;){var r=o.value,s=this.body.nodes[r];if(!s)throw RangeError('Node with id "'+r+'" not found');this.selectObject(s,i.highlightEdges)}}catch(e){n.e(e)}finally{n.f()}}if(e.edges){var a,h=v5(e.edges);try{for(h.s();!(a=h.n()).done;){var d=a.value,l=this.body.edges[d];if(!l)throw RangeError('Edge with id "'+d+'" not found');this.selectObject(l)}}catch(e){h.e(e)}finally{h.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:i})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var i in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,i.id)||this._selectionAccumulator.deleteEdges(i)}},{key:"getClickedItems",value:function(e){for(var i=this.canvas.DOMtoCanvas(e),o=[],n=this.body.nodeIndices,r=this.body.nodes,s=n.length-1;s>=0;s--){var a=r[n[s]].getItemsOnPoint(i);o.push.apply(o,a)}for(var h=this.body.edgeIndices,d=this.body.edges,l=h.length-1;l>=0;l--){var c=d[h[l]].getItemsOnPoint(i);o.push.apply(o,c)}return o}}]),e}(),v6={},v9={get exports(){return v6},set exports(t){v6=t}},v8=Math.floor,v7=function(e,i){var o=e.length,n=v8(o/2);return o<8?gt(e,i):ge(e,v7(o7(e,0,n),i),v7(o7(e,n),i),i)},gt=function(e,i){for(var o,n,r=e.length,s=1;s<r;){for(n=s,o=e[s];n&&i(e[n-1],o)>0;)e[n]=e[--n];n!==s++&&(e[n]=o)}return e},ge=function(e,i,o,n){for(var r=i.length,s=o.length,a=0,h=0;a<r||h<s;)e[a+h]=a<r&&h<s?0>=n(i[a],o[h])?i[a++]:o[h++]:a<r?i[a++]:o[h++];return e},gi=tt.match(/firefox\/(\d+)/i),go=!!gi&&+gi[1],gn=/MSIE|Trident/.test(tt),gr=tt.match(/AppleWebKit\/(\d+)\./),gs=!!gr&&+gr[1],ga=[],gh=x(ga.sort),gd=x(ga.push),gl=u(function(){ga.sort(void 0)}),gc=u(function(){ga.sort(null)}),gu=aE("sort"),gf=!u(function(){if(tr)return tr<70;if(!(go&&go>3)){if(gn)return!0;if(gs)return gs<603;var e,i,o,n,r="";for(e=65;e<76;e++){switch(i=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(n=0;n<47;n++)ga.push({k:i+n,v:o})}for(ga.sort(function(e,i){return i.v-e.v}),n=0;n<ga.length;n++)i=ga[n].k.charAt(0),r.charAt(r.length-1)!==i&&(r+=i);return"DGBEFHACIJK"!==r}});en({target:"Array",proto:!0,forced:gl||!gc||!gu||!gf},{sort:function(e){void 0!==e&&tf(e);var i=tE(this);if(gf)return void 0===e?gh(i):gh(i,e);var o,n,r=[],s=ef(i);for(n=0;n<s;n++)n in i&&gd(r,i[n]);for(v7(r,function(i,o){return void 0===o?-1:void 0===i?1:void 0!==e?+e(i,o)||0:e7(i)>e7(o)?1:-1}),o=ef(r),n=0;n<o;)i[n]=r[n++];for(;n<s;)aq(i,n++);return i}});var gp=eR("Array").sort,gv=Array.prototype;v9.exports=function(e){var i=e.sort;return e===gv||J(gv,e)&&i===gv.sort?gp:i};var gg=a(v6),gy={},gm={get exports(){return gy},set exports(t){gy=t}},gb=TypeError,gw=function(e){return function(i,o,n,r){tf(o);var s=tE(i),a=V(s),h=ef(s),d=e?h-1:0,l=e?-1:1;if(n<2)for(;;){if(d in a){r=a[d],d+=l;break}if(d+=l,e?d<0:h<=d)throw gb("Reduce of empty array with no initial value")}for(;e?d>=0:h>d;d+=l)d in a&&(r=o(r,a[d],d,s));return r}},gx={left:gw(!1),right:gw(!0)},gk=void 0!==n&&"process"==E(n),g_=gx.left;en({target:"Array",proto:!0,forced:!gk&&tr>79&&tr<83||!aE("reduce")},{reduce:function(e){var i=arguments.length;return g_(this,e,i,i>1?arguments[1]:void 0)}});var gE=eR("Array").reduce,gO=Array.prototype;gm.exports=function(e){var i=e.reduce;return e===gO||J(gO,e)&&i===gO.reduce?gE:i};var gC=a(gy),gS={},gT={get exports(){return gS},set exports(t){gS=t}},gM={};(function(e){e.__esModule=!0,e.sort=function(e,i,o,a){if(!Array.isArray(e))throw TypeError("Can only sort arrays");i?"function"!=typeof i&&(a=o,o=i,i=n):i=n,o||(o=0),a||(a=e.length);var h=a-o;if(!(h<2)){var l=0;if(h<32)s(e,o,a,o+(l=r(e,o,a,i)),i);else{var c=new d(e,i),u=function(e){for(var i=0;e>=32;)i|=1&e,e>>=1;return e+i}(h);do{if((l=r(e,o,a,i))<u){var f=h;f>u&&(f=u),s(e,o,o+f,o+l,i),l=f}c.pushRun(o,l),c.mergeRuns(),h-=l,o+=l}while(0!==h);c.forceMergeRuns()}}};var i=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function o(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function n(e,n){if(e===n)return 0;if(~~e===e&&~~n===n){if(0===e||0===n)return e<n?-1:1;if(e<0||n<0){if(n>=0)return -1;if(e>=0)return 1;e=-e,n=-n}var r=o(e),s=o(n),a=0;return r<s?(e*=i[s-r-1],n/=10,a=-1):r>s&&(n*=i[r-s-1],e/=10,a=1),e===n?a:e<n?-1:1}var h=String(e),d=String(n);return h===d?0:h<d?-1:1}function r(e,i,o,n){var r=i+1;if(r===o)return 1;if(0>n(e[r++],e[i])){for(;r<o&&0>n(e[r],e[r-1]);)r++;(function(e,i,o){for(o--;i<o;){var n=e[i];e[i++]=e[o],e[o--]=n}})(e,i,r)}else for(;r<o&&n(e[r],e[r-1])>=0;)r++;return r-i}function s(e,i,o,n,r){for(n===i&&n++;n<o;n++){for(var s=e[n],a=i,h=n;a<h;){var d=a+h>>>1;0>r(s,e[d])?h=d:a=d+1}var l=n-a;switch(l){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;l>0;)e[a+l]=e[a+l-1],l--}e[a]=s}}function a(e,i,o,n,r,s){var a=0,h=0,d=1;if(s(e,i[o+r])>0){for(h=n-r;d<h&&s(e,i[o+r+d])>0;)a=d,(d=1+(d<<1))<=0&&(d=h);d>h&&(d=h),a+=r,d+=r}else{for(h=r+1;d<h&&0>=s(e,i[o+r-d]);)a=d,(d=1+(d<<1))<=0&&(d=h);d>h&&(d=h);var l=a;a=r-d,d=r-l}for(a++;a<d;){var c=a+(d-a>>>1);s(e,i[o+c])>0?a=c+1:d=c}return d}function h(e,i,o,n,r,s){var a=0,h=0,d=1;if(0>s(e,i[o+r])){for(h=r+1;d<h&&0>s(e,i[o+r-d]);)a=d,(d=1+(d<<1))<=0&&(d=h);d>h&&(d=h);var l=a;a=r-d,d=r-l}else{for(h=n-r;d<h&&s(e,i[o+r+d])>=0;)a=d,(d=1+(d<<1))<=0&&(d=h);d>h&&(d=h),a+=r,d+=r}for(a++;a<d;){var c=a+(d-a>>>1);0>s(e,i[o+c])?d=c:a=c+1}return d}var d=function(){function e(i,o){(function(e,i){if(!(e instanceof i))throw TypeError("Cannot call a class as a function")})(this,e),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=i,this.compare=o,this.length=i.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=Array(this.stackLength),this.runLength=Array(this.stackLength)}return e.prototype.pushRun=function(e,i){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=i,this.stackSize+=1},e.prototype.mergeRuns=function(){for(;this.stackSize>1;){var e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}},e.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}},e.prototype.mergeAt=function(e){var i=this.compare,o=this.array,n=this.runStart[e],r=this.runLength[e],s=this.runStart[e+1],d=this.runLength[e+1];this.runLength[e]=r+d,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;var l=h(o[s],o,n,r,0,i);n+=l,0!=(r-=l)&&0!==(d=a(o[n+r-1],o,s,d,d-1,i))&&(r<=d?this.mergeLow(n,r,s,d):this.mergeHigh(n,r,s,d))},e.prototype.mergeLow=function(e,i,o,n){var r=this.compare,s=this.array,d=this.tmp,l=0;for(l=0;l<i;l++)d[l]=s[e+l];var c=0,u=o,f=e;if(s[f++]=s[u++],0!=--n){if(1!==i){for(var p=this.minGallop;;){var v=0,g=0,y=!1;do if(0>r(s[u],d[c])){if(s[f++]=s[u++],g++,v=0,0==--n){y=!0;break}}else if(s[f++]=d[c++],v++,g=0,1==--i){y=!0;break}while((v|g)<p);if(y)break;do{if(0!==(v=h(s[u],d,c,i,0,r))){for(l=0;l<v;l++)s[f+l]=d[c+l];if(f+=v,c+=v,(i-=v)<=1){y=!0;break}}if(s[f++]=s[u++],0==--n){y=!0;break}if(0!==(g=a(d[c],s,u,n,0,r))){for(l=0;l<g;l++)s[f+l]=s[u+l];if(f+=g,u+=g,0==(n-=g)){y=!0;break}}if(s[f++]=d[c++],1==--i){y=!0;break}p--}while(v>=7||g>=7);if(y)break;p<0&&(p=0),p+=2}if(this.minGallop=p,p<1&&(this.minGallop=1),1===i){for(l=0;l<n;l++)s[f+l]=s[u+l];s[f+n]=d[c]}else{if(0===i)throw Error("mergeLow preconditions were not respected");for(l=0;l<i;l++)s[f+l]=d[c+l]}}else{for(l=0;l<n;l++)s[f+l]=s[u+l];s[f+n]=d[c]}}else for(l=0;l<i;l++)s[f+l]=d[c+l]},e.prototype.mergeHigh=function(e,i,o,n){var r=this.compare,s=this.array,d=this.tmp,l=0;for(l=0;l<n;l++)d[l]=s[o+l];var c=e+i-1,u=n-1,f=o+n-1,p=0,v=0;if(s[f--]=s[c--],0!=--i){if(1!==n){for(var g=this.minGallop;;){var y=0,m=0,b=!1;do if(0>r(d[u],s[c])){if(s[f--]=s[c--],y++,m=0,0==--i){b=!0;break}}else if(s[f--]=d[u--],m++,y=0,1==--n){b=!0;break}while((y|m)<g);if(b)break;do{if(0!=(y=i-h(d[u],s,e,i,i-1,r))){for(i-=y,v=1+(f-=y),p=1+(c-=y),l=y-1;l>=0;l--)s[v+l]=s[p+l];if(0===i){b=!0;break}}if(s[f--]=d[u--],1==--n){b=!0;break}if(0!=(m=n-a(s[c],d,0,n,n-1,r))){for(n-=m,v=1+(f-=m),p=1+(u-=m),l=0;l<m;l++)s[v+l]=d[p+l];if(n<=1){b=!0;break}}if(s[f--]=s[c--],0==--i){b=!0;break}g--}while(y>=7||m>=7);if(b)break;g<0&&(g=0),g+=2}if(this.minGallop=g,g<1&&(this.minGallop=1),1===n){for(v=1+(f-=i),p=1+(c-=i),l=i-1;l>=0;l--)s[v+l]=s[p+l];s[f]=d[u]}else{if(0===n)throw Error("mergeHigh preconditions were not respected");for(p=f-(n-1),l=0;l<n;l++)s[p+l]=d[l]}}else{for(v=1+(f-=i),p=1+(c-=i),l=i-1;l>=0;l--)s[v+l]=s[p+l];s[f]=d[u]}}else for(p=f-(n-1),l=0;l<n;l++)s[p+l]=d[l]},e}()})(gM),gT.exports=gM;var gP=a(gS);function gD(e){var i=function(){if("undefined"==typeof Reflect||!fu||fu.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(fu(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var o,n=fz(e);if(i){var r=fz(this).constructor;o=fu(n,arguments,r)}else o=n.apply(this,arguments);return fM(this,o)}}var gI=function(){function e(){rY(this,e)}return sT(e,[{key:"abstract",value:function(){throw Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,i,o),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,i){this.fake_use(e,i),this.abstract()}},{key:"shift",value:function(e,i){this.fake_use(e,i),this.abstract()}}]),e}(),gB=function(e){fT(o,e);var i=gD(o);function o(e){var n;return rY(this,o),(n=i.call(this)).layout=e,n}return sT(o,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(e){return e.x}},{key:"setPosition",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(e,o),e.x=i}},{key:"getTreeSize",value:function(e){var i=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:i.min_x,max:i.max_x}}},{key:"sort",value:function(e){gS.sort(e,function(e,i){return e.x-i.x})}},{key:"fix",value:function(e,i){e.y=this.layout.options.hierarchical.levelSeparation*i,e.options.fixed.y=!0}},{key:"shift",value:function(e,i){this.layout.body.nodes[e].x+=i}}]),o}(gI),gz=function(e){fT(o,e);var i=gD(o);function o(e){var n;return rY(this,o),(n=i.call(this)).layout=e,n}return sT(o,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(e){return e.y}},{key:"setPosition",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(e,o),e.y=i}},{key:"getTreeSize",value:function(e){var i=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:i.min_y,max:i.max_y}}},{key:"sort",value:function(e){gS.sort(e,function(e,i){return e.y-i.y})}},{key:"fix",value:function(e,i){e.x=this.layout.options.hierarchical.levelSeparation*i,e.options.fixed.x=!0}},{key:"shift",value:function(e,i){this.layout.body.nodes[e].y+=i}}]),o}(gI),gF={},gN={get exports(){return gF},set exports(t){gF=t}},gA=nv.every;en({target:"Array",proto:!0,forced:!aE("every")},{every:function(e){return gA(this,e,arguments.length>1?arguments[1]:void 0)}});var gR=eR("Array").every,gj=Array.prototype;gN.exports=function(e){var i=e.every;return e===gj||J(gj,e)&&i===gj.every?gR:i};var gL=a(gF);function gH(e,i){(null==i||i>e.length)&&(i=e.length);for(var o=0,n=Array(i);o<i;o++)n[o]=e[o];return n}function gW(e,i,o,n){var r,s,a=h0(null),h=gC(r=s1(u3(n).call(n))).call(r,function(e,i){return e+1+i.edges.length},0),d=o+"Id",l="to"===o?1:-1,c=function(e,i){var o=void 0!==s5&&o1(e)||e["@@iterator"];if(!o){if(ar(e)||(o=function(e,i){if(e){if("string"==typeof e)return gH(e,i);var o,n=at(o=Object.prototype.toString.call(e)).call(o,8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return oL(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gH(e,i)}}(e))){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,h=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){h=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(h)throw s}}}}(n);try{for(c.s();!(s=c.n()).done;){var u=function(){var r=s0(s.value,2),c=r[0],u=r[1];if(!n.has(c)||!e(u))return"continue";a[c]=0;for(var f,p=[u],v=0;f=p.pop();){var g=function(){if(!n.has(c))return"continue";var e,r,s,u,g=a[f.id]+l;if(aP(s=hc(u=f.edges).call(u,function(e){return e.connected&&e.to!==e.from&&e[o]!==f&&n.has(e.toId)&&n.has(e.fromId)})).call(s,function(e){var n=e[d],r=a[n];(null==r||i(g,r))&&(a[n]=g,p.push(e[o]))}),v>h)return{v:{v:(e=a,r=new vd,aP(n).call(n,function(e){var i;aP(i=e.edges).call(i,function(e){e.connected&&r.add(e)})}),aP(r).call(r,function(i){var o=i.from.id,n=i.to.id;null==e[o]&&(e[o]=0),(null==e[n]||e[o]>=e[n])&&(e[n]=e[o]+1)}),e)}};++v}();if("continue"!==g&&"object"===sb(g))return g.v}}();if("continue"!==u&&"object"===sb(u))return u.v}}catch(e){c.e(e)}finally{c.f()}return a}var gV=function(){function e(){rY(this,e),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return sT(e,[{key:"addRelation",value:function(e,i){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(i),void 0===this.parentReference[i]&&(this.parentReference[i]=[]),this.parentReference[i].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,i){void 0!==i&&void 0===this.trees[e.id]&&(this.trees[e.id]=i,this.treeIndex=Math.max(i,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var i=this,o={};return function e(n){if(void 0!==o[n])return o[n];var r=i.levels[n];if(i.childrenReference[n]){var s=i.childrenReference[n];if(s.length>0)for(var a=0;a<s.length;a++)r=Math.max(r,e(s[a]))}return o[n]=r,r}(e)}},{key:"levelDownstream",value:function(e,i){void 0===this.levels[i.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[i.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var i=1e9;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&void 0!==this.levels[o]&&(i=Math.min(this.levels[o],i));for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==this.levels[n]&&(this.levels[n]-=i)}},{key:"getTreeSize",value:function(e,i){var o=1e9,n=-1e9,r=1e9,s=-1e9;for(var a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===i){var h=e[a];o=Math.min(h.x,o),n=Math.max(h.x,n),r=Math.min(h.y,r),s=Math.max(h.y,s)}return{min_x:o,max_x:n,min_y:r,max_y:s}}},{key:"hasSameParent",value:function(e,i){var o=this.parentReference[e.id],n=this.parentReference[i.id];if(void 0===o||void 0===n)return!1;for(var r=0;r<o.length;r++)for(var s=0;s<n.length;s++)if(o[r]==n[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,i){return this.trees[e.id]===this.trees[i.id]}},{key:"getLevels",value:function(){return av(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,i){void 0===this.distributionOrdering[i]&&(this.distributionOrdering[i]=[]);var o=!1,n=this.distributionOrdering[i];for(var r in n)if(n[r]===e){o=!0;break}o||(this.distributionOrdering[i].push(e),this.distributionIndex[e.id]=this.distributionOrdering[i].length-1)}}]),e}(),gq=function(){function e(i){rY(this,e),this.body=i,this._resetRNG(Math.random()+":"+ax()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},eT(this.options,this.defaultOptions),this.bindEventListeners()}return sT(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===e.options.hierarchical.enabled){var i=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",i,!1)}})}},{key:"setOptions",value:function(e,i){if(void 0!==e){var o=this.options.hierarchical,n=o.enabled;if(l$(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),ct(this.options,e,"hierarchical"),void 0!==e.randomSeed&&this._resetRNG(e.randomSeed),!0===o.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===o.direction||"DU"===o.direction?o.levelSeparation>0&&(o.levelSeparation*=-1):o.levelSeparation<0&&(o.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(i);if(!0===n)return this.body.emitter.emit("refresh"),lQ(i,this.optionsBackup)}return i}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=lj(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var i=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===i.enabled||i.enabled,solver:"hierarchicalRepulsion"},i.enabled=void 0===i.enabled||i.enabled,i.solver=i.solver||"barnesHut"):"object"===sb(e.physics)?(i.enabled=void 0===e.physics.enabled||e.physics.enabled,i.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(i.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var o=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:o};else{var n=e.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(o=n.type),this.optionsBackup.edges={smooth:{enabled:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}},e.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:o,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",o)}return e}},{key:"positionInitially",value:function(e){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var i=e.length+50,o=0;o<e.length;o++){var n=e[o],r=2*Math.PI*this._rng();void 0===n.x&&(n.x=i*Math.cos(r)),void 0===n.y&&(n.y=i*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,i=0,o=0;o<e.length;o++)!0===this.body.nodes[e[o]].predefinedPosition&&(i+=1);if(i<.5*e.length){var n=0,r=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>r){for(var a=e.length;e.length>r&&n<=10;){n+=1;var h=e.length;if(n%3==0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s),h==e.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*a)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var d=0;d<e.length;d++){var l=this.body.nodes[e[d]];!1===l.predefinedPosition&&(l.x+=70*(.5-this._rng()),l.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=p1.getRangeCore(this.body.nodes,this.body.nodeIndices),i=p1.findCenter(e),o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.x-=i.x,n.y-=i.y}}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var i=0;i<this.body.nodeIndices.length;i++)!0===this.body.nodes[this.body.nodeIndices[i]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[i],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e,i,o=!1,n=!1;for(i in this.lastNodeOnLevel={},this.hierarchical=new gV,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&(void 0!==(e=this.body.nodes[i]).options.level?(o=!0,this.hierarchical.levels[i]=e.options.level):n=!0);if(!0===n&&!0===o)throw Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);var a=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(a),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,i=!1,o={},n=function(i,o){var n=e.hierarchical.trees;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&n[r]===i&&e.direction.shift(r,o)},r=function(){for(var i=[],o=0;o<e.hierarchical.numTrees();o++)i.push(e.direction.getTreeSize(o));return i},s=function i(o,n){if(!n[o.id]&&(n[o.id]=!0,e.hierarchical.childrenReference[o.id])){var r=e.hierarchical.childrenReference[o.id];if(r.length>0)for(var s=0;s<r.length;s++)i(e.body.nodes[r[s]],n)}},a=function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,r=1e9,s=1e9,a=-1e9;for(var h in i)if(Object.prototype.hasOwnProperty.call(i,h)){var d=e.body.nodes[h],l=e.hierarchical.levels[d.id],c=e.direction.getPosition(d),u=s0(e._getSpaceAroundNode(d,i),2),f=u[0],p=u[1];n=Math.min(f,n),r=Math.min(p,r),l<=o&&(s=Math.min(c,s),a=Math.max(c,a))}return[s,a,n,r]},h=function(i,o,n){for(var r=e.hierarchical,s=0;s<o.length;s++){var a=o[s],h=r.distributionOrdering[a];if(h.length>1)for(var d=0;d<h.length-1;d++){var l=h[d],c=h[d+1];r.hasSameParent(l,c)&&r.inSameSubNetwork(l,c)&&i(l,c,n)}}},d=function(o,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=e.direction.getPosition(o),d=e.direction.getPosition(n),l=e.options.hierarchical.nodeSpacing;if(Math.abs(d-h)>l){var c={},u={};s(o,c),s(n,u);var f=Math.min(e.hierarchical.getMaxLevel(o.id),e.hierarchical.getMaxLevel(n.id)),p=a(c,f),v=a(u,f),g=p[1],y=v[0],m=v[2];if(Math.abs(g-y)>l){var b=g-y+l;b<-m+l&&(b=-m+l),b<0&&(e._shiftBlock(n.id,b),i=!0,!0===r&&e._centerParent(n))}}},l=function(n,r){for(var h,d,l,c,u,f,p,v=r.id,g=r.edges,y=e.hierarchical.levels[r.id],m=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,b={},w=[],x=0;x<g.length;x++){var k=g[x];if(k.toId!=k.fromId){var _=k.toId==v?k.from:k.to;b[g[x].id]=_,e.hierarchical.levels[_.id]<y&&w.push(k)}}var E=function(i,o){for(var n=0,r=0;r<o.length;r++)if(void 0!==b[o[r].id]){var s=e.direction.getPosition(b[o[r].id])-i;n+=s/Math.sqrt(s*s+m)}return n},O=function(i,o){for(var n=0,r=0;r<o.length;r++)if(void 0!==b[o[r].id]){var s=e.direction.getPosition(b[o[r].id])-i;n-=m*Math.pow(s*s+m,-1.5)}return n},C=function(i,o){for(var n=e.direction.getPosition(r),s={},a=0;a<i;a++){var h=E(n,o),d=O(n,o);if(void 0!==s[n-=Math.max(-40,Math.min(40,Math.round(h/d)))])break;s[n]=a}return n},S=C(n,w);(function(n){var h=e.direction.getPosition(r);if(void 0===o[r.id]){var d={};s(r,d),o[r.id]=d}var l=a(o[r.id]),c=l[2],u=l[3],f=n-h,p=0;f>0?p=Math.min(f,u-e.options.hierarchical.nodeSpacing):f<0&&(p=-Math.min(-f,c-e.options.hierarchical.nodeSpacing)),0!=p&&(e._shiftBlock(r.id,p),i=!0)})(S),h=S=C(n,g),d=e.direction.getPosition(r),c=(l=s0(e._getSpaceAroundNode(r),2))[0],u=l[1],f=h-d,p=d,f>0?p=Math.min(d+(u-e.options.hierarchical.nodeSpacing),h):f<0&&(p=Math.max(d-(c-e.options.hierarchical.nodeSpacing),h)),p!==d&&(e.direction.setPosition(r,p),i=!0)};!0===this.options.hierarchical.blockShifting&&(function(o){var n=e.hierarchical.getLevels();n=aA(n).call(n);for(var r=0;r<5&&(i=!1,h(d,n,!0),!0===i);r++);}(0),function(){for(var i in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,i)&&e._centerParent(e.body.nodes[i])}()),!0===this.options.hierarchical.edgeMinimization&&function(o){var n=e.hierarchical.getLevels();n=aA(n).call(n);for(var r=0;r<20;r++){i=!1;for(var s=0;s<n.length;s++)for(var a=n[s],h=e.hierarchical.distributionOrdering[a],d=0;d<h.length;d++)l(1e3,h[d]);if(!0!==i)break}}(0),!0===this.options.hierarchical.parentCentralization&&function(){var i=e.hierarchical.getLevels();i=aA(i).call(i);for(var o=0;o<i.length;o++)for(var n=i[o],r=e.hierarchical.distributionOrdering[n],s=0;s<r.length;s++)e._centerParent(r[s])}(),function(){for(var i=r(),o=0,s=0;s<i.length-1;s++)o+=i[s].max-i[s+1].min+e.options.hierarchical.treeSpacing,n(s+1,o)}()}},{key:"_getSpaceAroundNode",value:function(e,i){var o=!0;void 0===i&&(o=!1);var n=this.hierarchical.levels[e.id];if(void 0!==n){var r=this.hierarchical.distributionIndex[e.id],s=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[n],h=1e9,d=1e9;if(0!==r){var l=a[r-1];(!0===o&&void 0===i[l.id]||!1===o)&&(h=s-this.direction.getPosition(l))}if(r!=a.length-1){var c=a[r+1];(!0===o&&void 0===i[c.id]||!1===o)&&(d=Math.min(d,this.direction.getPosition(c)-s))}return[h,d]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var i=this.hierarchical.parentReference[e.id],o=0;o<i.length;o++){var n=i[o],r=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(void 0!==s){var a=this._getCenterPosition(s),h=this.direction.getPosition(r),d=s0(this._getSpaceAroundNode(r),2),l=d[0],c=d[1],u=h-a;(u<0&&Math.abs(u)<c-this.options.hierarchical.nodeSpacing||u>0&&Math.abs(u)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,a)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var i in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,i)){var o,n=av(e[i]);n=this._indexArrayToNodes(n),gg(o=this.direction).call(o,n);for(var r=0,s=0;s<n.length;s++){var a=n[s];if(void 0===this.positionedNodes[a.id]){var h=this.options.hierarchical.nodeSpacing,d=h*r;r>0&&(d=this.direction.getPosition(n[s-1])+h),this.direction.setPosition(a,d,i),this._validatePositionAndContinue(a,i,d),r++}}}}},{key:"_placeBranchNodes",value:function(e,i){var o,n=this.hierarchical.childrenReference[e];if(void 0!==n){for(var r=[],s=0;s<n.length;s++)r.push(this.body.nodes[n[s]]);gg(o=this.direction).call(o,r);for(var a=0;a<r.length;a++){var h=r[a],d=this.hierarchical.levels[h.id];if(!(d>i&&void 0===this.positionedNodes[h.id]))return;var l=this.options.hierarchical.nodeSpacing,c=void 0;c=0===a?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(r[a-1])+l,this.direction.setPosition(h,c,d),this._validatePositionAndContinue(h,d,c)}var u=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[e],u,i)}}},{key:"_validatePositionAndContinue",value:function(e,i,o){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[i]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[i]]);if(o-n<this.options.hierarchical.nodeSpacing){var r=n+this.options.hierarchical.nodeSpacing-o,s=this._findCommonParent(this.lastNodeOnLevel[i],e.id);this._shiftBlock(s.withChild,r)}}this.lastNodeOnLevel[i]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,i)}}},{key:"_indexArrayToNodes",value:function(e){for(var i=[],o=0;o<e.length;o++)i.push(this.body.nodes[e[o]]);return i}},{key:"_getDistribution",value:function(){var e,i,o={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){i=this.body.nodes[e];var n=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i,n),void 0===o[n]&&(o[n]={}),o[n][e]=i}return o}},{key:"_getActiveEdges",value:function(e){var i=this,o=[];return l0(e.edges,function(e){var n;-1!==hV(n=i.body.edgeIndices).call(n,e.id)&&o.push(e)}),o}},{key:"_getHubSizes",value:function(){var e=this,i={};l0(this.body.nodeIndices,function(o){var n=e.body.nodes[o];i[e._getActiveEdges(n).length]=!0});var o=[];return l0(i,function(e){o.push(Number(e))}),gg(gP).call(gP,o,function(e,i){return i-e}),o}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,i=function(i,o){e.hierarchical.levelDownstream(i,o)},o=this._getHubSizes(),n=0;n<o.length&&"break"!==function(){var r=o[n];if(0===r)return"break";l0(e.body.nodeIndices,function(o){var n=e.body.nodes[o];r===e._getActiveEdges(n).length&&e._crawlNetwork(i,o)})}();++n);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork(function(i,o,n){var r=e.hierarchical.levels[i.id];void 0===r&&(r=e.hierarchical.levels[i.id]=1e5);var s=(p1.cloneOptions(i,"node"),p1.cloneOptions(o,"node"),void p1.cloneOptions(n,"edge"));e.hierarchical.levels[o.id]=r+s}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,i,o,n=this,r=gC(o=this.body.nodeIndices).call(o,function(e,i){return e.set(i,n.body.nodes[i]),e},new uy);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=gW(function(i){var o,n;return gL(o=hc(n=i.edges).call(n,function(i){return e.has(i.toId)})).call(o,function(e){return e.from===i})},function(e,i){return i<e},"to",e=r):this.hierarchical.levels=gW(function(e){var o,n;return gL(o=hc(n=e.edges).call(n,function(e){return i.has(e.toId)})).call(o,function(i){return i.to===e})},function(e,i){return i>e},"from",i=r),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(i,o){e.hierarchical.levels[o.id]>e.hierarchical.levels[i.id]&&e.hierarchical.addRelation(i.id,o.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},o=arguments.length>1?arguments[1]:void 0,n={},r=function o(r,s){if(void 0===n[r.id]){var a;e.hierarchical.setTreeIndex(r,s),n[r.id]=!0;for(var h=e._getActiveEdges(r),d=0;d<h.length;d++){var l=h[d];!0===l.connected&&(a=l.toId==r.id?l.from:l.to,r.id!=a.id&&(i(r,a,l),o(a,s)))}}};if(void 0===o)for(var s=0,a=0;a<this.body.nodeIndices.length;a++){var h=this.body.nodeIndices[a];void 0===n[h]&&(r(this.body.nodes[h],s),s+=1)}else{var d=this.body.nodes[o];if(void 0===d)return void console.error("Node not found:",o);r(d)}}},{key:"_shiftBlock",value:function(e,i){var o=this,n={};!function e(r){if(!n[r]){n[r]=!0,o.direction.shift(r,i);var s=o.hierarchical.childrenReference[r];if(void 0!==s)for(var a=0;a<s.length;a++)e(s[a])}}(e)}},{key:"_findCommonParent",value:function(e,i){var o=this,n={};return function e(i,n){var r=o.hierarchical.parentReference[n];if(void 0!==r)for(var s=0;s<r.length;s++){var a=r[s];i[a]=!0,e(i,a)}}(n,e),function e(i,n){var r=o.hierarchical.parentReference[n];if(void 0!==r)for(var s=0;s<r.length;s++){var a=r[s];if(void 0!==i[a])return{foundParent:a,withChild:n};var h=e(i,a);if(null!==h.foundParent)return h}return{foundParent:null,withChild:n}}(n,i)}},{key:"setDirectionStrategy",value:function(){var e="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=e?new gB(this):new gz(this)}},{key:"_getCenterPosition",value:function(e){for(var i=1e9,o=-1e9,n=0;n<e.length;n++){var r=void 0;if(void 0!==e[n].id)r=e[n];else{var s=e[n];r=this.body.nodes[s]}var a=this.direction.getPosition(r);i=Math.min(i,a),o=Math.max(o,a)}return .5*(i+o)}}]),e}();function gU(e,i){(null==i||i>e.length)&&(i=e.length);for(var o=0,n=Array(i);o<i;o++)n[o]=e[o];return n}var gY=function(){function e(i,o,n,r){var s,a,h=this;rY(this,e),this.body=i,this.canvas=o,this.selectionHandler=n,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},eT(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){h._clean()}),this.body.emitter.on("_dataChanged",eW(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",eW(a=this._restore).call(a,this))}return sT(e,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,i,o){void 0!==i&&(void 0!==i.locale?this.options.locale=i.locale:this.options.locale=o.locale,void 0!==i.locales?this.options.locales=i.locales:this.options.locales=o.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,lQ(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var e,i,o=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),r=this.options.locales[this.options.locale],s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(r),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(r)),1===o&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(r)):1===n&&0===o&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(r)),0!==o+n&&(o>0&&!1!==this.options.deleteNode||0===o&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(r)),this._bindElementEvents(this.closeDiv,eW(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",eW(i=this.showManipulatorToolbar).call(i,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var i,o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,eW(i=this.toggleEditMode).call(i,this))}this._temporaryBindEvent("click",eW(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var i=this.selectionHandler.getSelectedNodes()[0];if(void 0!==i){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw Error("No function has been configured to handle the editing of nodes.");if(!0!==i.isCluster){var o=lQ({},i.options,!1);if(o.x=i.x,o.y=i.y,2!==this.options.editNode.length)throw Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(o,function(i){null!=i&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(i),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,i,o,n,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var s,a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,eW(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",eW(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",eW(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDrag",eW(o=this._dragControlNode).call(o,this)),this._temporaryBindUI("onRelease",eW(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",eW(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==sb(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,eW(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var o,n,r,s,a=this.body.edges[this.edgeBeingEditedId],h=this._getNewTargetNode(a.from.x,a.from.y),d=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(h.id),this.temporaryIds.nodes.push(d.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this.body.nodes[d.id]=d,this.body.nodeIndices.push(d.id),this._temporaryBindUI("onTouch",eW(o=this._controlNodeTouch).call(o,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",eW(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",eW(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",eW(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(e){var i=a.edgeType.findBorderPositions(e);!1===h.selected&&(h.x=i.from.x,h.y=i.from.y),!1===d.selected&&(d.x=i.to.x,d.y=i.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var l=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(l.from.id,l.to.id)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var i=this.selectionHandler.getSelectedNodeIds(),o=this.selectionHandler.getSelectedEdgeIds(),n=void 0;if(i.length>0){for(var r=0;r<i.length;r++)if(!0===this.body.nodes[i[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else o.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){if(2!==n.length)throw Error("The function for delete does not support two arguments (data, callback)");n({nodes:i,edges:o},function(i){null!=i&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(i.edges),e.body.data.nodes.getDataSet().remove(i.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(o),this.body.data.nodes.getDataSet().remove(i),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,i;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(e=null===(i=this.options.locales[this.options.locale])||void 0===i?void 0:i.close)&&void 0!==e?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,i){var o=lQ({},this.options.controlNodeStyle);o.id="targetNode"+p0(),o.hidden=!1,o.physics=!1,o.x=e,o.y=i;var n=this.body.functions.createNode(o);return n.shape.boundingBox={left:e,right:e,top:i,bottom:i},n}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},lY(this.editModeDiv);var e,i=this.options.locales[this.options.locale],o=this._createButton("editMode","vis-edit vis-edit-mode",i.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(o),this._bindElementEvents(o,eW(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(lY(this.editModeDiv),lY(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,i,o=function(e,i){var o=void 0!==s5&&o1(e)||e["@@iterator"];if(!o){if(ar(e)||(o=function(e,i){if(e){if("string"==typeof e)return gU(e,i);var o,n=at(o=Object.prototype.toString.call(e)).call(o,8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return oL(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gU(e,i)}}(e))){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,h=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){h=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(h)throw s}}}}(aZ(e=this._domEventListenerCleanupQueue).call(e,0));try{for(o.s();!(i=o.n()).done;)(0,i.value)()}catch(e){o.e(e)}finally{o.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),lY(this.manipulationDiv),lY(this.editModeDiv),lY(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var i,o=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(o),this._bindElementEvents(o,eW(i=this.addNodeMode).call(i,this))}},{key:"_createAddEdgeButton",value:function(e){var i,o=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(o),this._bindElementEvents(o,eW(i=this.addEdgeMode).call(i,this))}},{key:"_createEditNodeButton",value:function(e){var i,o=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(o),this._bindElementEvents(o,eW(i=this.editNode).call(i,this))}},{key:"_createEditEdgeButton",value:function(e){var i,o=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(o),this._bindElementEvents(o,eW(i=this.editEdgeMode).call(i,this))}},{key:"_createDeleteButton",value:function(e){o=this.options.rtl?"vis-delete-rtl":"vis-delete";var i,o,n=this._createButton("delete",o,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,eW(i=this.deleteSelected).call(i,this))}},{key:"_createBackButton",value:function(e){var i,o=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(o),this._bindElementEvents(o,eW(i=this.showManipulatorToolbar).call(i,this))}},{key:"_createButton",value:function(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+i,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=o,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,i){this.temporaryEventFunctions.push({event:e,boundFunction:i}),this.body.emitter.on(e,i)}},{key:"_temporaryBindUI",value:function(e,i){if(void 0===this.body.eventListeners[e])throw Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+h3(av(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=i}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var i=this.temporaryEventFunctions[e].event,o=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(i,o)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,i){var o=new lL(e,{});p8(o,i),this._domEventListenerCleanupQueue.push(function(){o.destroy()});var n=function(e){var o=e.keyCode,n=e.key;"Enter"!==n&&" "!==n&&13!==o&&32!==o||i()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",n,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var i,o,n=hV(i=this.body.edgeIndices).call(i,this.temporaryIds.edges[e]);-1!==n&&aZ(o=this.body.edgeIndices).call(o,n,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){delete this.body.nodes[this.temporaryIds.nodes[r]];var s,a,h=hV(s=this.body.nodeIndices).call(s,this.temporaryIds.nodes[r]);-1!==h&&aZ(a=this.body.nodeIndices).call(a,h,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=eT({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),o=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=o.isOverlappingWith(i),a=n.isOverlappingWith(i);!0===s?(this.selectedControlNode=o,r.edgeType.from=o):!0===a&&(this.selectedControlNode=n,r.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var i=this.body.functions.getPointer(e.center),o=this.canvas.DOMtoCanvas(i);void 0!==this.selectedControlNode?(this.selectedControlNode.x=o.x,this.selectedControlNode.y=o.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var i=this.body.functions.getPointer(e.center),o=this.selectionHandler._pointerToPositionObject(i),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(o),s=void 0,a=r.length-1;a>=0;a--)if(r[a]!==this.selectedControlNode.id){s=this.body.nodes[r[a]];break}if(void 0!==s&&void 0!==this.selectedControlNode){if(!0===s.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var h=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===h.id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id)}}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=eT({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var i=this.lastTouch,o=this.selectionHandler.getNodeAt(i);if(void 0!==o){if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(o.x,o.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var r=this.body.functions.createEdge({id:"connectionEdge"+p0(),from:o.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r,this.body.edgeIndices.push(r.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(r.id)}}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var i,o=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(o),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),a=void 0,h=s.length-1;h>=0;h--)if(-1===hV(i=this.temporaryIds.nodes).call(i,s[h])){a=this.body.nodes[s[h]];break}if(e.controlEdge={from:r,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,o),void 0!==this.temporaryIds.nodes[0]){var d=this.body.nodes[this.temporaryIds.nodes[0]];d.x=this.canvas._XconvertDOMtoCanvas(o.x),d.y=this.canvas._YconvertDOMtoCanvas(o.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var i,o=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(o),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),a=void 0,h=s.length-1;h>=0;h--)if(-1===hV(i=this.temporaryIds.nodes).call(i,s[h])){a=this.body.nodes[s[h]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==a&&(!0===a.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[r]&&void 0!==this.body.nodes[a.id]&&this._performAddEdge(r,a.id)),e.controlEdge={from:r,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,o),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var i=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,i,void 0,!0)}},{key:"_performAddNode",value:function(e){var i=this,o={id:p0(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),Error("The function for add does not support two arguments (data,callback)");this.options.addNode(o,function(e){null!=e&&"addNode"===i.inMode&&i.body.data.nodes.getDataSet().add(e),i.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(o),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,i){var o=this,n={from:e,to:i};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(e){null!=e&&"addEdge"===o.inMode&&(o.body.data.edges.getDataSet().add(e),o.selectionHandler.unselectAll(),o.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,i){var o=this,n={id:this.edgeBeingEditedId,from:e,to:i,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===sb(r)&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw Error("The function for edit does not support two arguments (data, callback)");r(n,function(e){null==e||"editEdge"!==o.inMode?(o.body.edges[n.id].updateEdgeType(),o.body.emitter.emit("_redraw"),o.showManipulatorToolbar()):(o.body.data.edges.getDataSet().update(e),o.selectionHandler.unselectAll(),o.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),e}(),gX="string",gG="boolean",gK="number",g$="array",gZ="object",gQ=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],gJ={borderWidth:{number:gK},borderWidthSelected:{number:gK,undefined:"undefined"},brokenImage:{string:gX,undefined:"undefined"},chosen:{label:{boolean:gG,function:"function"},node:{boolean:gG,function:"function"},__type__:{object:gZ,boolean:gG}},color:{border:{string:gX},background:{string:gX},highlight:{border:{string:gX},background:{string:gX},__type__:{object:gZ,string:gX}},hover:{border:{string:gX},background:{string:gX},__type__:{object:gZ,string:gX}},__type__:{object:gZ,string:gX}},opacity:{number:gK,undefined:"undefined"},fixed:{x:{boolean:gG},y:{boolean:gG},__type__:{object:gZ,boolean:gG}},font:{align:{string:gX},color:{string:gX},size:{number:gK},face:{string:gX},background:{string:gX},strokeWidth:{number:gK},strokeColor:{string:gX},vadjust:{number:gK},multi:{boolean:gG,string:gX},bold:{color:{string:gX},size:{number:gK},face:{string:gX},mod:{string:gX},vadjust:{number:gK},__type__:{object:gZ,string:gX}},boldital:{color:{string:gX},size:{number:gK},face:{string:gX},mod:{string:gX},vadjust:{number:gK},__type__:{object:gZ,string:gX}},ital:{color:{string:gX},size:{number:gK},face:{string:gX},mod:{string:gX},vadjust:{number:gK},__type__:{object:gZ,string:gX}},mono:{color:{string:gX},size:{number:gK},face:{string:gX},mod:{string:gX},vadjust:{number:gK},__type__:{object:gZ,string:gX}},__type__:{object:gZ,string:gX}},group:{string:gX,number:gK,undefined:"undefined"},heightConstraint:{minimum:{number:gK},valign:{string:gX},__type__:{object:gZ,boolean:gG,number:gK}},hidden:{boolean:gG},icon:{face:{string:gX},code:{string:gX},size:{number:gK},color:{string:gX},weight:{string:gX,number:gK},__type__:{object:gZ}},id:{string:gX,number:gK},image:{selected:{string:gX,undefined:"undefined"},unselected:{string:gX,undefined:"undefined"},__type__:{object:gZ,string:gX}},imagePadding:{top:{number:gK},right:{number:gK},bottom:{number:gK},left:{number:gK},__type__:{object:gZ,number:gK}},label:{string:gX,undefined:"undefined"},labelHighlightBold:{boolean:gG},level:{number:gK,undefined:"undefined"},margin:{top:{number:gK},right:{number:gK},bottom:{number:gK},left:{number:gK},__type__:{object:gZ,number:gK}},mass:{number:gK},physics:{boolean:gG},scaling:{min:{number:gK},max:{number:gK},label:{enabled:{boolean:gG},min:{number:gK},max:{number:gK},maxVisible:{number:gK},drawThreshold:{number:gK},__type__:{object:gZ,boolean:gG}},customScalingFunction:{function:"function"},__type__:{object:gZ}},shadow:{enabled:{boolean:gG},color:{string:gX},size:{number:gK},x:{number:gK},y:{number:gK},__type__:{object:gZ,boolean:gG}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:gG,array:g$},borderRadius:{number:gK},interpolation:{boolean:gG},useImageSize:{boolean:gG},useBorderWithImage:{boolean:gG},coordinateOrigin:{string:["center","top-left"]},__type__:{object:gZ}},size:{number:gK},title:{string:gX,dom:"dom",undefined:"undefined"},value:{number:gK,undefined:"undefined"},widthConstraint:{minimum:{number:gK},maximum:{number:gK},__type__:{object:gZ,boolean:gG,number:gK}},x:{number:gK},y:{number:gK},__type__:{object:gZ}},g0={configure:{enabled:{boolean:gG},filter:{boolean:gG,string:gX,array:g$,function:"function"},container:{dom:"dom"},showButton:{boolean:gG},__type__:{object:gZ,boolean:gG,string:gX,array:g$,function:"function"}},edges:{arrows:{to:{enabled:{boolean:gG},scaleFactor:{number:gK},type:{string:gQ},imageHeight:{number:gK},imageWidth:{number:gK},src:{string:gX},__type__:{object:gZ,boolean:gG}},middle:{enabled:{boolean:gG},scaleFactor:{number:gK},type:{string:gQ},imageWidth:{number:gK},imageHeight:{number:gK},src:{string:gX},__type__:{object:gZ,boolean:gG}},from:{enabled:{boolean:gG},scaleFactor:{number:gK},type:{string:gQ},imageWidth:{number:gK},imageHeight:{number:gK},src:{string:gX},__type__:{object:gZ,boolean:gG}},__type__:{string:["from","to","middle"],object:gZ}},endPointOffset:{from:{number:gK},to:{number:gK},__type__:{object:gZ,number:gK}},arrowStrikethrough:{boolean:gG},background:{enabled:{boolean:gG},color:{string:gX},size:{number:gK},dashes:{boolean:gG,array:g$},__type__:{object:gZ,boolean:gG}},chosen:{label:{boolean:gG,function:"function"},edge:{boolean:gG,function:"function"},__type__:{object:gZ,boolean:gG}},color:{color:{string:gX},highlight:{string:gX},hover:{string:gX},inherit:{string:["from","to","both"],boolean:gG},opacity:{number:gK},__type__:{object:gZ,string:gX}},dashes:{boolean:gG,array:g$},font:{color:{string:gX},size:{number:gK},face:{string:gX},background:{string:gX},strokeWidth:{number:gK},strokeColor:{string:gX},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:gK},multi:{boolean:gG,string:gX},bold:{color:{string:gX},size:{number:gK},face:{string:gX},mod:{string:gX},vadjust:{number:gK},__type__:{object:gZ,string:gX}},boldital:{color:{string:gX},size:{number:gK},face:{string:gX},mod:{string:gX},vadjust:{number:gK},__type__:{object:gZ,string:gX}},ital:{color:{string:gX},size:{number:gK},face:{string:gX},mod:{string:gX},vadjust:{number:gK},__type__:{object:gZ,string:gX}},mono:{color:{string:gX},size:{number:gK},face:{string:gX},mod:{string:gX},vadjust:{number:gK},__type__:{object:gZ,string:gX}},__type__:{object:gZ,string:gX}},hidden:{boolean:gG},hoverWidth:{function:"function",number:gK},label:{string:gX,undefined:"undefined"},labelHighlightBold:{boolean:gG},length:{number:gK,undefined:"undefined"},physics:{boolean:gG},scaling:{min:{number:gK},max:{number:gK},label:{enabled:{boolean:gG},min:{number:gK},max:{number:gK},maxVisible:{number:gK},drawThreshold:{number:gK},__type__:{object:gZ,boolean:gG}},customScalingFunction:{function:"function"},__type__:{object:gZ}},selectionWidth:{function:"function",number:gK},selfReferenceSize:{number:gK},selfReference:{size:{number:gK},angle:{number:gK},renderBehindTheNode:{boolean:gG},__type__:{object:gZ}},shadow:{enabled:{boolean:gG},color:{string:gX},size:{number:gK},x:{number:gK},y:{number:gK},__type__:{object:gZ,boolean:gG}},smooth:{enabled:{boolean:gG},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:gK},forceDirection:{string:["horizontal","vertical","none"],boolean:gG},__type__:{object:gZ,boolean:gG}},title:{string:gX,undefined:"undefined"},width:{number:gK},widthConstraint:{maximum:{number:gK},__type__:{object:gZ,boolean:gG,number:gK}},value:{number:gK,undefined:"undefined"},__type__:{object:gZ}},groups:{useDefaultGroups:{boolean:gG},__any__:gJ,__type__:{object:gZ}},interaction:{dragNodes:{boolean:gG},dragView:{boolean:gG},hideEdgesOnDrag:{boolean:gG},hideEdgesOnZoom:{boolean:gG},hideNodesOnDrag:{boolean:gG},hover:{boolean:gG},keyboard:{enabled:{boolean:gG},speed:{x:{number:gK},y:{number:gK},zoom:{number:gK},__type__:{object:gZ}},bindToWindow:{boolean:gG},autoFocus:{boolean:gG},__type__:{object:gZ,boolean:gG}},multiselect:{boolean:gG},navigationButtons:{boolean:gG},selectable:{boolean:gG},selectConnectedEdges:{boolean:gG},hoverConnectedEdges:{boolean:gG},tooltipDelay:{number:gK},zoomView:{boolean:gG},zoomSpeed:{number:gK},__type__:{object:gZ}},layout:{randomSeed:{undefined:"undefined",number:gK,string:gX},improvedLayout:{boolean:gG},clusterThreshold:{number:gK},hierarchical:{enabled:{boolean:gG},levelSeparation:{number:gK},nodeSpacing:{number:gK},treeSpacing:{number:gK},blockShifting:{boolean:gG},edgeMinimization:{boolean:gG},parentCentralization:{boolean:gG},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:gZ,boolean:gG}},__type__:{object:gZ}},manipulation:{enabled:{boolean:gG},initiallyActive:{boolean:gG},addNode:{boolean:gG,function:"function"},addEdge:{boolean:gG,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:gZ,boolean:gG,function:"function"}},deleteNode:{boolean:gG,function:"function"},deleteEdge:{boolean:gG,function:"function"},controlNodeStyle:gJ,__type__:{object:gZ,boolean:gG}},nodes:gJ,physics:{enabled:{boolean:gG},barnesHut:{theta:{number:gK},gravitationalConstant:{number:gK},centralGravity:{number:gK},springLength:{number:gK},springConstant:{number:gK},damping:{number:gK},avoidOverlap:{number:gK},__type__:{object:gZ}},forceAtlas2Based:{theta:{number:gK},gravitationalConstant:{number:gK},centralGravity:{number:gK},springLength:{number:gK},springConstant:{number:gK},damping:{number:gK},avoidOverlap:{number:gK},__type__:{object:gZ}},repulsion:{centralGravity:{number:gK},springLength:{number:gK},springConstant:{number:gK},nodeDistance:{number:gK},damping:{number:gK},__type__:{object:gZ}},hierarchicalRepulsion:{centralGravity:{number:gK},springLength:{number:gK},springConstant:{number:gK},nodeDistance:{number:gK},damping:{number:gK},avoidOverlap:{number:gK},__type__:{object:gZ}},maxVelocity:{number:gK},minVelocity:{number:gK},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:gG},iterations:{number:gK},updateInterval:{number:gK},onlyDynamicEdges:{boolean:gG},fit:{boolean:gG},__type__:{object:gZ,boolean:gG}},timestep:{number:gK},adaptiveTimestep:{boolean:gG},wind:{x:{number:gK},y:{number:gK},__type__:{object:gZ}},__type__:{object:gZ,boolean:gG}},autoResize:{boolean:gG},clickToUse:{boolean:gG},locale:{string:gX},locales:{__any__:{any:"any"},__type__:{object:gZ}},height:{string:gX},width:{string:gX},__type__:{object:gZ}},g1={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},g2=function(e,i,o){var n;return!(!he(e).call(e,"physics")||!he(n=g1.physics.solver).call(n,i)||o.physics.solver===i||"wind"===i)},g5=Object.freeze({__proto__:null,allOptions:g0,configuratorHideOption:g2,configureOptions:g1}),g3=function(){function e(){rY(this,e)}return sT(e,[{key:"getDistances",value:function(e,i,o){for(var n={},r=e.edges,s=0;s<i.length;s++){var a={};n[i[s]]=a;for(var h=0;h<i.length;h++)a[i[h]]=s==h?0:1e9}for(var d=0;d<o.length;d++){var l=r[o[d]];!0===l.connected&&void 0!==n[l.fromId]&&void 0!==n[l.toId]&&(n[l.fromId][l.toId]=1,n[l.toId][l.fromId]=1)}for(var c=i.length,u=0;u<c;u++)for(var f=i[u],p=n[f],v=0;v<c-1;v++)for(var g=i[v],y=n[g],m=v+1;m<c;m++){var b=i[m],w=n[b],x=Math.min(y[b],y[f]+p[b]);y[b]=x,w[g]=x}return n}}]),e}(),g4=function(){function e(i,o,n){rY(this,e),this.body=i,this.springLength=o,this.springConstant=n,this.distanceSolver=new g3}return sT(e,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.distanceSolver.getDistances(this.body,e,i);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var r=0,s=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),a=1e9,h=0,d=0,l=0,c=0,u=0;a>.01&&r<s;){r+=1;var f=s0(this._getHighestEnergyNode(o),4);for(h=f[0],a=f[1],d=f[2],l=f[3],c=a,u=0;c>1&&u<5;){u+=1,this._moveNode(h,d,l);var p=s0(this._getEnergy(h),3);c=p[0],d=p[1],l=p[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var i=this.body.nodeIndices,o=this.body.nodes,n=0,r=i[0],s=0,a=0,h=0;h<i.length;h++){var d=i[h];if(!0!==o[d].predefinedPosition||!0===o[d].isCluster&&!0===e||!0!==o[d].options.fixed.x||!0!==o[d].options.fixed.y){var l=s0(this._getEnergy(d),3),c=l[0],u=l[1],f=l[2];n<c&&(n=c,r=d,s=u,a=f)}}return[r,n,s,a]}},{key:"_getEnergy",value:function(e){var i=s0(this.E_sums[e],2),o=i[0],n=i[1];return[Math.sqrt(Math.pow(o,2)+Math.pow(n,2)),o,n]}},{key:"_moveNode",value:function(e,i,o){for(var n=this.body.nodeIndices,r=this.body.nodes,s=0,a=0,h=0,d=r[e].x,l=r[e].y,c=this.K_matrix[e],u=this.L_matrix[e],f=0;f<n.length;f++){var p=n[f];if(p!==e){var v=r[p].x,g=r[p].y,y=c[p],m=u[p],b=1/Math.pow(Math.pow(d-v,2)+Math.pow(l-g,2),1.5);s+=y*(1-m*Math.pow(l-g,2)*b),a+=y*(m*(d-v)*(l-g)*b),h+=y*(1-m*Math.pow(d-v,2)*b)}}var w=(i/s+o/a)/(a/s-h/a),x=-(a*w+i)/s;r[e].x+=x,r[e].y+=w,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var i=this.body.nodeIndices,o=this.springLength;this.L_matrix=[];for(var n=0;n<i.length;n++){this.L_matrix[i[n]]={};for(var r=0;r<i.length;r++)this.L_matrix[i[n]][i[r]]=o*e[i[n]][i[r]]}}},{key:"_createK_matrix",value:function(e){var i=this.body.nodeIndices,o=this.springConstant;this.K_matrix=[];for(var n=0;n<i.length;n++){this.K_matrix[i[n]]={};for(var r=0;r<i.length;r++)this.K_matrix[i[n]][i[r]]=o*Math.pow(e[i[n]][i[r]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,i=this.body.nodes;this.E_matrix={},this.E_sums={};for(var o=0;o<e.length;o++)this.E_matrix[e[o]]=[];for(var n=0;n<e.length;n++){for(var r=e[n],s=i[r].x,a=i[r].y,h=0,d=0,l=n;l<e.length;l++){var c=e[l];if(c!==r){var u=i[c].x,f=i[c].y,p=1/Math.sqrt(Math.pow(s-u,2)+Math.pow(a-f,2));this.E_matrix[r][l]=[this.K_matrix[r][c]*(s-u-this.L_matrix[r][c]*(s-u)*p),this.K_matrix[r][c]*(a-f-this.L_matrix[r][c]*(a-f)*p)],this.E_matrix[c][n]=this.E_matrix[r][l],h+=this.E_matrix[r][l][0],d+=this.E_matrix[r][l][1]}}this.E_sums[r]=[h,d]}}},{key:"_updateE_matrix",value:function(e){for(var i=this.body.nodeIndices,o=this.body.nodes,n=this.E_matrix[e],r=this.K_matrix[e],s=this.L_matrix[e],a=o[e].x,h=o[e].y,d=0,l=0,c=0;c<i.length;c++){var u=i[c];if(u!==e){var f=n[c],p=f[0],v=f[1],g=o[u].x,y=o[u].y,m=1/Math.sqrt(Math.pow(a-g,2)+Math.pow(h-y,2)),b=r[u]*(a-g-s[u]*(a-g)*m),w=r[u]*(h-y-s[u]*(h-y)*m);n[c]=[b,w],d+=b,l+=w;var x=this.E_sums[u];x[0]+=b-p,x[1]+=w-v}}this.E_sums[e]=[d,l]}}]),e}();function g6(e,i,o){var n,r,s,a,h=this;if(!(this instanceof g6))throw SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:cW,clickToUse:!1},eT(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:eW(n=this.on).call(n,this),off:eW(r=this.off).call(r,this),emit:eW(s=this.emit).call(s,this),once:eW(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new cq(function(){return h.body.emitter.emit("_requestRedraw")}),this.groups=new um,this.canvas=new vt(this.body),this.selectionHandler=new v4(this.body,this.canvas),this.interactionHandler=new vr(this.body,this.canvas,this.selectionHandler),this.view=new ve(this.body,this.canvas),this.renderer=new p3(this.body,this.canvas),this.physics=new pK(this.body),this.layoutEngine=new gq(this.body),this.clustering=new p5(this.body),this.manipulation=new gY(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new f4(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new pL(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new g4(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(o),this.setData(i)}e$(g6.prototype),g6.prototype.setOptions=function(e){var i=this;if(null===e&&(e=void 0),void 0!==e){if(!0===cu.validate(e,g0)&&console.error("%cErrors have been found in the supplied options object.",cc),l$(["locale","locales","clickToUse"],this.options,e),void 0!==e.locale&&(e.locale=function(e,i){try{var o=s0(i.split(/[-_ /]/,2),2),n=o[0],r=o[1],s=null!=n?n.toLowerCase():null,a=null!=r?r.toUpperCase():null;if(s&&a){var h,d=s+"-"+a;if(Object.prototype.hasOwnProperty.call(e,d))return d;console.warn(s8(h="Unknown variant ".concat(a," of language ")).call(h,s,"."))}if(s){if(Object.prototype.hasOwnProperty.call(e,s))return s;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(i,", falling back to English.")),"en"}catch(e){return console.error(e),console.warn("Unexpected error while normalizing locale ".concat(i,", falling back to English.")),"en"}}(e.locales||this.options.locales,e.locale)),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new ch(this,this.body.container,g1,this.canvas.pixelRatio,g2)),this.configurator.setOptions(e.configure)),this.configurator&&!0===this.configurator.options.enabled){var o={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};lQ(o.nodes,this.nodesHandler.options),lQ(o.edges,this.edgesHandler.options),lQ(o.layout,this.layoutEngine.options),lQ(o.interaction,this.selectionHandler.options),lQ(o.interaction,this.renderer.options),lQ(o.interaction,this.interactionHandler.options),lQ(o.manipulation,this.manipulation.options),lQ(o.physics,this.physics.options),lQ(o.global,this.canvas.options),lQ(o.global,this.options),this.configurator.setModuleOptions(o)}void 0!==e.clickToUse?!0===e.clickToUse?void 0===this.activator&&(this.activator=new lH(this.canvas.frame),this.activator.on("change",function(){i.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},g6.prototype._updateVisibleIndices=function(){var e=this.body.nodes,i=this.body.edges;for(var o in this.body.nodeIndices=[],this.body.edgeIndices=[],e)Object.prototype.hasOwnProperty.call(e,o)&&(this.clustering._isClusteredNode(o)||!1!==e[o].options.hidden||this.body.nodeIndices.push(e[o].id));for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var r=i[n],s=e[r.fromId],a=e[r.toId],h=void 0!==s&&void 0!==a;!this.clustering._isClusteredEdge(n)&&!1===r.options.hidden&&h&&!1===s.options.hidden&&!1===a.options.hidden&&this.body.edgeIndices.push(r.id)}},g6.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.edgesHandler._updateState(),e.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){e.clustering._updateState(),e._updateVisibleIndices(),e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")})},g6.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var i=cR(e.dot);this.setData(i)}else if(e&&e.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var o=cL(e.gephi);this.setData(o)}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},g6.prototype.destroy=function(){for(var e in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&delete this.body.nodes[e];for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&delete this.body.edges[i];lY(this.body.container)},g6.prototype._updateValueRange=function(e){var i,o=void 0,n=void 0,r=0;for(i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i].getValue();void 0!==s&&(o=void 0===o?s:Math.min(s,o),n=void 0===n?s:Math.max(s,n),r+=s)}if(void 0!==o&&void 0!==n)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&e[i].setValueRange(o,n,r)},g6.prototype.isActive=function(){return!this.activator||this.activator.active},g6.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},g6.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},g6.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},g6.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},g6.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},g6.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},g6.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},g6.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},g6.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},g6.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},g6.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},g6.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},g6.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},g6.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},g6.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},g6.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},g6.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},g6.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},g6.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},g6.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},g6.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},g6.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},g6.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},g6.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},g6.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},g6.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},g6.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},g6.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},g6.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},g6.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},g6.prototype.getConnectedNodes=function(e){return void 0!==this.body.nodes[e]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},g6.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},g6.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},g6.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},g6.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},g6.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},g6.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},g6.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},g6.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},g6.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},g6.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},g6.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},g6.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},g6.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},g6.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},g6.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},g6.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},g6.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},g6.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},g6.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},g6.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},g6.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e},e.Network=g6,e.NetworkImages=cq,e.networkDOTParser=cj,e.networkGephiParser=cH,e.networkOptions=g5,e.parseDOTNetwork=cR,e.parseGephiNetwork=cL}(i,o(801))}}]);